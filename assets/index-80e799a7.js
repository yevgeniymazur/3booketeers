(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qv={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb=Symbol.for("react.transitional.element"),ab=Symbol.for("react.fragment");function Fv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:sb,type:e,key:i,ref:t!==void 0?t:null,props:n}}dc.Fragment=ab;dc.jsx=Fv;dc.jsxs=Fv;qv.exports=dc;var O=qv.exports,Gv={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.transitional.element"),ob=Symbol.for("react.portal"),lb=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),hb=Symbol.for("react.consumer"),fb=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),mb=Symbol.for("react.suspense"),pb=Symbol.for("react.memo"),Yv=Symbol.for("react.lazy"),Lg=Symbol.iterator;function gb(e){return e===null||typeof e!="object"?null:(e=Lg&&e[Lg]||e["@@iterator"],typeof e=="function"?e:null)}var Kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qv=Object.assign,$v={};function js(e,t,n){this.props=e,this.context=t,this.refs=$v,this.updater=n||Kv}js.prototype.isReactComponent={};js.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};js.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xv(){}Xv.prototype=js.prototype;function jd(e,t,n){this.props=e,this.context=t,this.refs=$v,this.updater=n||Kv}var Hd=jd.prototype=new Xv;Hd.constructor=jd;Qv(Hd,js.prototype);Hd.isPureReactComponent=!0;var Ug=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},Wv=Object.prototype.hasOwnProperty;function qd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Bd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function yb(e,t){return qd(e.type,t,void 0,void 0,void 0,e.props)}function Fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd}function _b(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zg=/\/+/g;function Sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_b(""+e.key):t.toString(36)}function Bg(){}function vb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Bg,Bg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function jr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bd:case ob:a=!0;break;case Yv:return a=e._init,jr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Sh(e,0):i,Ug(r)?(n="",a!=null&&(n=a.replace(zg,"$&/")+"/"),jr(r,t,n,"",function(c){return c})):r!=null&&(Fd(r)&&(r=yb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(zg,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Ug(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Sh(i,u),a+=jr(i,t,n,s,r);else if(u=gb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Sh(i,u++),a+=jr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return jr(vb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Sl(e,t,n){if(e==null)return e;var i=[],r=0;return jr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tb(){}J.Children={map:Sl,forEach:function(e,t,n){Sl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sl(e,function(){t++}),t},toArray:function(e){return Sl(e,function(t){return t})||[]},only:function(e){if(!Fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=js;J.Fragment=lb;J.Profiler=cb;J.PureComponent=jd;J.StrictMode=ub;J.Suspense=mb;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return bt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Qv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Wv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return qd(e.type,r,void 0,void 0,s,i)};J.createContext=function(e){return e={$$typeof:fb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:hb,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Wv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return qd(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:db,render:e}};J.isValidElement=Fd;J.lazy=function(e){return{$$typeof:Yv,_payload:{_status:-1,_result:e},_init:Eb}};J.memo=function(e,t){return{$$typeof:pb,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=bt.T,n={};bt.T=n;try{var i=e(),r=bt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Tb,jg)}catch(s){jg(s)}finally{bt.T=t}};J.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()};J.use=function(e){return bt.H.use(e)};J.useActionState=function(e,t,n){return bt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return bt.H.useCallback(e,t)};J.useContext=function(e){return bt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return bt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=bt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return bt.H.useId()};J.useImperativeHandle=function(e,t,n){return bt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return bt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return bt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return bt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return bt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return bt.H.useReducer(e,t,n)};J.useRef=function(e){return bt.H.useRef(e)};J.useState=function(e){return bt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return bt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return bt.H.useTransition()};J.version="19.1.0";Gv.exports=J;var V=Gv.exports;const Sb=Hv(V);var Zv={exports:{}},mc={},Jv={exports:{}},t0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,Z){var X=H.length;H.push(Z);t:for(;0<X;){var vt=X-1>>>1,xt=H[vt];if(0<r(xt,Z))H[vt]=Z,H[X]=xt,X=vt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;t:for(var vt=0,xt=H.length,Vr=xt>>>1;vt<Vr;){var we=2*(vt+1)-1,kt=H[we],Rn=we+1,sn=H[Rn];if(0>r(kt,X))Rn<xt&&0>r(sn,kt)?(H[vt]=sn,H[Rn]=X,vt=Rn):(H[vt]=kt,H[we]=X,vt=we);else if(Rn<xt&&0>r(sn,X))H[vt]=sn,H[Rn]=X,vt=Rn;else break t}}return Z}function r(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,m=3,g=!1,C=!1,D=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=H)i(c),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(c)}}function z(H){if(D=!1,M(H),!C)if(n(u)!==null)C=!0,j||(j=!0,x());else{var Z=n(c);Z!==null&&wn(z,Z.startTime-H)}}var j=!1,S=-1,v=5,T=-1;function b(){return R?!0:!(e.unstable_now()-T<v)}function I(){if(R=!1,j){var H=e.unstable_now();T=H;var Z=!0;try{t:{C=!1,D&&(D=!1,_(S),S=-1),g=!0;var X=m;try{e:{for(M(H),p=n(u);p!==null&&!(p.expirationTime>H&&b());){var vt=p.callback;if(typeof vt=="function"){p.callback=null,m=p.priorityLevel;var xt=vt(p.expirationTime<=H);if(H=e.unstable_now(),typeof xt=="function"){p.callback=xt,M(H),Z=!0;break e}p===n(u)&&i(u),M(H)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var Vr=n(c);Vr!==null&&wn(z,Vr.startTime-H),Z=!1}}break t}finally{p=null,m=X,g=!1}Z=void 0}}finally{Z?x():j=!1}}}var x;if(typeof A=="function")x=function(){A(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Qe=w.port2;w.port1.onmessage=I,x=function(){Qe.postMessage(null)}}else x=function(){E(I,0)};function wn(H,Z){S=E(function(){H(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var X=m;m=Z;try{return H()}finally{m=X}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return Z()}finally{m=X}},e.unstable_scheduleCallback=function(H,Z,X){var vt=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?vt+X:vt):X=vt,H){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=X+xt,H={id:d++,callback:Z,priorityLevel:H,startTime:X,expirationTime:xt,sortIndex:-1},X>vt?(H.sortIndex=X,t(c,H),n(u)===null&&H===n(c)&&(D?(_(S),S=-1):D=!0,wn(z,X-vt))):(H.sortIndex=xt,t(u,H),C||g||(C=!0,j||(j=!0,x()))),H},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(H){var Z=m;return function(){var X=m;m=Z;try{return H.apply(this,arguments)}finally{m=X}}}})(t0);Jv.exports=t0;var Ab=Jv.exports,e0={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb=V;function n0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function si(){}var ge={d:{f:si,r:function(){throw Error(n0(522))},D:si,C:si,L:si,m:si,X:si,S:si,M:si},p:0,findDOMNode:null},wb=Symbol.for("react.portal");function Rb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ka=bb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function pc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n0(299));return Rb(e,t,null,n)};_e.flushSync=function(e){var t=ka.T,n=ge.p;try{if(ka.T=null,ge.p=2,e)return e()}finally{ka.T=t,ge.p=n,ge.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ge.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ge.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=pc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ge.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&ge.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=pc(t.as,t.crossOrigin);ge.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ge.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=pc(n,t.crossOrigin);ge.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=pc(t.as,t.crossOrigin);ge.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ge.d.m(e)};_e.requestFormReset=function(e){ge.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return ka.H.useFormState(e,t,n)};_e.useFormStatus=function(){return ka.H.useHostTransitionStatus()};_e.version="19.1.0";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(e){console.error(e)}}i0(),e0.exports=_e;var Ib=e0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=Ab,r0=V,Cb=Ib;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Do(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function a0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hg(e){if(Do(e)!==e)throw Error(L(188))}function Db(e){var t=e.alternate;if(!t){if(t=Do(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Hg(r),e;if(s===i)return Hg(r),t;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function o0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=o0(e),t!==null)return t;e=e.sibling}return null}var Tt=Object.assign,Ob=Symbol.for("react.element"),Al=Symbol.for("react.transitional.element"),Ia=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),u0=Symbol.for("react.consumer"),Mn=Symbol.for("react.context"),Gd=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Sf=Symbol.for("react.activity"),xb=Symbol.for("react.memo_cache_sentinel"),qg=Symbol.iterator;function ya(e){return e===null||typeof e!="object"?null:(e=qg&&e[qg]||e["@@iterator"],typeof e=="function"?e:null)}var Mb=Symbol.for("react.client.reference");function Af(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Mb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case vf:return"Profiler";case l0:return"StrictMode";case Ef:return"Suspense";case Tf:return"SuspenseList";case Sf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ia:return"Portal";case Mn:return(e.displayName||"Context")+".Provider";case u0:return(e._context.displayName||"Context")+".Consumer";case Gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yd:return t=e.displayName||null,t!==null?t:Af(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Af(e(t))}catch{}}return null}var Ca=Array.isArray,Q=r0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=Cb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lr={pending:!1,data:null,method:null,action:null},bf=[],Xr=-1;function Tn(e){return{current:e}}function Xt(e){0>Xr||(e.current=bf[Xr],bf[Xr]=null,Xr--)}function wt(e,t){Xr++,bf[Xr]=e.current,e.current=t}var hn=Tn(null),io=Tn(null),wi=Tn(null),gu=Tn(null);function yu(e,t){switch(wt(wi,t),wt(io,e),wt(hn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qy(t),e=RT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Xt(hn),wt(hn,e)}function Es(){Xt(hn),Xt(io),Xt(wi)}function wf(e){e.memoizedState!==null&&wt(gu,e);var t=hn.current,n=RT(t,e.type);t!==n&&(wt(io,e),wt(hn,n))}function _u(e){io.current===e&&(Xt(hn),Xt(io)),gu.current===e&&(Xt(gu),mo._currentValue=lr)}var Rf=Object.prototype.hasOwnProperty,Kd=Gt.unstable_scheduleCallback,Ah=Gt.unstable_cancelCallback,Vb=Gt.unstable_shouldYield,Pb=Gt.unstable_requestPaint,fn=Gt.unstable_now,kb=Gt.unstable_getCurrentPriorityLevel,c0=Gt.unstable_ImmediatePriority,h0=Gt.unstable_UserBlockingPriority,vu=Gt.unstable_NormalPriority,Lb=Gt.unstable_LowPriority,f0=Gt.unstable_IdlePriority,Ub=Gt.log,zb=Gt.unstable_setDisableYieldValue,Oo=null,Ne=null;function Ei(e){if(typeof Ub=="function"&&zb(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Oo,e)}catch{}}var xe=Math.clz32?Math.clz32:Hb,Bb=Math.log,jb=Math.LN2;function Hb(e){return e>>>=0,e===0?32:31-(Bb(e)/jb|0)|0}var bl=256,wl=4194304;function ir(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=ir(i):(a&=l,a!==0?r=ir(a):n||(n=l&~e,n!==0&&(r=ir(n))))):(l=i&~s,l!==0?r=ir(l):a!==0?r=ir(a):n||(n=i&~e,n!==0&&(r=ir(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function No(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d0(){var e=bl;return bl<<=1,!(bl&4194048)&&(bl=256),e}function m0(){var e=wl;return wl<<=1,!(wl&62914560)&&(wl=4194304),e}function bh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-xe(n),p=1<<d;l[d]=0,u[d]=-1;var m=c[d];if(m!==null)for(c[d]=null,d=0;d<m.length;d++){var g=m[d];g!==null&&(g.lane&=-536870913)}n&=~p}i!==0&&p0(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function p0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function g0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Qd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $d(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function y0(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:kT(e.type))}function Gb(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var Qi=Math.random().toString(36).slice(2),ce="__reactFiber$"+Qi,Ae="__reactProps$"+Qi,Hs="__reactContainer$"+Qi,If="__reactEvents$"+Qi,Yb="__reactListeners$"+Qi,Kb="__reactHandles$"+Qi,Fg="__reactResources$"+Qi,Mo="__reactMarker$"+Qi;function Xd(e){delete e[ce],delete e[Ae],delete e[If],delete e[Yb],delete e[Kb]}function Wr(e){var t=e[ce];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hs]||n[ce]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wy(e);e!==null;){if(n=e[ce])return n;e=Wy(e)}return t}e=n,n=e.parentNode}return null}function qs(e){if(e=e[ce]||e[Hs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function ls(e){var t=e[Fg];return t||(t=e[Fg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qt(e){e[Mo]=!0}var _0=new Set,v0={};function wr(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(v0[e]=t,e=0;e<t.length;e++)_0.add(t[e])}var Qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gg={},Yg={};function $b(e){return Rf.call(Yg,e)?!0:Rf.call(Gg,e)?!1:Qb.test(e)?Yg[e]=!0:(Gg[e]=!0,!1)}function Gl(e,t,n){if($b(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Dn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var wh,Kg;function Hr(e){if(wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wh=t&&t[1]||"",Kg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wh+e+Kg}var Rh=!1;function Ih(e,t){if(!e||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var m=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){m=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){m=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Hr(n):""}function Xb(e){switch(e.tag){case 26:case 27:case 5:return Hr(e.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return Ih(e.type,!1);case 11:return Ih(e.type.render,!1);case 1:return Ih(e.type,!0);case 31:return Hr("Activity");default:return""}}function Qg(e){try{var t="";do t+=Xb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wb(e){var t=E0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eu(e){e._valueTracker||(e._valueTracker=Wb(e))}function T0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=E0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zb=/[\n"\\]/g;function Be(e){return e.replace(Zb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Le(t)):e.value!==""+Le(t)&&(e.value=""+Le(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Df(e,a,Le(t)):n!=null?Df(e,a,Le(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Le(l):e.removeAttribute("name")}function S0(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Le(n):"",t=t!=null?""+Le(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Df(e,t,n){t==="number"&&Tu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function us(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function A0(e,t,n){if(t!=null&&(t=""+Le(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Le(n):""}function b0(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Ca(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Le(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $g(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Jb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function w0(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&$g(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&$g(e,s,t[s])}function Wd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ew=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(e){return ew.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Of=null;function Zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zr=null,cs=null;function Xg(e){var t=qs(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;t:switch(e=t.stateNode,t.type){case"input":if(Cf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Be(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ae]||null;if(!r)throw Error(L(90));Cf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&T0(i)}break t;case"textarea":A0(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&us(e,!!n.multiple,t,!1)}}}var Ch=!1;function R0(e,t,n){if(Ch)return e(t,n);Ch=!0;try{var i=e(t);return i}finally{if(Ch=!1,(Zr!==null||cs!==null)&&(Rc(),Zr&&(t=Zr,e=cs,cs=Zr=null,Xg(t),e)))for(t=0;t<e.length;t++)Xg(e[t])}}function ro(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ae]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(Fn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Nf=!1}var Ti=null,Jd=null,Kl=null;function I0(){if(Kl)return Kl;var e,t=Jd,n=t.length,i,r="value"in Ti?Ti.value:Ti.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return Kl=r.slice(e,1<i?1-i:void 0)}function Ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Wg(){return!1}function be(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Il:Wg,this.isPropagationStopped=Wg,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=be(Rr),Vo=Tt({},Rr,{view:0,detail:0}),nw=be(Vo),Dh,Oh,va,_c=Tt({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(Dh=e.screenX-va.screenX,Oh=e.screenY-va.screenY):Oh=Dh=0,va=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:Oh}}),Zg=be(_c),iw=Tt({},_c,{dataTransfer:0}),rw=be(iw),sw=Tt({},Vo,{relatedTarget:0}),Nh=be(sw),aw=Tt({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=be(aw),lw=Tt({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uw=be(lw),cw=Tt({},Rr,{data:0}),Jg=be(cw),hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dw[e])?!!t[e]:!1}function tm(){return mw}var pw=Tt({},Vo,{key:function(e){if(e.key){var t=hw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tm,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gw=be(pw),yw=Tt({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=be(yw),_w=Tt({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tm}),vw=be(_w),Ew=Tt({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tw=be(Ew),Sw=Tt({},_c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aw=be(Sw),bw=Tt({},Rr,{newState:0,oldState:0}),ww=be(bw),Rw=[9,13,27,32],em=Fn&&"CompositionEvent"in window,La=null;Fn&&"documentMode"in document&&(La=document.documentMode);var Iw=Fn&&"TextEvent"in window&&!La,C0=Fn&&(!em||La&&8<La&&11>=La),ey=String.fromCharCode(32),ny=!1;function D0(e,t){switch(e){case"keyup":return Rw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Cw(e,t){switch(e){case"compositionend":return O0(t);case"keypress":return t.which!==32?null:(ny=!0,ey);case"textInput":return e=t.data,e===ey&&ny?null:e;default:return null}}function Dw(e,t){if(Jr)return e==="compositionend"||!em&&D0(e,t)?(e=I0(),Kl=Jd=Ti=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C0&&t.locale!=="ko"?null:t.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ow[e.type]:t==="textarea"}function N0(e,t,n,i){Zr?cs?cs.push(i):cs=[i]:Zr=i,t=zu(t,"onChange"),0<t.length&&(n=new yc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ua=null,so=null;function Nw(e){AT(e,0)}function vc(e){var t=Da(e);if(T0(t))return e}function ry(e,t){if(e==="change")return t}var x0=!1;if(Fn){var xh;if(Fn){var Mh="oninput"in document;if(!Mh){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),Mh=typeof sy.oninput=="function"}xh=Mh}else xh=!1;x0=xh&&(!document.documentMode||9<document.documentMode)}function ay(){Ua&&(Ua.detachEvent("onpropertychange",M0),so=Ua=null)}function M0(e){if(e.propertyName==="value"&&vc(so)){var t=[];N0(t,so,e,Zd(e)),R0(Nw,t)}}function xw(e,t,n){e==="focusin"?(ay(),Ua=t,so=n,Ua.attachEvent("onpropertychange",M0)):e==="focusout"&&ay()}function Mw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vc(so)}function Vw(e,t){if(e==="click")return vc(t)}function Pw(e,t){if(e==="input"||e==="change")return vc(t)}function kw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pe=typeof Object.is=="function"?Object.is:kw;function ao(e,t){if(Pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Rf.call(t,r)||!Pe(e[r],t[r]))return!1}return!0}function oy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ly(e,t){var n=oy(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=oy(n)}}function V0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Tu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tu(e.document)}return t}function nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lw=Fn&&"documentMode"in document&&11>=document.documentMode,ts=null,xf=null,za=null,Mf=!1;function uy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mf||ts==null||ts!==Tu(i)||(i=ts,"selectionStart"in i&&nm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),za&&ao(za,i)||(za=i,i=zu(xf,"onSelect"),0<i.length&&(t=new yc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ts)))}function nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},Vh={},k0={};Fn&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Ir(e){if(Vh[e])return Vh[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k0)return Vh[e]=t[n];return e}var L0=Ir("animationend"),U0=Ir("animationiteration"),z0=Ir("animationstart"),Uw=Ir("transitionrun"),zw=Ir("transitionstart"),Bw=Ir("transitioncancel"),B0=Ir("transitionend"),j0=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function nn(e,t){j0.set(e,t),wr(t,[e])}var cy=new WeakMap;function je(e,t){if(typeof e=="object"&&e!==null){var n=cy.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qg(t)},cy.set(e,t),t)}return{value:e,source:t,stack:Qg(t)}}var ke=[],ns=0,im=0;function Ec(){for(var e=ns,t=im=ns=0;t<e;){var n=ke[t];ke[t++]=null;var i=ke[t];ke[t++]=null;var r=ke[t];ke[t++]=null;var s=ke[t];if(ke[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&H0(n,r,s)}}function Tc(e,t,n,i){ke[ns++]=e,ke[ns++]=t,ke[ns++]=n,ke[ns++]=i,im|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function rm(e,t,n,i){return Tc(e,t,n,i),Su(e)}function Fs(e,t){return Tc(e,null,null,t),Su(e)}function H0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-xe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Su(e){if(50<$a)throw $a=0,ed=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function jw(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,i){return new jw(e,t,n,i)}function sm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function q0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $l(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")sm(e)&&(a=1);else if(typeof e=="string")a=qR(e,n,hn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Sf:return e=Oe(31,n,t,r),e.elementType=Sf,e.lanes=s,e;case $r:return ur(n.children,r,s,t);case l0:a=8,r|=24;break;case vf:return e=Oe(12,n,t,r|2),e.elementType=vf,e.lanes=s,e;case Ef:return e=Oe(13,n,t,r),e.elementType=Ef,e.lanes=s,e;case Tf:return e=Oe(19,n,t,r),e.elementType=Tf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nb:case Mn:a=10;break t;case u0:a=9;break t;case Gd:a=11;break t;case Yd:a=14;break t;case ci:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Oe(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function ur(e,t,n,i){return e=Oe(7,e,i,t),e.lanes=n,e}function Ph(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function kh(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rs=[],ss=0,Au=null,bu=0,Ue=[],ze=0,cr=null,Vn=1,Pn="";function rr(e,t){rs[ss++]=bu,rs[ss++]=Au,Au=e,bu=t}function F0(e,t,n){Ue[ze++]=Vn,Ue[ze++]=Pn,Ue[ze++]=cr,cr=e;var i=Vn;e=Pn;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var s=32-xe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Vn=1<<32-xe(t)+r|n<<r|i,Pn=s+e}else Vn=1<<s|n<<r|i,Pn=e}function am(e){e.return!==null&&(rr(e,1),F0(e,1,0))}function om(e){for(;e===Au;)Au=rs[--ss],rs[ss]=null,bu=rs[--ss],rs[ss]=null;for(;e===cr;)cr=Ue[--ze],Ue[ze]=null,Pn=Ue[--ze],Ue[ze]=null,Vn=Ue[--ze],Ue[ze]=null}var pe=null,Ot=null,ut=!1,hr=null,un=!1,Pf=Error(L(519));function pr(e){var t=Error(L(418,""));throw oo(je(t,e)),Pf}function hy(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ce]=e,t[Ae]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<co.length;n++)nt(co[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),S0(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Eu(t);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),b0(t,i.value,i.defaultValue,i.children),Eu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||wT(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=Dc),t=!0):t=!1,t||pr(e)}function fy(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:pe=pe.return}}function Ea(e){if(e!==pe)return!1;if(!ut)return fy(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||od(e.type,e.memoizedProps)),n=!n),n&&Ot&&pr(e),fy(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ot=Je(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ot=null}}else t===27?(t=Ot,$i(e.type)?(e=cd,cd=null,Ot=e):Ot=t):Ot=pe?Je(e.stateNode.nextSibling):null;return!0}function Po(){Ot=pe=null,ut=!1}function dy(){var e=hr;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),hr=null),e}function oo(e){hr===null?hr=[e]:hr.push(e)}var kf=Tn(null),Cr=null,kn=null;function fi(e,t,n){wt(kf,t._currentValue),t._currentValue=n}function jn(e){e._currentValue=kf.current,Xt(kf)}function Lf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Uf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Lf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function ko(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;Pe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===gu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(mo):e=[mo])}r=r.return}e!==null&&Uf(t,e,n,i),t.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!Pe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gr(e){Cr=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function he(e){return G0(Cr,e)}function Cl(e,t){return Cr===null&&gr(e),G0(e,t)}function G0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},kn===null){if(e===null)throw Error(L(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return n}var Hw=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},qw=Gt.unstable_scheduleCallback,Fw=Gt.unstable_NormalPriority,Bt={$$typeof:Mn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new Hw,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&qw(Fw,function(){e.controller.abort()})}var Ba=null,zf=0,As=0,hs=null;function Gw(e,t){if(Ba===null){var n=Ba=[];zf=0,As=Nm(),hs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return zf++,t.then(my,my),t}function my(){if(--zf===0&&Ba!==null){hs!==null&&(hs.status="fulfilled");var e=Ba;Ba=null,As=0,hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yw(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var py=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gw(e,t),py!==null&&py(e,t)};var fr=Tn(null);function um(){var e=fr.current;return e!==null?e:_t.pooledCache}function Xl(e,t){t===null?wt(fr,fr.current):wt(fr,t.pool)}function Y0(){var e=um();return e===null?null:{parent:Bt._currentValue,pool:e}}var Uo=Error(L(460)),K0=Error(L(474)),Sc=Error(L(542)),Bf={then:function(){}};function gy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dl(){}function Q0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Dl,Dl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_y(e),e;default:if(typeof t.status=="string")t.then(Dl,Dl);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_y(e),e}throw ja=t,Uo}}var ja=null;function yy(){if(ja===null)throw Error(L(459));var e=ja;return ja=null,e}function _y(e){if(e===Uo||e===Sc)throw Error(L(483))}var hi=!1;function cm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Su(e),H0(e,null,n),t}return Tc(e,i,t,n),Su(e)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,g0(e,n)}}function Lh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Hf=!1;function qa(){if(Hf){var e=hs;if(e!==null)throw e}}function Fa(e,t,n,i){Hf=!1;var r=e.updateQueue;hi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=c=u=null,l=s;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(ot&m)===m:(i&m)===m){m!==0&&m===As&&(Hf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var C=e,D=l;m=t;var R=n;switch(D.tag){case 1:if(C=D.payload,typeof C=="function"){p=C.call(R,p,m);break t}p=C;break t;case 3:C.flags=C.flags&-65537|128;case 0:if(C=D.payload,m=typeof C=="function"?C.call(R,p,m):C,m==null)break t;p=Tt({},p,m);break t;case 2:hi=!0}}m=l.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=r.callbacks,g===null?r.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=g,u=p):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),ji|=a,e.lanes=a,e.memoizedState=p}}function $0(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function X0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$0(n[e],t)}var bs=Tn(null),Ru=Tn(0);function vy(e,t){e=Kn,wt(Ru,e),wt(bs,t),Kn=e|t.baseLanes}function qf(){wt(Ru,Kn),wt(bs,bs.current)}function hm(){Kn=Ru.current,Xt(bs),Xt(Ru)}var zi=0,et=null,pt=null,Ut=null,Iu=!1,fs=!1,yr=!1,Cu=0,lo=0,ds=null,Kw=0;function Mt(){throw Error(L(321))}function fm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pe(e[n],t[n]))return!1;return!0}function dm(e,t,n,i,r,s){return zi=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?IE:CE,yr=!1,s=n(i,r),yr=!1,fs&&(s=Z0(t,n,i,r)),W0(e),s}function W0(e){Q.H=Du;var t=pt!==null&&pt.next!==null;if(zi=0,Ut=pt=et=null,Iu=!1,lo=0,ds=null,t)throw Error(L(300));e===null||$t||(e=e.dependencies,e!==null&&wu(e)&&($t=!0))}function Z0(e,t,n,i){et=e;var r=0;do{if(fs&&(ds=null),lo=0,fs=!1,25<=r)throw Error(L(301));if(r+=1,Ut=pt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=tR,s=t(n,i)}while(fs);return s}function Qw(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?zo(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(et.flags|=1024),t}function mm(){var e=Cu!==0;return Cu=0,e}function pm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function gm(e){if(Iu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Iu=!1}zi=0,Ut=pt=et=null,fs=!1,lo=Cu=0,ds=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?et.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function zt(){if(pt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Ut===null?et.memoizedState:Ut.next;if(t!==null)Ut=t,pt=e;else{if(e===null)throw et.alternate===null?Error(L(467)):Error(L(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ut===null?et.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var t=lo;return lo+=1,ds===null&&(ds=[]),e=Q0(ds,e,t),t=et,(Ut===null?t.memoizedState:Ut.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?IE:CE),e}function Ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===Mn)return he(e)}throw Error(L(438,String(e)))}function _m(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ym(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=xb;return t.index++,n}function Gn(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=zt();return vm(t,pt,e)}function vm(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,c=t,d=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ot&p)===p:(zi&p)===p){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===As&&(d=!0);else if((zi&m)===m){c=c.next,m===As&&(d=!0);continue}else p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,et.lanes|=m,ji|=m;p=c.action,yr&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else m={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,et.lanes|=p,ji|=p;c=c.next}while(c!==null&&c!==t);if(u===null?a=s:u.next=l,!Pe(s,e.memoizedState)&&($t=!0,d&&(n=hs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Uh(e){var t=zt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Pe(s,t.memoizedState)||($t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function J0(e,t,n){var i=et,r=zt(),s=ut;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Pe((pt||r).memoizedState,n);a&&(r.memoizedState=n,$t=!0),r=r.queue;var l=nE.bind(null,i,r,e);if(Bo(2048,8,l,[e]),r.getSnapshot!==t||a||Ut!==null&&Ut.memoizedState.tag&1){if(i.flags|=2048,ws(9,bc(),eE.bind(null,i,r,n,t),null),_t===null)throw Error(L(349));s||zi&124||tE(i,t,n)}return n}function tE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=ym(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eE(e,t,n,i){t.value=n,t.getSnapshot=i,iE(t)&&rE(e)}function nE(e,t,n){return n(function(){iE(t)&&rE(e)})}function iE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pe(e,n)}catch{return!0}}function rE(e){var t=Fs(e,2);t!==null&&Ve(t,e,2)}function Ff(e){var t=ve();if(typeof e=="function"){var n=e;if(e=n(),yr){Ei(!0);try{n()}finally{Ei(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t}function sE(e,t,n,i){return e.baseState=n,vm(e,pt,typeof i=="function"?i:Gn)}function $w(e,t,n,i,r){if(wc(e))throw Error(L(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,aE(t,s)):(s.next=n.next,t.pending=n.next=s)}}function aE(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Q.T,a={};Q.T=a;try{var l=n(r,i),u=Q.S;u!==null&&u(a,l),Ey(e,t,l)}catch(c){Gf(e,t,c)}finally{Q.T=s}}else try{s=n(r,i),Ey(e,t,s)}catch(c){Gf(e,t,c)}}function Ey(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ty(e,t,i)},function(i){return Gf(e,t,i)}):Ty(e,t,n)}function Ty(e,t,n){t.status="fulfilled",t.value=n,oE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,aE(e,n)))}function Gf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,oE(t),t=t.next;while(t!==i)}e.action=null}function oE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lE(e,t){return t}function Sy(e,t){if(ut){var n=_t.formState;if(n!==null){t:{var i=et;if(ut){if(Ot){e:{for(var r=Ot,s=un;r.nodeType!==8;){if(!s){r=null;break e}if(r=Je(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ot=Je(r.nextSibling),i=r.data==="F!";break t}}pr(i)}i=!1}i&&(t=n[0])}}return n=ve(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lE,lastRenderedState:t},n.queue=i,n=bE.bind(null,et,i),i.dispatch=n,i=Ff(!1),s=Am.bind(null,et,!1,i.queue),i=ve(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=$w.bind(null,et,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ay(e){var t=zt();return uE(t,pt,e)}function uE(e,t,n){if(t=vm(e,t,lE)[0],e=Wl(Gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=zo(t)}catch(a){throw a===Uo?Sc:a}else i=t;t=zt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(et.flags|=2048,ws(9,bc(),Xw.bind(null,r,n),null)),[i,s,e]}function Xw(e,t){e.action=t}function by(e){var t=zt(),n=pt;if(n!==null)return uE(t,n,e);zt(),t=t.memoizedState,n=zt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ws(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=ym(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function bc(){return{destroy:void 0,resource:void 0}}function cE(){return zt().memoizedState}function Zl(e,t,n,i){var r=ve();i=i===void 0?null:i,et.flags|=e,r.memoizedState=ws(1|t,bc(),n,i)}function Bo(e,t,n,i){var r=zt();i=i===void 0?null:i;var s=r.memoizedState.inst;pt!==null&&i!==null&&fm(i,pt.memoizedState.deps)?r.memoizedState=ws(t,s,n,i):(et.flags|=e,r.memoizedState=ws(1|t,s,n,i))}function wy(e,t){Zl(8390656,8,e,t)}function hE(e,t){Bo(2048,8,e,t)}function fE(e,t){return Bo(4,2,e,t)}function dE(e,t){return Bo(4,4,e,t)}function mE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pE(e,t,n){n=n!=null?n.concat([e]):null,Bo(4,4,mE.bind(null,t,e),n)}function Em(){}function gE(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&fm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function yE(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&fm(t,i[1]))return i[0];if(i=e(),yr){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i}function Tm(e,t,n){return n===void 0||zi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=oT(),et.lanes|=e,ji|=e,n)}function _E(e,t,n,i){return Pe(n,t)?n:bs.current!==null?(e=Tm(e,n,i),Pe(e,t)||($t=!0),e):zi&42?(e=oT(),et.lanes|=e,ji|=e,t):($t=!0,e.memoizedState=n)}function vE(e,t,n,i,r){var s=ct.p;ct.p=s!==0&&8>s?s:8;var a=Q.T,l={};Q.T=l,Am(e,!1,t,n);try{var u=r(),c=Q.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Yw(u,i);Ga(e,t,d,Me(e))}else Ga(e,t,i,Me(e))}catch(p){Ga(e,t,{then:function(){},status:"rejected",reason:p},Me())}finally{ct.p=s,Q.T=a}}function Ww(){}function Yf(e,t,n,i){if(e.tag!==5)throw Error(L(476));var r=EE(e).queue;vE(e,r,t,lr,n===null?Ww:function(){return TE(e),n(i)})}function EE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:lr,baseState:lr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:lr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function TE(e){var t=EE(e).next.queue;Ga(e,t,{},Me())}function Sm(){return he(mo)}function SE(){return zt().memoizedState}function AE(){return zt().memoizedState}function Zw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Me();e=Ri(n);var i=Ii(t,e,n);i!==null&&(Ve(i,t,n),Ha(i,t,n)),t={cache:lm()},e.payload=t;return}t=t.return}}function Jw(e,t,n){var i=Me();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wc(e)?wE(t,n):(n=rm(e,t,n,i),n!==null&&(Ve(n,e,i),RE(n,t,i)))}function bE(e,t,n){var i=Me();Ga(e,t,n,i)}function Ga(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wc(e))wE(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Pe(l,a))return Tc(e,t,r,0),_t===null&&Ec(),!1}catch{}finally{}if(n=rm(e,t,r,i),n!==null)return Ve(n,e,i),RE(n,t,i),!0}return!1}function Am(e,t,n,i){if(i={lane:2,revertLane:Nm(),action:i,hasEagerState:!1,eagerState:null,next:null},wc(e)){if(t)throw Error(L(479))}else t=rm(e,n,i,2),t!==null&&Ve(t,e,2)}function wc(e){var t=e.alternate;return e===et||t!==null&&t===et}function wE(e,t){fs=Iu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function RE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,g0(e,n)}}var Du={readContext:he,use:Ac,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},IE={readContext:he,use:Ac,useCallback:function(e,t){return ve().memoizedState=[e,t===void 0?null:t],e},useContext:he,useEffect:wy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zl(4194308,4,mE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){Zl(4,2,e,t)},useMemo:function(e,t){var n=ve();t=t===void 0?null:t;var i=e();if(yr){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ve();if(n!==void 0){var r=n(t);if(yr){Ei(!0);try{n(t)}finally{Ei(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Jw.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=ve();return e={current:e},t.memoizedState=e},useState:function(e){e=Ff(e);var t=e.queue,n=bE.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Em,useDeferredValue:function(e,t){var n=ve();return Tm(n,e,t)},useTransition:function(){var e=Ff(!1);return e=vE.bind(null,et,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,r=ve();if(ut){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),_t===null)throw Error(L(349));ot&124||tE(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,wy(nE.bind(null,i,s,e),[e]),i.flags|=2048,ws(9,bc(),eE.bind(null,i,s,n,t),null),n},useId:function(){var e=ve(),t=_t.identifierPrefix;if(ut){var n=Pn,i=Vn;n=(i&~(1<<32-xe(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Cu++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Kw++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Sm,useFormState:Sy,useActionState:Sy,useOptimistic:function(e){var t=ve();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Am.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:_m,useCacheRefresh:function(){return ve().memoizedState=Zw.bind(null,et)}},CE={readContext:he,use:Ac,useCallback:gE,useContext:he,useEffect:hE,useImperativeHandle:pE,useInsertionEffect:fE,useLayoutEffect:dE,useMemo:yE,useReducer:Wl,useRef:cE,useState:function(){return Wl(Gn)},useDebugValue:Em,useDeferredValue:function(e,t){var n=zt();return _E(n,pt.memoizedState,e,t)},useTransition:function(){var e=Wl(Gn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:J0,useId:SE,useHostTransitionStatus:Sm,useFormState:Ay,useActionState:Ay,useOptimistic:function(e,t){var n=zt();return sE(n,pt,e,t)},useMemoCache:_m,useCacheRefresh:AE},tR={readContext:he,use:Ac,useCallback:gE,useContext:he,useEffect:hE,useImperativeHandle:pE,useInsertionEffect:fE,useLayoutEffect:dE,useMemo:yE,useReducer:Uh,useRef:cE,useState:function(){return Uh(Gn)},useDebugValue:Em,useDeferredValue:function(e,t){var n=zt();return pt===null?Tm(n,e,t):_E(n,pt.memoizedState,e,t)},useTransition:function(){var e=Uh(Gn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:J0,useId:SE,useHostTransitionStatus:Sm,useFormState:by,useActionState:by,useOptimistic:function(e,t){var n=zt();return pt!==null?sE(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:_m,useCacheRefresh:AE},ms=null,uo=0;function Ol(e){var t=uo;return uo+=1,ms===null&&(ms=[]),Q0(ms,e,t)}function Ta(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nl(e,t){throw t.$$typeof===Ob?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ry(e){var t=e._init;return t(e._payload)}function DE(e){function t(E,_){if(e){var A=E.deletions;A===null?(E.deletions=[_],E.flags|=16):A.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function i(E){for(var _=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function r(E,_){return E=Bn(E,_),E.index=0,E.sibling=null,E}function s(E,_,A){return E.index=A,e?(A=E.alternate,A!==null?(A=A.index,A<_?(E.flags|=67108866,_):A):(E.flags|=67108866,_)):(E.flags|=1048576,_)}function a(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function l(E,_,A,M){return _===null||_.tag!==6?(_=Ph(A,E.mode,M),_.return=E,_):(_=r(_,A),_.return=E,_)}function u(E,_,A,M){var z=A.type;return z===$r?d(E,_,A.props.children,M,A.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Ry(z)===_.type)?(_=r(_,A.props),Ta(_,A),_.return=E,_):(_=$l(A.type,A.key,A.props,null,E.mode,M),Ta(_,A),_.return=E,_)}function c(E,_,A,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=kh(A,E.mode,M),_.return=E,_):(_=r(_,A.children||[]),_.return=E,_)}function d(E,_,A,M,z){return _===null||_.tag!==7?(_=ur(A,E.mode,M,z),_.return=E,_):(_=r(_,A),_.return=E,_)}function p(E,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ph(""+_,E.mode,A),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Al:return A=$l(_.type,_.key,_.props,null,E.mode,A),Ta(A,_),A.return=E,A;case Ia:return _=kh(_,E.mode,A),_.return=E,_;case ci:var M=_._init;return _=M(_._payload),p(E,_,A)}if(Ca(_)||ya(_))return _=ur(_,E.mode,A,null),_.return=E,_;if(typeof _.then=="function")return p(E,Ol(_),A);if(_.$$typeof===Mn)return p(E,Cl(E,_),A);Nl(E,_)}return null}function m(E,_,A,M){var z=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:l(E,_,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Al:return A.key===z?u(E,_,A,M):null;case Ia:return A.key===z?c(E,_,A,M):null;case ci:return z=A._init,A=z(A._payload),m(E,_,A,M)}if(Ca(A)||ya(A))return z!==null?null:d(E,_,A,M,null);if(typeof A.then=="function")return m(E,_,Ol(A),M);if(A.$$typeof===Mn)return m(E,_,Cl(E,A),M);Nl(E,A)}return null}function g(E,_,A,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return E=E.get(A)||null,l(_,E,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Al:return E=E.get(M.key===null?A:M.key)||null,u(_,E,M,z);case Ia:return E=E.get(M.key===null?A:M.key)||null,c(_,E,M,z);case ci:var j=M._init;return M=j(M._payload),g(E,_,A,M,z)}if(Ca(M)||ya(M))return E=E.get(A)||null,d(_,E,M,z,null);if(typeof M.then=="function")return g(E,_,A,Ol(M),z);if(M.$$typeof===Mn)return g(E,_,A,Cl(_,M),z);Nl(_,M)}return null}function C(E,_,A,M){for(var z=null,j=null,S=_,v=_=0,T=null;S!==null&&v<A.length;v++){S.index>v?(T=S,S=null):T=S.sibling;var b=m(E,S,A[v],M);if(b===null){S===null&&(S=T);break}e&&S&&b.alternate===null&&t(E,S),_=s(b,_,v),j===null?z=b:j.sibling=b,j=b,S=T}if(v===A.length)return n(E,S),ut&&rr(E,v),z;if(S===null){for(;v<A.length;v++)S=p(E,A[v],M),S!==null&&(_=s(S,_,v),j===null?z=S:j.sibling=S,j=S);return ut&&rr(E,v),z}for(S=i(S);v<A.length;v++)T=g(S,E,v,A[v],M),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?v:T.key),_=s(T,_,v),j===null?z=T:j.sibling=T,j=T);return e&&S.forEach(function(I){return t(E,I)}),ut&&rr(E,v),z}function D(E,_,A,M){if(A==null)throw Error(L(151));for(var z=null,j=null,S=_,v=_=0,T=null,b=A.next();S!==null&&!b.done;v++,b=A.next()){S.index>v?(T=S,S=null):T=S.sibling;var I=m(E,S,b.value,M);if(I===null){S===null&&(S=T);break}e&&S&&I.alternate===null&&t(E,S),_=s(I,_,v),j===null?z=I:j.sibling=I,j=I,S=T}if(b.done)return n(E,S),ut&&rr(E,v),z;if(S===null){for(;!b.done;v++,b=A.next())b=p(E,b.value,M),b!==null&&(_=s(b,_,v),j===null?z=b:j.sibling=b,j=b);return ut&&rr(E,v),z}for(S=i(S);!b.done;v++,b=A.next())b=g(S,E,v,b.value,M),b!==null&&(e&&b.alternate!==null&&S.delete(b.key===null?v:b.key),_=s(b,_,v),j===null?z=b:j.sibling=b,j=b);return e&&S.forEach(function(x){return t(E,x)}),ut&&rr(E,v),z}function R(E,_,A,M){if(typeof A=="object"&&A!==null&&A.type===$r&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Al:t:{for(var z=A.key;_!==null;){if(_.key===z){if(z=A.type,z===$r){if(_.tag===7){n(E,_.sibling),M=r(_,A.props.children),M.return=E,E=M;break t}}else if(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Ry(z)===_.type){n(E,_.sibling),M=r(_,A.props),Ta(M,A),M.return=E,E=M;break t}n(E,_);break}else t(E,_);_=_.sibling}A.type===$r?(M=ur(A.props.children,E.mode,M,A.key),M.return=E,E=M):(M=$l(A.type,A.key,A.props,null,E.mode,M),Ta(M,A),M.return=E,E=M)}return a(E);case Ia:t:{for(z=A.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(E,_.sibling),M=r(_,A.children||[]),M.return=E,E=M;break t}else{n(E,_);break}else t(E,_);_=_.sibling}M=kh(A,E.mode,M),M.return=E,E=M}return a(E);case ci:return z=A._init,A=z(A._payload),R(E,_,A,M)}if(Ca(A))return C(E,_,A,M);if(ya(A)){if(z=ya(A),typeof z!="function")throw Error(L(150));return A=z.call(A),D(E,_,A,M)}if(typeof A.then=="function")return R(E,_,Ol(A),M);if(A.$$typeof===Mn)return R(E,_,Cl(E,A),M);Nl(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(n(E,_.sibling),M=r(_,A),M.return=E,E=M):(n(E,_),M=Ph(A,E.mode,M),M.return=E,E=M),a(E)):n(E,_)}return function(E,_,A,M){try{uo=0;var z=R(E,_,A,M);return ms=null,z}catch(S){if(S===Uo||S===Sc)throw S;var j=Oe(29,S,null,E.mode);return j.lanes=M,j.return=E,j}finally{}}}var Rs=DE(!0),OE=DE(!1),Ge=Tn(null),dn=null;function di(e){var t=e.alternate;wt(jt,jt.current&1),wt(Ge,e),dn===null&&(t===null||bs.current!==null||t.memoizedState!==null)&&(dn=e)}function NE(e){if(e.tag===22){if(wt(jt,jt.current),wt(Ge,e),dn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(dn=e)}}else mi()}function mi(){wt(jt,jt.current),wt(Ge,Ge.current)}function Ln(e){Xt(Ge),dn===e&&(dn=null),Xt(jt)}var jt=Tn(0);function Ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ud(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Me(),r=Ri(i);r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Ve(t,e,i),Ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Me(),r=Ri(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Ve(t,e,i),Ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),i=Ri(n);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,n),t!==null&&(Ve(t,e,n),Ha(t,e,n))}};function Iy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!ao(n,i)||!ao(r,s):!0}function Cy(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Kf.enqueueReplaceState(t,t.state,null)}function _r(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Tt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xE(e){Nu(e)}function ME(e){console.error(e)}function VE(e){Nu(e)}function xu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Dy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Qf(e,t,n){return n=Ri(n),n.tag=3,n.payload={element:null},n.callback=function(){xu(e,t)},n}function PE(e){return e=Ri(e),e.tag=3,e}function kE(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Dy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Dy(t,n,i),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function eR(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ko(t,n,r,!0),n=Ge.current,n!==null){switch(n.tag){case 13:return dn===null?nd():n.alternate===null&&Nt===0&&(Nt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Bf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xh(e,i,r)),!1;case 22:return n.flags|=65536,i===Bf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xh(e,i,r)),!1}throw Error(L(435,n.tag))}return Xh(e,i,r),nd(),!1}if(ut)return t=Ge.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Pf&&(e=Error(L(422),{cause:i}),oo(je(e,n)))):(i!==Pf&&(t=Error(L(423),{cause:i}),oo(je(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=je(i,n),r=Qf(e.stateNode,i,r),Lh(e,r),Nt!==4&&(Nt=2)),!1;var s=Error(L(520),{cause:i});if(s=je(s,n),Qa===null?Qa=[s]:Qa.push(s),Nt!==4&&(Nt=2),t===null)return!0;i=je(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Qf(n.stateNode,i,e),Lh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=PE(r),kE(r,e,n,i),Lh(n,r),!1}n=n.return}while(n!==null);return!1}var LE=Error(L(461)),$t=!1;function Zt(e,t,n,i){t.child=e===null?OE(t,null,n,i):Rs(t,e.child,n,i)}function Oy(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return gr(t),i=dm(e,t,n,a,s,r),l=mm(),e!==null&&!$t?(pm(e,t,r),Yn(e,t,r)):(ut&&l&&am(t),t.flags|=1,Zt(e,t,i,r),t.child)}function Ny(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!sm(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,UE(e,t,s,i,r)):(e=$l(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!bm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(a,i)&&e.ref===t.ref)return Yn(e,t,r)}return t.flags|=1,e=Bn(s,i),e.ref=t.ref,e.return=t,t.child=e}function UE(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(ao(s,i)&&e.ref===t.ref)if($t=!1,t.pendingProps=i=s,bm(e,r))e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Yn(e,t,r)}return $f(e,t,n,i,r)}function zE(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return xy(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xl(t,s!==null?s.cachePool:null),s!==null?vy(t,s):qf(),NE(t);else return t.lanes=t.childLanes=536870912,xy(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Xl(t,s.cachePool),vy(t,s),mi(),t.memoizedState=null):(e!==null&&Xl(t,null),qf(),mi());return Zt(e,t,r,n),t.child}function xy(e,t,n,i){var r=um();return r=r===null?null:{parent:Bt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Xl(t,null),qf(),NE(t),e!==null&&ko(e,t,i,!0),null}function Jl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $f(e,t,n,i,r){return gr(t),n=dm(e,t,n,i,void 0,r),i=mm(),e!==null&&!$t?(pm(e,t,r),Yn(e,t,r)):(ut&&i&&am(t),t.flags|=1,Zt(e,t,n,r),t.child)}function My(e,t,n,i,r,s){return gr(t),t.updateQueue=null,n=Z0(t,i,n,r),W0(e),i=mm(),e!==null&&!$t?(pm(e,t,s),Yn(e,t,s)):(ut&&i&&am(t),t.flags|=1,Zt(e,t,n,s),t.child)}function Vy(e,t,n,i,r){if(gr(t),t.stateNode===null){var s=is,a=n.contextType;typeof a=="object"&&a!==null&&(s=he(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Kf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},cm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?he(a):is,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(zh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Kf.enqueueReplaceState(s,s.state,null),Fa(t,i,s,r),qa(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=_r(n,l);s.props=u;var c=s.context,d=n.contextType;a=is,typeof d=="object"&&d!==null&&(a=he(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&Cy(t,s,i,a),hi=!1;var m=t.memoizedState;s.state=m,Fa(t,i,s,r),qa(),c=t.memoizedState,l||m!==c||hi?(typeof p=="function"&&(zh(t,n,p,i),c=t.memoizedState),(u=hi||Iy(t,n,u,i,m,c,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,jf(e,t),a=t.memoizedProps,d=_r(n,a),s.props=d,p=t.pendingProps,m=s.context,c=n.contextType,u=is,typeof c=="object"&&c!==null&&(u=he(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Cy(t,s,i,u),hi=!1,m=t.memoizedState,s.state=m,Fa(t,i,s,r),qa();var g=t.memoizedState;a!==p||m!==g||hi||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof l=="function"&&(zh(t,n,l,i),g=t.memoizedState),(d=hi||Iy(t,n,d,i,m,g,u)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Jl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Rs(t,e.child,null,r),t.child=Rs(t,null,n,r)):Zt(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Yn(e,t,r),e}function Py(e,t,n,i){return Po(),t.flags|=256,Zt(e,t,n,i),t.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(e){return{baseLanes:e,cachePool:Y0()}}function Hh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Fe),e}function BE(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(jt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(r?di(t):mi(),ut){var l=Ot,u;if(u=l){t:{for(u=l,l=un;u.nodeType!==8;){if(!l){l=null;break t}if(u=Je(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:cr!==null?{id:Vn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},u=Oe(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,pe=t,Ot=null,u=!0):u=!1}u||pr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return ud(l)?t.lanes=32:t.lanes=536870912,null;Ln(t)}return l=i.children,i=i.fallback,r?(mi(),r=t.mode,l=Mu({mode:"hidden",children:l},r),i=ur(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=jh(n),r.childLanes=Hh(e,a,n),t.memoizedState=Bh,i):(di(t),Xf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(di(t),t.flags&=-257,t=qh(e,t,n)):t.memoizedState!==null?(mi(),t.child=e.child,t.flags|=128,t=null):(mi(),r=i.fallback,l=t.mode,i=Mu({mode:"visible",children:i.children},l),r=ur(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Rs(t,e.child,null,n),i=t.child,i.memoizedState=jh(n),i.childLanes=Hh(e,a,n),t.memoizedState=Bh,t=r);else if(di(t),ud(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,oo({value:i,source:null,stack:null}),t=qh(e,t,n)}else if($t||ko(e,t,n,!1),a=(n&e.childLanes)!==0,$t||a){if(a=_t,a!==null&&(i=n&-n,i=i&42?1:Qd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Fs(e,i),Ve(a,e,i),LE;l.data==="$?"||nd(),t=qh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ot=Je(l.nextSibling),pe=t,ut=!0,hr=null,un=!1,e!==null&&(Ue[ze++]=Vn,Ue[ze++]=Pn,Ue[ze++]=cr,Vn=e.id,Pn=e.overflow,cr=t),t=Xf(t,i.children),t.flags|=4096);return t}return r?(mi(),r=i.fallback,l=t.mode,u=e.child,c=u.sibling,i=Bn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=Bn(c,r):(r=ur(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=jh(n):(u=l.cachePool,u!==null?(c=Bt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=Y0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Hh(e,a,n),t.memoizedState=Bh,i):(di(t),n=e.child,e=n.sibling,n=Bn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Xf(e,t){return t=Mu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mu(e,t){return e=Oe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qh(e,t,n){return Rs(t,e.child,null,n),e=Xf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ky(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Lf(e.return,t,n)}function Fh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function jE(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Zt(e,t,i.children,n),i=jt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ky(e,n,t);else if(e.tag===19)ky(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(wt(jt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ou(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ou(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fh(t,!0,n,null,s);break;case"together":Fh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))if(e!==null){if(ko(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function nR(e,t,n){switch(t.tag){case 3:yu(t,t.stateNode.containerInfo),fi(t,Bt,e.memoizedState.cache),Po();break;case 27:case 5:wf(t);break;case 4:yu(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?BE(e,t,n):(di(t),e=Yn(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ko(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return jE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),wt(jt,jt.current),i)break;return null;case 22:case 23:return t.lanes=0,zE(e,t,n);case 24:fi(t,Bt,e.memoizedState.cache)}return Yn(e,t,n)}function HE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!bm(e,n)&&!(t.flags&128))return $t=!1,nR(e,t,n);$t=!!(e.flags&131072)}else $t=!1,ut&&t.flags&1048576&&F0(t,bu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")sm(i)?(e=_r(i,e),t.tag=1,t=Vy(null,t,i,e,n)):(t.tag=0,t=$f(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Gd){t.tag=11,t=Oy(null,t,i,e,n);break t}else if(r===Yd){t.tag=14,t=Ny(null,t,i,e,n);break t}}throw t=Af(i)||i,Error(L(306,t,""))}}return t;case 0:return $f(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=_r(i,t.pendingProps),Vy(e,t,i,r,n);case 3:t:{if(yu(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,jf(e,t),Fa(t,i,null,n);var a=t.memoizedState;if(i=a.cache,fi(t,Bt,i),i!==s.cache&&Uf(t,[Bt],n,!0),qa(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Py(e,t,i,n);break t}else if(i!==r){r=je(Error(L(424)),t),oo(r),t=Py(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=Je(e.firstChild),pe=t,ut=!0,hr=null,un=!0,n=OE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Po(),i===r){t=Yn(e,t,n);break t}Zt(e,t,i,n)}t=t.child}return t;case 26:return Jl(e,t),e===null?(n=Jy(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,i=Bu(wi.current).createElement(n),i[ce]=t,i[Ae]=e,ne(i,n,e),Qt(i),t.stateNode=i):t.memoizedState=Jy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wf(t),e===null&&ut&&(i=t.stateNode=CT(t.type,t.pendingProps,wi.current),pe=t,un=!0,r=Ot,$i(t.type)?(cd=r,Ot=Je(i.firstChild)):Ot=r),Zt(e,t,t.pendingProps.children,n),Jl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((r=i=Ot)&&(i=OR(i,t.type,t.pendingProps,un),i!==null?(t.stateNode=i,pe=t,Ot=Je(i.firstChild),un=!1,r=!0):r=!1),r||pr(t)),wf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,od(r,s)?i=null:a!==null&&od(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=dm(e,t,Qw,null,null,n),mo._currentValue=r),Jl(e,t),Zt(e,t,i,n),t.child;case 6:return e===null&&ut&&((e=n=Ot)&&(n=NR(n,t.pendingProps,un),n!==null?(t.stateNode=n,pe=t,Ot=null,e=!0):e=!1),e||pr(t)),null;case 13:return BE(e,t,n);case 4:return yu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Rs(t,null,i,n):Zt(e,t,i,n),t.child;case 11:return Oy(e,t,t.type,t.pendingProps,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,fi(t,t.type,i.value),Zt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,gr(t),r=he(r),i=i(r),t.flags|=1,Zt(e,t,i,n),t.child;case 14:return Ny(e,t,t.type,t.pendingProps,n);case 15:return UE(e,t,t.type,t.pendingProps,n);case 19:return jE(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Mu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Bn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zE(e,t,n);case 24:return gr(t),i=he(Bt),e===null?(r=um(),r===null&&(r=_t,s=lm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},cm(t),fi(t,Bt,r)):(e.lanes&n&&(jf(e,t),Fa(t,null,null,n),qa()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),fi(t,Bt,i)):(i=s.cache,fi(t,Bt,i),i!==r.cache&&Uf(t,[Bt],n,!0))),Zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function On(e){e.flags|=4}function Ly(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!NT(t)){if(t=Ge.current,t!==null&&((ot&4194048)===ot?dn!==null:(ot&62914560)!==ot&&!(ot&536870912)||t!==dn))throw ja=Bf,K0;e.flags|=8192}}function xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?m0():536870912,e.lanes|=t,Is|=t)}function Sa(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function iR(e,t,n){var i=t.pendingProps;switch(om(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),jn(Bt),Es(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?On(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dy())),It(t),null;case 26:return n=t.memoizedState,e===null?(On(t),n!==null?(It(t),Ly(t,n)):(It(t),t.flags&=-16777217)):n?n!==e.memoizedState?(On(t),It(t),Ly(t,n)):(It(t),t.flags&=-16777217):(e.memoizedProps!==i&&On(t),It(t),t.flags&=-16777217),null;case 27:_u(t),n=wi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}e=hn.current,Ea(t)?hy(t):(e=CT(r,i,n),t.stateNode=e,On(t))}return It(t),null;case 5:if(_u(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}if(e=hn.current,Ea(t))hy(t);else{switch(r=Bu(wi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[ce]=t,e[Ae]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ne(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&On(t)}}return It(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=wi.current,Ea(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=pe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ce]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||wT(e.nodeValue,n)),e||pr(t)}else e=Bu(e).createTextNode(i),e[ce]=t,t.stateNode=e}return It(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ea(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[ce]=t}else Po(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),r=!1}else r=dy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ln(t),t):(Ln(t),null)}if(Ln(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),xl(t,t.updateQueue),It(t),null;case 4:return Es(),e===null&&xm(t.stateNode.containerInfo),It(t),null;case 10:return jn(t.type),It(t),null;case 19:if(Xt(jt),r=t.memoizedState,r===null)return It(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Sa(r,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ou(e),s!==null){for(t.flags|=128,Sa(r,!1),e=s.updateQueue,t.updateQueue=e,xl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)q0(n,e),n=n.sibling;return wt(jt,jt.current&1|2),t.child}e=e.sibling}r.tail!==null&&fn()>Pu&&(t.flags|=128,i=!0,Sa(r,!1),t.lanes=4194304)}else{if(!i)if(e=Ou(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,xl(t,e),Sa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!ut)return It(t),null}else 2*fn()-r.renderingStartTime>Pu&&n!==536870912&&(t.flags|=128,i=!0,Sa(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=fn(),t.sibling=null,e=jt.current,wt(jt,i?e&1|2:e&1),t):(It(t),null);case 22:case 23:return Ln(t),hm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&xl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Xt(fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),jn(Bt),It(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function rR(e,t){switch(om(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(Bt),Es(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _u(t),null;case 13:if(Ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Po()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(jt),null;case 4:return Es(),null;case 10:return jn(t.type),null;case 22:case 23:return Ln(t),hm(),e!==null&&Xt(fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return jn(Bt),null;case 25:return null;default:return null}}function qE(e,t){switch(om(t),t.tag){case 3:jn(Bt),Es();break;case 26:case 27:case 5:_u(t);break;case 4:Es();break;case 13:Ln(t);break;case 19:Xt(jt);break;case 10:jn(t.type);break;case 22:case 23:Ln(t),hm(),e!==null&&Xt(fr);break;case 24:jn(Bt)}}function jo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){yt(t,t.return,l)}}function Bi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,c=l;try{c()}catch(d){yt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){yt(t,t.return,d)}}function FE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{X0(t,n)}catch(i){yt(e,e.return,i)}}}function GE(e,t,n){n.props=_r(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function Ya(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){yt(e,t,r)}}function cn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){yt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function YE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){yt(e,e.return,r)}}function Gh(e,t,n){try{var i=e.stateNode;wR(i,e.type,n,t),i[Ae]=t}catch(r){yt(e,e.return,r)}}function KE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Yh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||KE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dc));else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Wf(e,t,n),e=e.sibling;e!==null;)Wf(e,t,n),e=e.sibling}function Vu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function QE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ne(t,i,n),t[ce]=e,t[Ae]=n}catch(s){yt(e,e.return,s)}}var xn=!1,Vt=!1,Kh=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function sR(e,t){if(e=e.containerInfo,sd=Fu,e=P0(e),nm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,c=0,d=0,p=e,m=null;e:for(;;){for(var g;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break e;if(m===n&&++c===r&&(l=a),m===s&&++d===i&&(u=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},Fu=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=_r(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(D){yt(n,n.return,D)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ld(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function $E(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n),i&4&&jo(5,n);break;case 1:if(ai(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var r=_r(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&FE(n),i&512&&Ya(n,n.return);break;case 3:if(ai(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{X0(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&QE(n);case 26:case 5:ai(e,n),t===null&&i&4&&YE(n),i&512&&Ya(n,n.return);break;case 12:ai(e,n);break;case 13:ai(e,n),i&4&&ZE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=mR.bind(null,n),xR(e,n))));break;case 22:if(i=n.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||Vt,r=xn;var s=Vt;xn=i,(Vt=t)&&!s?li(e,n,(n.subtreeFlags&8772)!==0):ai(e,n),xn=r,Vt=s}break;case 30:break;default:ai(e,n)}}function XE(e){var t=e.alternate;t!==null&&(e.alternate=null,XE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var St=null,Ee=!1;function Nn(e,t,n){for(n=n.child;n!==null;)WE(e,t,n),n=n.sibling}function WE(e,t,n){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Oo,n)}catch{}switch(n.tag){case 26:Vt||cn(n,t),Nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||cn(n,t);var i=St,r=Ee;$i(n.type)&&(St=n.stateNode,Ee=!1),Nn(e,t,n),Xa(n.stateNode),St=i,Ee=r;break;case 5:Vt||cn(n,t);case 6:if(i=St,r=Ee,St=null,Nn(e,t,n),St=i,Ee=r,St!==null)if(Ee)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(n.stateNode)}catch(s){yt(n,t,s)}else try{St.removeChild(n.stateNode)}catch(s){yt(n,t,s)}break;case 18:St!==null&&(Ee?(e=St,Xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),yo(e)):Xy(St,n.stateNode));break;case 4:i=St,r=Ee,St=n.stateNode.containerInfo,Ee=!0,Nn(e,t,n),St=i,Ee=r;break;case 0:case 11:case 14:case 15:Vt||Bi(2,n,t),Vt||Bi(4,n,t),Nn(e,t,n);break;case 1:Vt||(cn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&GE(n,t,i)),Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:Vt=(i=Vt)||n.memoizedState!==null,Nn(e,t,n),Vt=i;break;default:Nn(e,t,n)}}function ZE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yo(e)}catch(n){yt(t,t.return,n)}}function aR(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Uy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Uy),t;default:throw Error(L(435,e.tag))}}function Qh(e,t){var n=aR(e);t.forEach(function(i){var r=pR.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if($i(l.type)){St=l.stateNode,Ee=!1;break t}break;case 5:St=l.stateNode,Ee=!1;break t;case 3:case 4:St=l.stateNode.containerInfo,Ee=!0;break t}l=l.return}if(St===null)throw Error(L(160));WE(s,a,r),St=null,Ee=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)JE(t,e),t=t.sibling}var Xe=null;function JE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),Ce(e),i&4&&(Bi(3,e,e.return),jo(3,e),Bi(5,e,e.return));break;case 1:Ie(t,e),Ce(e),i&512&&(Vt||n===null||cn(n,n.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Xe;if(Ie(t,e),Ce(e),i&512&&(Vt||n===null||cn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Mo]||s[ce]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ne(s,i,n),s[ce]=e,Qt(s),i=s;break t;case"link":var a=e_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ne(s,i,n),r.head.appendChild(s);break;case"meta":if(a=e_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ne(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[ce]=e,Qt(s),i=s}e.stateNode=i}else n_(r,e.type,e.stateNode);else e.stateNode=t_(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?n_(r,e.type,e.stateNode):t_(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Gh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),Ce(e),i&512&&(Vt||n===null||cn(n,n.return)),n!==null&&i&4&&Gh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),Ce(e),i&512&&(Vt||n===null||cn(n,n.return)),e.flags&32){r=e.stateNode;try{Ss(r,"")}catch(g){yt(e,e.return,g)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Gh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Kh=!0);break;case 6:if(Ie(t,e),Ce(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){yt(e,e.return,g)}}break;case 3:if(nu=null,r=Xe,Xe=ju(t.containerInfo),Ie(t,e),Xe=r,Ce(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(t.containerInfo)}catch(g){yt(e,e.return,g)}Kh&&(Kh=!1,tT(e));break;case 4:i=Xe,Xe=ju(e.stateNode.containerInfo),Ie(t,e),Ce(e),Xe=i;break;case 12:Ie(t,e),Ce(e);break;case 13:Ie(t,e),Ce(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Dm=fn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Qh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=xn,d=Vt;if(xn=c||r,Vt=d||u,Ie(t,e),Vt=d,xn=c,Ce(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||xn||Vt||sr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(g){yt(u,u.return,g)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(g){yt(u,u.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Qh(e,n))));break;case 19:Ie(t,e),Ce(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Qh(e,i)));break;case 30:break;case 21:break;default:Ie(t,e),Ce(e)}}function Ce(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(KE(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=Yh(e);Vu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ss(a,""),n.flags&=-33);var l=Yh(e);Vu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Yh(e);Wf(e,c,u);break;default:throw Error(L(161))}}catch(d){yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ai(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$E(e,t.alternate,t),t=t.sibling}function sr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),sr(t);break;case 1:cn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&GE(t,t.return,n),sr(t);break;case 27:Xa(t.stateNode);case 26:case 5:cn(t,t.return),sr(t);break;case 22:t.memoizedState===null&&sr(t);break;case 30:sr(t);break;default:sr(t)}e=e.sibling}}function li(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:li(r,s,n),jo(4,s);break;case 1:if(li(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){yt(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)$0(u[r],l)}catch(c){yt(i,i.return,c)}}n&&a&64&&FE(s),Ya(s,s.return);break;case 27:QE(s);case 26:case 5:li(r,s,n),n&&i===null&&a&4&&YE(s),Ya(s,s.return);break;case 12:li(r,s,n);break;case 13:li(r,s,n),n&&a&4&&ZE(r,s);break;case 22:s.memoizedState===null&&li(r,s,n),Ya(s,s.return);break;case 30:break;default:li(r,s,n)}t=t.sibling}}function wm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Lo(n))}function Rm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lo(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eT(e,t,n,i),t=t.sibling}function eT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),r&2048&&jo(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lo(e)));break;case 12:if(r&2048){an(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?an(e,t,n,i):Ka(e,t):s._visibility&2?an(e,t,n,i):(s._visibility|=2,qr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&wm(a,t);break;case 24:an(e,t,n,i),r&2048&&Rm(t.alternate,t);break;default:an(e,t,n,i)}}function qr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:qr(s,a,l,u,r),jo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?qr(s,a,l,u,r):Ka(s,a):(d._visibility|=2,qr(s,a,l,u,r)),r&&c&2048&&wm(a.alternate,a);break;case 24:qr(s,a,l,u,r),r&&c&2048&&Rm(a.alternate,a);break;default:qr(s,a,l,u,r)}t=t.sibling}}function Ka(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ka(n,i),r&2048&&wm(i.alternate,i);break;case 24:Ka(n,i),r&2048&&Rm(i.alternate,i);break;default:Ka(n,i)}t=t.sibling}}var Oa=8192;function zr(e){if(e.subtreeFlags&Oa)for(e=e.child;e!==null;)nT(e),e=e.sibling}function nT(e){switch(e.tag){case 26:zr(e),e.flags&Oa&&e.memoizedState!==null&&GR(Xe,e.memoizedState,e.memoizedProps);break;case 5:zr(e);break;case 3:case 4:var t=Xe;Xe=ju(e.stateNode.containerInfo),zr(e),Xe=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Oa,Oa=16777216,zr(e),Oa=t):zr(e));break;default:zr(e)}}function iT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Aa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,sT(i,e)}iT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rT(e),e=e.sibling}function rT(e){switch(e.tag){case 0:case 11:case 15:Aa(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:Aa(e);break;case 12:Aa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,tu(e)):Aa(e);break;default:Aa(e)}}function tu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,sT(i,e)}iT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bi(8,t,t.return),tu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,tu(t));break;default:tu(t)}e=e.sibling}}function sT(e,t){for(;Kt!==null;){var n=Kt;switch(n.tag){case 0:case 11:case 15:Bi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Lo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Kt=i;else t:for(n=e;Kt!==null;){i=Kt;var r=i.sibling,s=i.return;if(XE(i),i===n){Kt=null;break t}if(r!==null){r.return=s,Kt=r;break t}Kt=s}}}var oR={getCacheForType:function(e){var t=he(Bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},lR=typeof WeakMap=="function"?WeakMap:Map,dt=0,_t=null,it=null,ot=0,ft=0,De=null,Si=!1,Gs=!1,Im=!1,Kn=0,Nt=0,ji=0,dr=0,Cm=0,Fe=0,Is=0,Qa=null,Te=null,Zf=!1,Dm=0,Pu=1/0,ku=null,Ci=null,te=0,Di=null,Cs=null,ps=0,Jf=0,td=null,aT=null,$a=0,ed=null;function Me(){if(dt&2&&ot!==0)return ot&-ot;if(Q.T!==null){var e=As;return e!==0?e:Nm()}return y0()}function oT(){Fe===0&&(Fe=!(ot&536870912)||ut?d0():536870912);var e=Ge.current;return e!==null&&(e.flags|=32),Fe}function Ve(e,t,n){(e===_t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Ds(e,0),Ai(e,ot,Fe,!1)),xo(e,n),(!(dt&2)||e!==_t)&&(e===_t&&(!(dt&2)&&(dr|=n),Nt===4&&Ai(e,ot,Fe,!1)),Sn(e))}function lT(e,t,n){if(dt&6)throw Error(L(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||No(e,t),r=i?hR(e,t):$h(e,t,!0),s=i;do{if(r===0){Gs&&!i&&Ai(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!uR(n)){r=$h(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Qa;var u=l.current.memoizedState.isDehydrated;if(u&&(Ds(l,a).flags|=256),a=$h(l,a,!1),a!==2){if(Im&&!u){l.errorRecoveryDisabledLanes|=s,dr|=s,r=4;break t}s=Te,Te=r,s!==null&&(Te===null?Te=s:Te.push.apply(Te,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ds(e,0),Ai(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Ai(i,t,Fe,!Si);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(r=Dm+300-fn(),10<r)){if(Ai(i,t,Fe,!Si),gc(i,0,!0)!==0)break t;i.timeoutHandle=IT(zy.bind(null,i,n,Te,ku,Zf,t,Fe,dr,Is,Si,s,2,-0,0),r);break t}zy(i,n,Te,ku,Zf,t,Fe,dr,Is,Si,s,0,-0,0)}}break}while(1);Sn(e)}function zy(e,t,n,i,r,s,a,l,u,c,d,p,m,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(fo={stylesheets:null,count:0,unsuspend:FR},nT(t),p=YR(),p!==null)){e.cancelPendingCommit=p(jy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,g)),Ai(e,s,a,!c);return}jy(e,t,s,n,i,r,a,l,u)}function uR(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Pe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ai(e,t,n,i){t&=~Cm,t&=~dr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-xe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&p0(e,n,t)}function Rc(){return dt&6?!0:(Ho(0,!1),!1)}function Om(){if(it!==null){if(ft===0)var e=it.return;else e=it,kn=Cr=null,gm(e),ms=null,uo=0,e=it;for(;e!==null;)qE(e.alternate,e),e=e.return;it=null}}function Ds(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,IR(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Om(),_t=e,it=n=Bn(e.current,null),ot=t,ft=0,De=null,Si=!1,Gs=No(e,t),Im=!1,Is=Fe=Cm=dr=ji=Nt=0,Te=Qa=null,Zf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),s=1<<r;t|=e[r],i&=~s}return Kn=t,Ec(),n}function uT(e,t){et=null,Q.H=Du,t===Uo||t===Sc?(t=yy(),ft=3):t===K0?(t=yy(),ft=4):ft=t===LE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,De=t,it===null&&(Nt=1,xu(e,je(t,e.current)))}function cT(){var e=Q.H;return Q.H=Du,e===null?Du:e}function hT(){var e=Q.A;return Q.A=oR,e}function nd(){Nt=4,Si||(ot&4194048)!==ot&&Ge.current!==null||(Gs=!0),!(ji&134217727)&&!(dr&134217727)||_t===null||Ai(_t,ot,Fe,!1)}function $h(e,t,n){var i=dt;dt|=2;var r=cT(),s=hT();(_t!==e||ot!==t)&&(ku=null,Ds(e,t)),t=!1;var a=Nt;t:do try{if(ft!==0&&it!==null){var l=it,u=De;switch(ft){case 8:Om(),a=6;break t;case 3:case 2:case 9:case 6:Ge.current===null&&(t=!0);var c=ft;if(ft=0,De=null,as(e,l,u,c),n&&Gs){a=0;break t}break;default:c=ft,ft=0,De=null,as(e,l,u,c)}}cR(),a=Nt;break}catch(d){uT(e,d)}while(1);return t&&e.shellSuspendCounter++,kn=Cr=null,dt=i,Q.H=r,Q.A=s,it===null&&(_t=null,ot=0,Ec()),a}function cR(){for(;it!==null;)fT(it)}function hR(e,t){var n=dt;dt|=2;var i=cT(),r=hT();_t!==e||ot!==t?(ku=null,Pu=fn()+500,Ds(e,t)):Gs=No(e,t);t:do try{if(ft!==0&&it!==null){t=it;var s=De;e:switch(ft){case 1:ft=0,De=null,as(e,t,s,1);break;case 2:case 9:if(gy(s)){ft=0,De=null,By(t);break}t=function(){ft!==2&&ft!==9||_t!==e||(ft=7),Sn(e)},s.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:gy(s)?(ft=0,De=null,By(t)):(ft=0,De=null,as(e,t,s,7));break;case 5:var a=null;switch(it.tag){case 26:a=it.memoizedState;case 5:case 27:var l=it;if(!a||NT(a)){ft=0,De=null;var u=l.sibling;if(u!==null)it=u;else{var c=l.return;c!==null?(it=c,Ic(c)):it=null}break e}}ft=0,De=null,as(e,t,s,5);break;case 6:ft=0,De=null,as(e,t,s,6);break;case 8:Om(),Nt=6;break t;default:throw Error(L(462))}}fR();break}catch(d){uT(e,d)}while(1);return kn=Cr=null,Q.H=i,Q.A=r,dt=n,it!==null?0:(_t=null,ot=0,Ec(),Nt)}function fR(){for(;it!==null&&!Vb();)fT(it)}function fT(e){var t=HE(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?Ic(e):it=t}function By(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=My(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=My(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:gm(t);default:qE(n,t),t=it=q0(t,Kn),t=HE(n,t,Kn)}e.memoizedProps=e.pendingProps,t===null?Ic(e):it=t}function as(e,t,n,i){kn=Cr=null,gm(t),ms=null,uo=0;var r=t.return;try{if(eR(e,r,t,n,ot)){Nt=1,xu(e,je(n,e.current)),it=null;return}}catch(s){if(r!==null)throw it=r,s;Nt=1,xu(e,je(n,e.current)),it=null;return}t.flags&32768?(ut||i===1?e=!0:Gs||ot&536870912?e=!1:(Si=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ge.current,i!==null&&i.tag===13&&(i.flags|=16384))),dT(t,e)):Ic(t)}function Ic(e){var t=e;do{if(t.flags&32768){dT(t,Si);return}e=t.return;var n=iR(t.alternate,t,Kn);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Nt===0&&(Nt=5)}function dT(e,t){do{var n=rR(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Nt=6,it=null}function jy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Cc();while(te!==0);if(dt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(s=t.lanes|t.childLanes,s|=im,Fb(e,n,s,a,l,u),e===_t&&(it=_t=null,ot=0),Cs=t,Di=e,ps=n,Jf=s,td=r,aT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,gR(vu,function(){return _T(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=ct.p,ct.p=2,a=dt,dt|=4;try{sR(e,t,n)}finally{dt=a,ct.p=r,Q.T=i}}te=1,mT(),pT(),gT()}}function mT(){if(te===1){te=0;var e=Di,t=Cs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var r=dt;dt|=4;try{JE(t,e);var s=ad,a=P0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&V0(l.ownerDocument.documentElement,l)){if(u!==null&&nm(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var g=m.getSelection(),C=l.textContent.length,D=Math.min(u.start,C),R=u.end===void 0?D:Math.min(u.end,C);!g.extend&&D>R&&(a=R,R=D,D=a);var E=ly(l,D),_=ly(l,R);if(E&&_&&(g.rangeCount!==1||g.anchorNode!==E.node||g.anchorOffset!==E.offset||g.focusNode!==_.node||g.focusOffset!==_.offset)){var A=p.createRange();A.setStart(E.node,E.offset),g.removeAllRanges(),D>R?(g.addRange(A),g.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),g.addRange(A))}}}}for(p=[],g=l;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var M=p[l];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Fu=!!sd,ad=sd=null}finally{dt=r,ct.p=i,Q.T=n}}e.current=t,te=2}}function pT(){if(te===2){te=0;var e=Di,t=Cs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var r=dt;dt|=4;try{$E(e,t.alternate,t)}finally{dt=r,ct.p=i,Q.T=n}}te=3}}function gT(){if(te===4||te===3){te=0,Pb();var e=Di,t=Cs,n=ps,i=aT;t.subtreeFlags&10256||t.flags&10256?te=5:(te=0,Cs=Di=null,yT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),$d(n),t=t.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Oo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,r=ct.p,ct.p=2,Q.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Q.T=t,ct.p=r}}ps&3&&Cc(),Sn(e),r=e.pendingLanes,n&4194090&&r&42?e===ed?$a++:($a=0,ed=e):$a=0,Ho(0,!1)}}function yT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lo(t)))}function Cc(e){return mT(),pT(),gT(),_T()}function _T(){if(te!==5)return!1;var e=Di,t=Jf;Jf=0;var n=$d(ps),i=Q.T,r=ct.p;try{ct.p=32>n?32:n,Q.T=null,n=td,td=null;var s=Di,a=ps;if(te=0,Cs=Di=null,ps=0,dt&6)throw Error(L(331));var l=dt;if(dt|=4,rT(s.current),eT(s,s.current,a,n),dt=l,Ho(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Oo,s)}catch{}return!0}finally{ct.p=r,Q.T=i,yT(e,t)}}function Hy(e,t,n){t=je(n,t),t=Qf(e.stateNode,t,2),e=Ii(e,t,2),e!==null&&(xo(e,2),Sn(e))}function yt(e,t,n){if(e.tag===3)Hy(e,e,n);else for(;t!==null;){if(t.tag===3){Hy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ci===null||!Ci.has(i))){e=je(n,e),n=PE(2),i=Ii(t,n,2),i!==null&&(kE(n,i,t,e),xo(i,2),Sn(i));break}}t=t.return}}function Xh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new lR;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Im=!0,r.add(n),e=dR.bind(null,e,t,n),t.then(e,e))}function dR(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(ot&n)===n&&(Nt===4||Nt===3&&(ot&62914560)===ot&&300>fn()-Dm?!(dt&2)&&Ds(e,0):Cm|=n,Is===ot&&(Is=0)),Sn(e)}function vT(e,t){t===0&&(t=m0()),e=Fs(e,t),e!==null&&(xo(e,t),Sn(e))}function mR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vT(e,n)}function pR(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),vT(e,n)}function gR(e,t){return Kd(e,t)}var Lu=null,Fr=null,id=!1,Uu=!1,Wh=!1,mr=0;function Sn(e){e!==Fr&&e.next===null&&(Fr===null?Lu=Fr=e:Fr=Fr.next=e),Uu=!0,id||(id=!0,_R())}function Ho(e,t){if(!Wh&&Uu){Wh=!0;do for(var n=!1,i=Lu;i!==null;){if(!t)if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,qy(i,s))}else s=ot,s=gc(i,i===_t?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||No(i,s)||(n=!0,qy(i,s));i=i.next}while(n);Wh=!1}}function yR(){ET()}function ET(){Uu=id=!1;var e=0;mr!==0&&(RR()&&(e=mr),mr=0);for(var t=fn(),n=null,i=Lu;i!==null;){var r=i.next,s=TT(i,t);s===0?(i.next=null,n===null?Lu=r:n.next=r,r===null&&(Fr=n)):(n=i,(e!==0||s&3)&&(Uu=!0)),i=r}Ho(e,!1)}function TT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-xe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=qb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=_t,n=ot,n=gc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ah(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||No(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ah(i),$d(n)){case 2:case 8:n=h0;break;case 32:n=vu;break;case 268435456:n=f0;break;default:n=vu}return i=ST.bind(null,e),n=Kd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ah(i),e.callbackPriority=2,e.callbackNode=null,2}function ST(e,t){if(te!==0&&te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var i=ot;return i=gc(e,e===_t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(lT(e,i,t),TT(e,fn()),e.callbackNode!=null&&e.callbackNode===n?ST.bind(null,e):null)}function qy(e,t){if(Cc())return null;lT(e,t,!0)}function _R(){CR(function(){dt&6?Kd(c0,yR):ET()})}function Nm(){return mr===0&&(mr=d0()),mr}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yl(""+e)}function Gy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vR(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Fy((r[Ae]||null).action),a=i.submitter;a&&(t=(t=a[Ae]||null)?Fy(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new yc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(mr!==0){var u=a?Gy(r,a):new FormData(r);Yf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Gy(r,a):new FormData(r),Yf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Zh=0;Zh<Vf.length;Zh++){var Jh=Vf[Zh],ER=Jh.toLowerCase(),TR=Jh[0].toUpperCase()+Jh.slice(1);nn(ER,"on"+TR)}nn(L0,"onAnimationEnd");nn(U0,"onAnimationIteration");nn(z0,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Uw,"onTransitionRun");nn(zw,"onTransitionStart");nn(Bw,"onTransitionCancel");nn(B0,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function AT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(d){Nu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(d){Nu(d)}r.currentTarget=null,s=u}}}}function nt(e,t){var n=t[If];n===void 0&&(n=t[If]=new Set);var i=e+"__bubble";n.has(i)||(bT(t,e,2,!1),n.add(i))}function tf(e,t,n){var i=0;t&&(i|=4),bT(n,e,i,t)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function xm(e){if(!e[Ml]){e[Ml]=!0,_0.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||tf(n,!1,e),tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ml]||(t[Ml]=!0,tf("selectionchange",!1,t))}}function bT(e,t,n,i){switch(kT(t)){case 2:var r=$R;break;case 8:r=XR;break;default:r=km}n=r.bind(null,t,n,e),r=void 0,!Nf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ef(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Wr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}R0(function(){var c=s,d=Zd(n),p=[];t:{var m=j0.get(e);if(m!==void 0){var g=yc,C=e;switch(e){case"keypress":if(Ql(n)===0)break t;case"keydown":case"keyup":g=gw;break;case"focusin":C="focus",g=Nh;break;case"focusout":C="blur",g=Nh;break;case"beforeblur":case"afterblur":g=Nh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vw;break;case L0:case U0:case z0:g=ow;break;case B0:g=Tw;break;case"scroll":case"scrollend":g=nw;break;case"wheel":g=Aw;break;case"copy":case"cut":case"paste":g=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ty;break;case"toggle":case"beforetoggle":g=ww}var D=(t&4)!==0,R=!D&&(e==="scroll"||e==="scrollend"),E=D?m!==null?m+"Capture":null:m;D=[];for(var _=c,A;_!==null;){var M=_;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||E===null||(M=ro(_,E),M!=null&&D.push(ho(_,M,A))),R)break;_=_.return}0<D.length&&(m=new g(m,C,null,n,d),p.push({event:m,listeners:D}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Of&&(C=n.relatedTarget||n.fromElement)&&(Wr(C)||C[Hs]))break t;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=c,C=C?Wr(C):null,C!==null&&(R=Do(C),D=C.tag,C!==R||D!==5&&D!==27&&D!==6)&&(C=null)):(g=null,C=c),g!==C)){if(D=Zg,M="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(D=ty,M="onPointerLeave",E="onPointerEnter",_="pointer"),R=g==null?m:Da(g),A=C==null?m:Da(C),m=new D(M,_+"leave",g,n,d),m.target=R,m.relatedTarget=A,M=null,Wr(d)===c&&(D=new D(E,_+"enter",C,n,d),D.target=A,D.relatedTarget=R,M=D),R=M,g&&C)e:{for(D=g,E=C,_=0,A=D;A;A=Br(A))_++;for(A=0,M=E;M;M=Br(M))A++;for(;0<_-A;)D=Br(D),_--;for(;0<A-_;)E=Br(E),A--;for(;_--;){if(D===E||E!==null&&D===E.alternate)break e;D=Br(D),E=Br(E)}D=null}else D=null;g!==null&&Yy(p,m,g,D,!1),C!==null&&R!==null&&Yy(p,R,C,D,!0)}}t:{if(m=c?Da(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var z=ry;else if(iy(m))if(x0)z=Pw;else{z=Mw;var j=xw}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&Wd(c.elementType)&&(z=ry):z=Vw;if(z&&(z=z(e,c))){N0(p,z,n,d);break t}j&&j(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&Df(m,"number",m.value)}switch(j=c?Da(c):window,e){case"focusin":(iy(j)||j.contentEditable==="true")&&(ts=j,xf=c,za=null);break;case"focusout":za=xf=ts=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,uy(p,n,d);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":uy(p,n,d)}var S;if(em)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Jr?D0(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(C0&&n.locale!=="ko"&&(Jr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Jr&&(S=I0()):(Ti=d,Jd="value"in Ti?Ti.value:Ti.textContent,Jr=!0)),j=zu(c,v),0<j.length&&(v=new Jg(v,e,null,n,d),p.push({event:v,listeners:j}),S?v.data=S:(S=O0(n),S!==null&&(v.data=S)))),(S=Iw?Cw(e,n):Dw(e,n))&&(v=zu(c,"onBeforeInput"),0<v.length&&(j=new Jg("onBeforeInput","beforeinput",null,n,d),p.push({event:j,listeners:v}),j.data=S)),vR(p,e,c,n,d)}AT(p,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=ro(e,n),r!=null&&i.unshift(ho(e,r,s)),r=ro(e,t),r!=null&&i.push(ho(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=ro(n,s),c!=null&&a.unshift(ho(n,c,u))):r||(c=ro(n,s),c!=null&&a.push(ho(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var AR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(AR,`
`).replace(bR,"")}function wT(e,t){return t=Ky(t),Ky(e)===t}function Dc(){}function mt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ss(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ss(e,""+i);break;case"className":Rl(e,"class",i);break;case"tabIndex":Rl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,n,i);break;case"style":w0(e,i,s);break;case"data":if(t!=="object"){Rl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Yl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",r.name,r,null),mt(e,t,"formEncType",r.formEncType,r,null),mt(e,t,"formMethod",r.formMethod,r,null),mt(e,t,"formTarget",r.formTarget,r,null)):(mt(e,t,"encType",r.encType,r,null),mt(e,t,"method",r.method,r,null),mt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Yl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Dc);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Yl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Gl(e,"popover",i);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Gl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tw.get(n)||n,Gl(e,n,i))}}function rd(e,t,n,i,r,s){switch(n){case"style":w0(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ss(e,i):(typeof i=="number"||typeof i=="bigint")&&Ss(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!v0.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ae]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Gl(e,n,i)}}}function ne(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:mt(e,t,s,a,n,null)}}r&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:mt(e,t,i,d,n,null)}}S0(e,s,l,u,c,a,r,!1),Eu(e);return;case"select":nt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:mt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?us(e,!!i,t,!1):n!=null&&us(e,!!i,n,!0);return;case"textarea":nt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:mt(e,t,a,l,n,null)}b0(e,i,r,s),Eu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<co.length;i++)nt(co[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:mt(e,t,c,i,n,null)}return;default:if(Wd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&rd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&mt(e,t,l,i,n,null))}function wR(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,d=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(g)||mt(e,t,g,null,i,p)}}for(var m in i){var g=i[m];if(p=n[m],i.hasOwnProperty(m)&&(g!=null||p!=null))switch(m){case"type":s=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":d=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:g!==p&&mt(e,t,m,g,i,p)}}Cf(e,a,l,u,c,d,s,r);return;case"select":g=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(s)||mt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&mt(e,t,r,s,i,u)}t=l,n=a,i=g,m!=null?us(e,!!n,m,!1):!!i!=!!n&&(t!=null?us(e,!!n,t,!0):us(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:mt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&mt(e,t,a,r,i,s)}A0(e,m,g);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:mt(e,t,C,null,i,m)}for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D)&&mt(e,t,D,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:mt(e,t,c,m,i,g)}return;default:if(Wd(t)){for(var R in n)m=n[R],n.hasOwnProperty(R)&&m!==void 0&&!i.hasOwnProperty(R)&&rd(e,t,R,void 0,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m===void 0&&g===void 0||rd(e,t,d,m,i,g);return}}for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!i.hasOwnProperty(E)&&mt(e,t,E,null,i,m);for(p in i)m=i[p],g=n[p],!i.hasOwnProperty(p)||m===g||m==null&&g==null||mt(e,t,p,m,i,g)}var sd=null,ad=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nf=null;function RR(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var IT=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(DR)}:IT;function DR(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function Xy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Xa(a.documentElement),n&2&&Xa(a.body),n&4)for(n=a.head,Xa(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Mo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),yo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);yo(t)}function ld(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ld(n),Xd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function OR(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Mo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Je(e.nextSibling),e===null)break}return null}function NR(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Je(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function xR(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Je(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var cd=null;function Wy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function CT(e,t,n){switch(t=Bu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function Xa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xd(e)}var Ye=new Map,Zy=new Set;function ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=ct.d;ct.d={f:MR,r:VR,D:PR,C:kR,L:LR,m:UR,X:BR,S:zR,M:jR};function MR(){var e=Jn.f(),t=Rc();return e||t}function VR(e){var t=qs(e);t!==null&&t.tag===5&&t.type==="form"?TE(t):Jn.r(e)}var Ys=typeof document>"u"?null:document;function DT(e,t,n){var i=Ys;if(i&&typeof t=="string"&&t){var r=Be(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Zy.has(r)||(Zy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function PR(e){Jn.D(e),DT("dns-prefetch",e,null)}function kR(e,t){Jn.C(e,t),DT("preconnect",e,t)}function LR(e,t,n){Jn.L(e,t,n);var i=Ys;if(i&&e&&t){var r='link[rel="preload"][as="'+Be(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Be(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Be(n.imageSizes)+'"]')):r+='[href="'+Be(e)+'"]';var s=r;switch(t){case"style":s=Os(e);break;case"script":s=Ks(e)}Ye.has(s)||(e=Tt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ye.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(qo(s))||t==="script"&&i.querySelector(Fo(s))||(t=i.createElement("link"),ne(t,"link",e),Qt(t),i.head.appendChild(t)))}}function UR(e,t){Jn.m(e,t);var n=Ys;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Be(i)+'"][href="'+Be(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ks(e)}if(!Ye.has(s)&&(e=Tt({rel:"modulepreload",href:e},t),Ye.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fo(s)))return}i=n.createElement("link"),ne(i,"link",e),Qt(i),n.head.appendChild(i)}}}function zR(e,t,n){Jn.S(e,t,n);var i=Ys;if(i&&e){var r=ls(i).hoistableStyles,s=Os(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(qo(s)))l.loading=5;else{e=Tt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ye.get(s))&&Mm(e,n);var u=a=i.createElement("link");Qt(u),ne(u,"link",e),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,eu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function BR(e,t){Jn.X(e,t);var n=Ys;if(n&&e){var i=ls(n).hoistableScripts,r=Ks(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=Tt({src:e,async:!0},t),(t=Ye.get(r))&&Vm(e,t),s=n.createElement("script"),Qt(s),ne(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function jR(e,t){Jn.M(e,t);var n=Ys;if(n&&e){var i=ls(n).hoistableScripts,r=Ks(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=Tt({src:e,async:!0,type:"module"},t),(t=Ye.get(r))&&Vm(e,t),s=n.createElement("script"),Qt(s),ne(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Jy(e,t,n,i){var r=(r=wi.current)?ju(r):null;if(!r)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Os(n.href),n=ls(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Os(n.href);var s=ls(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(qo(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Ye.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ye.set(e,n),s||HR(r,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(n),n=ls(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function Os(e){return'href="'+Be(e)+'"'}function qo(e){return'link[rel="stylesheet"]['+e+"]"}function OT(e){return Tt({},e,{"data-precedence":e.precedence,precedence:null})}function HR(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ne(t,"link",n),Qt(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Be(e)+'"]'}function Fo(e){return"script[async]"+e}function t_(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Be(n.href)+'"]');if(i)return t.instance=i,Qt(i),i;var r=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qt(i),ne(i,"style",r),eu(i,n.precedence,e),t.instance=i;case"stylesheet":r=Os(n.href);var s=e.querySelector(qo(r));if(s)return t.state.loading|=4,t.instance=s,Qt(s),s;i=OT(n),(r=Ye.get(r))&&Mm(i,r),s=(e.ownerDocument||e).createElement("link"),Qt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ne(s,"link",i),t.state.loading|=4,eu(s,n.precedence,e),t.instance=s;case"script":return s=Ks(n.src),(r=e.querySelector(Fo(s)))?(t.instance=r,Qt(r),r):(i=n,(r=Ye.get(s))&&(i=Tt({},n),Vm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Qt(r),ne(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,eu(i,n.precedence,e));return t.instance}function eu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Mm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nu=null;function e_(e,t,n){if(nu===null){var i=new Map,r=nu=new Map;r.set(n,i)}else r=nu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Mo]||s[ce]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function n_(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function qR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function NT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var fo=null;function FR(){}function GR(e,t,n){if(fo===null)throw Error(L(475));var i=fo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Os(n.href),s=e.querySelector(qo(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Hu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Qt(s);return}s=e.ownerDocument||e,n=OT(n),(r=Ye.get(r))&&Mm(n,r),s=s.createElement("link"),Qt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ne(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Hu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function YR(){if(fo===null)throw Error(L(475));var e=fo;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Hu(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qu=null;function hd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qu=new Map,t.forEach(KR,e),qu=null,Hu.call(e))}function KR(e,t){if(!(t.state.loading&4)){var n=qu.get(e);if(n)var i=n.get(null);else{n=new Map,qu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Hu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var mo={$$typeof:Mn,Provider:null,Consumer:null,_currentValue:lr,_currentValue2:lr,_threadCount:0};function QR(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.hiddenUpdates=bh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function xT(e,t,n,i,r,s,a,l,u,c,d,p){return e=new QR(e,t,n,a,l,u,c,p),t=1,s===!0&&(t|=24),s=Oe(3,null,null,t),e.current=s,s.stateNode=e,t=lm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},cm(s),e}function MT(e){return e?(e=is,e):is}function VT(e,t,n,i,r,s){r=MT(r),i.context===null?i.context=r:i.pendingContext=r,i=Ri(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ii(e,i,t),n!==null&&(Ve(n,e,t),Ha(n,e,t))}function i_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pm(e,t){i_(e,t),(e=e.alternate)&&i_(e,t)}function PT(e){if(e.tag===13){var t=Fs(e,67108864);t!==null&&Ve(t,e,67108864),Pm(e,67108864)}}var Fu=!0;function $R(e,t,n,i){var r=Q.T;Q.T=null;var s=ct.p;try{ct.p=2,km(e,t,n,i)}finally{ct.p=s,Q.T=r}}function XR(e,t,n,i){var r=Q.T;Q.T=null;var s=ct.p;try{ct.p=8,km(e,t,n,i)}finally{ct.p=s,Q.T=r}}function km(e,t,n,i){if(Fu){var r=fd(i);if(r===null)ef(e,t,i,Gu,n),r_(e,i);else if(ZR(r,e,t,n,i))i.stopPropagation();else if(r_(e,i),t&4&&-1<WR.indexOf(e)){for(;r!==null;){var s=qs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ir(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-xe(a);l.entanglements[1]|=u,a&=~u}Sn(s),!(dt&6)&&(Pu=fn()+500,Ho(0,!1))}}break;case 13:l=Fs(s,2),l!==null&&Ve(l,s,2),Rc(),Pm(s,2)}if(s=fd(i),s===null&&ef(e,t,i,Gu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else ef(e,t,i,null,n)}}function fd(e){return e=Zd(e),Lm(e)}var Gu=null;function Lm(e){if(Gu=null,e=Wr(e),e!==null){var t=Do(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=a0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gu=e,null}function kT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kb()){case c0:return 2;case h0:return 8;case vu:case Lb:return 32;case f0:return 268435456;default:return 32}default:return 32}}var dd=!1,Oi=null,Ni=null,xi=null,po=new Map,go=new Map,pi=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(e,t){switch(e){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function ba(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=qs(t),t!==null&&PT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ZR(e,t,n,i,r){switch(t){case"focusin":return Oi=ba(Oi,e,t,n,i,r),!0;case"dragenter":return Ni=ba(Ni,e,t,n,i,r),!0;case"mouseover":return xi=ba(xi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return po.set(s,ba(po.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,go.set(s,ba(go.get(s)||null,e,t,n,i,r)),!0}return!1}function LT(e){var t=Wr(e.target);if(t!==null){var n=Do(t);if(n!==null){if(t=n.tag,t===13){if(t=a0(n),t!==null){e.blockedOn=t,Gb(e.priority,function(){if(n.tag===13){var i=Me();i=Qd(i);var r=Fs(n,i);r!==null&&Ve(r,n,i),Pm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Of=i,n.target.dispatchEvent(i),Of=null}else return t=qs(n),t!==null&&PT(t),e.blockedOn=n,!1;t.shift()}return!0}function s_(e,t,n){iu(e)&&n.delete(t)}function JR(){dd=!1,Oi!==null&&iu(Oi)&&(Oi=null),Ni!==null&&iu(Ni)&&(Ni=null),xi!==null&&iu(xi)&&(xi=null),po.forEach(s_),go.forEach(s_)}function Vl(e,t){e.blockedOn===t&&(e.blockedOn=null,dd||(dd=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,JR)))}var Pl=null;function a_(e){Pl!==e&&(Pl=e,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Lm(i||n)===null)continue;break}var s=qs(n);s!==null&&(e.splice(t,3),t-=3,Yf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function yo(e){function t(u){return Vl(u,e)}Oi!==null&&Vl(Oi,e),Ni!==null&&Vl(Ni,e),xi!==null&&Vl(xi,e),po.forEach(t),go.forEach(t);for(var n=0;n<pi.length;n++){var i=pi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)LT(n),n.blockedOn===null&&pi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ae]||null;if(typeof s=="function")a||a_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ae]||null)l=a.formAction;else if(Lm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),a_(n)}}}function Um(e){this._internalRoot=e}Oc.prototype.render=Um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Me();VT(n,i,e,t,null,null)};Oc.prototype.unmount=Um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;VT(e.current,2,null,e,null,null),Rc(),t[Hs]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=y0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&LT(e)}};var o_=r0.version;if(o_!=="19.1.0")throw Error(L(527,o_,"19.1.0"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Db(t),e=e!==null?o0(e):null,e=e===null?null:e.stateNode,e};var tI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Oo=kl.inject(tI),Ne=kl}catch{}}mc.createRoot=function(e,t){if(!s0(e))throw Error(L(299));var n=!1,i="",r=xE,s=ME,a=VE,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=xT(e,1,!1,null,null,n,i,r,s,a,l,null),e[Hs]=t.current,xm(e),new Um(t)};mc.hydrateRoot=function(e,t,n){if(!s0(e))throw Error(L(299));var i=!1,r="",s=xE,a=ME,l=VE,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=xT(e,1,!0,t,n??null,i,r,s,a,l,u,c),t.context=MT(null),n=t.current,i=Me(),i=Qd(i),r=Ri(i),r.callback=null,Ii(n,r,i),n=i,t.current.lanes=n,xo(t,n),Sn(t),e[Hs]=t.current,xm(e),new Oc(t)};mc.version="19.1.0";function UT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UT)}catch(e){console.error(e)}}UT(),Zv.exports=mc;var eI=Zv.exports;const nI=Hv(eI),iI="modulepreload",rI=function(e){return"/3booketeers/"+e},l_={},sI=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=rI(s),s in l_)return;l_[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const p=r[d];if(p.href===s&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":iI,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.parse=fI;zm.serialize=dI;const aI=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,oI=/^[\u0021-\u003A\u003C-\u007E]*$/,lI=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,uI=/^[\u0020-\u003A\u003D-\u007E]*$/,cI=Object.prototype.toString,hI=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function fI(e,t){const n=new hI,i=e.length;if(i<2)return n;const r=(t==null?void 0:t.decode)||mI;let s=0;do{const a=e.indexOf("=",s);if(a===-1)break;const l=e.indexOf(";",s),u=l===-1?i:l;if(a>u){s=e.lastIndexOf(";",a-1)+1;continue}const c=u_(e,s,a),d=c_(e,a,c),p=e.slice(c,d);if(n[p]===void 0){let m=u_(e,a+1,u),g=c_(e,u,m);const C=r(e.slice(m,g));n[p]=C}s=u+1}while(s<i);return n}function u_(e,t,n){do{const i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function c_(e,t,n){for(;t>n;){const i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function dI(e,t,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!aI.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=i(t);if(!oI.test(r))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+r;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!lI.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!uI.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!pI(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function mI(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function pI(e){return cI.call(e)==="[object Date]"}var h_="popstate";function gI(e={}){function t(r,s){let{pathname:a="/",search:l="",hash:u=""}=Dr(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),md("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:_o(s))}function i(r,s){Ke(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return _I(t,n,i,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ke(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yI(){return Math.random().toString(36).substring(2,10)}function f_(e,t){return{usr:e.state,key:e.key,idx:t}}function md(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dr(t):t,state:n,key:t&&t.key||i||yI()}}function _o({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _I(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function p(){l="POP";let R=d(),E=R==null?null:R-c;c=R,u&&u({action:l,location:D.location,delta:E})}function m(R,E){l="PUSH";let _=md(D.location,R,E);n&&n(_,R),c=d()+1;let A=f_(_,c),M=D.createHref(_);try{a.pushState(A,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(M)}s&&u&&u({action:l,location:D.location,delta:1})}function g(R,E){l="REPLACE";let _=md(D.location,R,E);n&&n(_,R),c=d();let A=f_(_,c),M=D.createHref(_);a.replaceState(A,"",M),s&&u&&u({action:l,location:D.location,delta:0})}function C(R){return vI(R)}let D={get action(){return l},get location(){return e(r,a)},listen(R){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(h_,p),u=R,()=>{r.removeEventListener(h_,p),u=null}},createHref(R){return t(r,R)},createURL:C,encodeLocation(R){let E=C(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(R){return a.go(R)}};return D}function vI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:_o(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function zT(e,t,n="/"){return EI(e,t,n,!1)}function EI(e,t,n,i){let r=typeof t=="string"?Dr(t):t,s=Qn(r.pathname||"/",n);if(s==null)return null;let a=BT(e);TI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=xI(s);l=OI(a[u],c,i)}return l}function BT(e,t=[],n=[],i=""){let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Rt(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let c=Hn([i,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Rt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),BT(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:CI(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of jT(s.path))r(s,a,u)}),t}function jT(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=jT(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function TI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DI(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var SI=/^:[\w-]+$/,AI=3,bI=2,wI=1,RI=10,II=-2,d_=e=>e==="*";function CI(e,t){let n=e.split("/"),i=n.length;return n.some(d_)&&(i+=II),t&&(i+=bI),n.filter(r=>!d_(r)).reduce((r,s)=>r+(SI.test(s)?AI:s===""?wI:RI),i)}function DI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function OI(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,d=s==="/"?t:t.slice(s.length)||"/",p=Yu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=Yu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Hn([s,p.pathname]),pathnameBase:kI(Hn([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Hn([s,p.pathnameBase]))}return a}function Yu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=NI(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let C=l[m]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const g=l[m];return p&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function NI(e,t=!1,n=!0){Ke(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ke(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Qn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function MI(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Dr(e):e;return{pathname:n?n.startsWith("/")?n:VI(n,t):t,search:LI(i),hash:UI(r)}}function VI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function rf(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bm(e){let t=PI(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function jm(e,t,n,i=!1){let r;typeof e=="string"?r=Dr(e):(r={...e},Rt(!r.pathname||!r.pathname.includes("?"),rf("?","pathname","search",r)),Rt(!r.pathname||!r.pathname.includes("#"),rf("#","pathname","hash",r)),Rt(!r.search||!r.search.includes("#"),rf("#","search","hash",r)));let s=e===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=MI(r,l),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Hn=e=>e.join("/").replace(/\/\/+/g,"/"),kI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var BI=["GET",...HT];new Set(BI);var Qs=V.createContext(null);Qs.displayName="DataRouter";var Nc=V.createContext(null);Nc.displayName="DataRouterState";var qT=V.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var jI=V.createContext(new Map);jI.displayName="Fetchers";var HI=V.createContext(null);HI.displayName="Await";var rn=V.createContext(null);rn.displayName="Navigation";var Go=V.createContext(null);Go.displayName="Location";var An=V.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Hm=V.createContext(null);Hm.displayName="RouteError";function qI(e,{relative:t}={}){Rt($s(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(rn),{hash:r,pathname:s,search:a}=Ko(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Hn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function $s(){return V.useContext(Go)!=null}function Xi(){return Rt($s(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Go).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(e){V.useContext(rn).static||V.useLayoutEffect(e)}function Yo(){let{isDataRoute:e}=V.useContext(An);return e?nC():FI()}function FI(){Rt($s(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Qs),{basename:t,navigator:n}=V.useContext(rn),{matches:i}=V.useContext(An),{pathname:r}=Xi(),s=JSON.stringify(Bm(i)),a=V.useRef(!1);return GT(()=>{a.current=!0}),V.useCallback((u,c={})=>{if(Ke(a.current,FT),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=jm(u,JSON.parse(s),r,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Hn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,r,e])}V.createContext(null);function Ko(e,{relative:t}={}){let{matches:n}=V.useContext(An),{pathname:i}=Xi(),r=JSON.stringify(Bm(n));return V.useMemo(()=>jm(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function GI(e,t){return YT(e,t)}function YT(e,t,n,i){var E;Rt($s(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(rn),{matches:s}=V.useContext(An),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let _=d&&d.path||"";KT(u,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=Xi(),m;if(t){let _=typeof t=="string"?Dr(t):t;Rt(c==="/"||((E=_.pathname)==null?void 0:E.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=p;let g=m.pathname||"/",C=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");C="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let D=zT(e,{pathname:C});Ke(d||D!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ke(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=XI(D&&D.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Hn([c,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Hn([c,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,i);return t&&R?V.createElement(Go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},R):R}function YI(){let e=eC(),t=zI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:r},n):null,a)}var KI=V.createElement(YI,null),QI=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(An.Provider,{value:this.props.routeContext},V.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $I({routeContext:e,match:t,children:n}){let i=V.useContext(Qs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(An.Provider,{value:e},n)}function XI(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let u=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Rt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<r.length;u++){let c=r[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:p}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,c,d)=>{let p,m=!1,g=null,C=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||KI,a&&(l<0&&d===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===d&&(m=!0,C=c.route.hydrateFallbackElement||null)));let D=t.concat(r.slice(0,d+1)),R=()=>{let E;return p?E=g:m?E=C:c.route.Component?E=V.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,V.createElement($I,{match:c,routeContext:{outlet:u,matches:D,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?V.createElement(QI,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function qm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WI(e){let t=V.useContext(Qs);return Rt(t,qm(e)),t}function ZI(e){let t=V.useContext(Nc);return Rt(t,qm(e)),t}function JI(e){let t=V.useContext(An);return Rt(t,qm(e)),t}function Fm(e){let t=JI(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tC(){return Fm("useRouteId")}function eC(){var i;let e=V.useContext(Hm),t=ZI("useRouteError"),n=Fm("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function nC(){let{router:e}=WI("useNavigate"),t=Fm("useNavigate"),n=V.useRef(!1);return GT(()=>{n.current=!0}),V.useCallback(async(r,s={})=>{Ke(n.current,FT),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var m_={};function KT(e,t,n){!t&&!m_[e]&&(m_[e]=!0,Ke(!1,n))}V.memo(iC);function iC({routes:e,future:t,state:n}){return YT(e,void 0,n,t)}function Gm({to:e,replace:t,state:n,relative:i}){Rt($s(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=V.useContext(rn);Ke(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=V.useContext(An),{pathname:a}=Xi(),l=Yo(),u=jm(e,Bm(s),a,i==="path"),c=JSON.stringify(u);return V.useEffect(()=>{l(JSON.parse(c),{replace:t,state:n,relative:i})},[l,c,i,t,n]),null}function ui(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Rt(!$s(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=Dr(n));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=n,g=V.useMemo(()=>{let C=Qn(u,a);return C==null?null:{location:{pathname:C,search:c,hash:d,state:p,key:m},navigationType:i}},[a,u,c,d,p,m,i]);return Ke(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:V.createElement(rn.Provider,{value:l},V.createElement(Go.Provider,{children:t,value:g}))}function sC({children:e,location:t}){return GI(pd(e),t)}function pd(e,t=[]){let n=[];return V.Children.forEach(e,(i,r)=>{if(!V.isValidElement(i))return;let s=[...t,r];if(i.type===V.Fragment){n.push.apply(n,pd(i.props.children,s));return}Rt(i.type===ui,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=pd(i.props.children,s)),n.push(a)}),n}var ru="get",su="application/x-www-form-urlencoded";function xc(e){return e!=null&&typeof e.tagName=="string"}function aC(e){return xc(e)&&e.tagName.toLowerCase()==="button"}function oC(e){return xc(e)&&e.tagName.toLowerCase()==="form"}function lC(e){return xc(e)&&e.tagName.toLowerCase()==="input"}function uC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cC(e,t){return e.button===0&&(!t||t==="_self")&&!uC(e)}var Ll=null;function hC(){if(Ll===null)try{new FormData(document.createElement("form"),0),Ll=!1}catch{Ll=!0}return Ll}var fC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(e){return e!=null&&!fC.has(e)?(Ke(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):e}function dC(e,t){let n,i,r,s,a;if(oC(e)){let l=e.getAttribute("action");i=l?Qn(l,t):null,n=e.getAttribute("method")||ru,r=sf(e.getAttribute("enctype"))||su,s=new FormData(e)}else if(aC(e)||lC(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?Qn(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ru,r=sf(e.getAttribute("formenctype"))||sf(l.getAttribute("enctype"))||su,s=new FormData(l,e),!hC()){let{name:c,type:d,value:p}=e;if(d==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,p)}}else{if(xc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ru,i=null,r=su,a=e}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}function Ym(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function mC(e,t){if(e.id in t)return t[e.id];try{let n=await sI(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pC(e){return e!=null&&typeof e.page=="string"}function gC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yC(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let a=await mC(s,n);return a.links?a.links():[]}return[]}));return TC(i.flat(1).filter(gC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function p_(e,t,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?t.filter((u,c)=>{var p;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function _C(e,t,{includeHydrateFallback:n}={}){return vC(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function vC(e){return[...new Set(e)]}function EC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function TC(e,t){let n=new Set,i=new Set(t);return e.reduce((r,s)=>{if(t&&!pC(s)&&s.as==="script"&&s.href&&i.has(s.href))return r;let l=JSON.stringify(EC(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SC=new Set([100,101,204,205]);function AC(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Qn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function QT(){let e=V.useContext(Qs);return Ym(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bC(){let e=V.useContext(Nc);return Ym(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Km=V.createContext(void 0);Km.displayName="FrameworkContext";function $T(){let e=V.useContext(Km);return Ym(e,"You must render this element inside a <HydratedRouter> element"),e}function wC(e,t){let n=V.useContext(Km),[i,r]=V.useState(!1),[s,a]=V.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=t,m=V.useRef(null);V.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let D=E=>{E.forEach(_=>{a(_.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),V.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let g=()=>{r(!0)},C=()=>{r(!1),a(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:wa(l,g),onBlur:wa(u,C),onMouseEnter:wa(c,g),onMouseLeave:wa(d,C),onTouchStart:wa(p,g)}]:[!1,m,{}]}function wa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function RC({page:e,...t}){let{router:n}=QT(),i=V.useMemo(()=>zT(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?V.createElement(CC,{page:e,matches:i,...t}):null}function IC(e){let{manifest:t,routeModules:n}=$T(),[i,r]=V.useState([]);return V.useEffect(()=>{let s=!1;return yC(e,t,n).then(a=>{s||r(a)}),()=>{s=!0}},[e,t,n]),i}function CC({page:e,matches:t,...n}){let i=Xi(),{manifest:r,routeModules:s}=$T(),{basename:a}=QT(),{loaderData:l,matches:u}=bC(),c=V.useMemo(()=>p_(e,t,u,r,i,"data"),[e,t,u,r,i]),d=V.useMemo(()=>p_(e,t,u,r,i,"assets"),[e,t,u,r,i]),p=V.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,D=!1;if(t.forEach(E=>{var A;let _=r.routes[E.route.id];!_||!_.hasLoader||(!c.some(M=>M.route.id===E.route.id)&&E.route.id in l&&((A=s[E.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?D=!0:C.add(E.route.id))}),C.size===0)return[];let R=AC(e,a);return D&&C.size>0&&R.searchParams.set("_routes",t.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[a,l,i,r,c,t,e,s]),m=V.useMemo(()=>_C(d,r),[d,r]),g=IC(d);return V.createElement(V.Fragment,null,p.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),m.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),g.map(({key:C,link:D})=>V.createElement("link",{key:C,...D})))}function DC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.6.2")}catch{}function OC({basename:e,children:t,window:n}){let i=V.useRef();i.current==null&&(i.current=gI({window:n,v5Compat:!0}));let r=i.current,[s,a]=V.useState({action:r.action,location:r.location}),l=V.useCallback(u=>{V.startTransition(()=>a(u))},[a]);return V.useLayoutEffect(()=>r.listen(l),[r,l]),V.createElement(rC,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=V.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,...m},g){let{basename:C}=V.useContext(rn),D=typeof c=="string"&&WT.test(c),R,E=!1;if(typeof c=="string"&&D&&(R=c,XT))try{let T=new URL(window.location.href),b=c.startsWith("//")?new URL(T.protocol+c):new URL(c),I=Qn(b.pathname,C);b.origin===T.origin&&I!=null?c=I+b.search+b.hash:E=!0}catch{Ke(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=qI(c,{relative:r}),[A,M,z]=wC(i,m),j=VC(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:p});function S(T){t&&t(T),T.defaultPrevented||j(T)}let v=V.createElement("a",{...m,...z,href:R||_,onClick:E||s?t:S,ref:DC(g,M),target:u,"data-discover":!D&&n==="render"?"true":void 0});return A&&!D?V.createElement(V.Fragment,null,v,V.createElement(RC,{page:_})):v});ln.displayName="Link";var NC=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},d){let p=Ko(a,{relative:c.relative}),m=Xi(),g=V.useContext(Nc),{navigator:C,basename:D}=V.useContext(rn),R=g!=null&&zC(p)&&l===!0,E=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,_=m.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&D&&(A=Qn(A,D)||A);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=_===E||!r&&_.startsWith(E)&&_.charAt(M)==="/",j=A!=null&&(A===E||!r&&A.startsWith(E)&&A.charAt(E.length)==="/"),S={isActive:z,isPending:j,isTransitioning:R},v=z?t:void 0,T;typeof i=="function"?T=i(S):T=[i,z?"active":null,j?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(S):s;return V.createElement(ln,{...c,"aria-current":v,className:T,ref:d,style:b,to:a,viewTransition:l},typeof u=="function"?u(S):u)});NC.displayName="NavLink";var xC=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:a=ru,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,...m},g)=>{let C=LC(),D=UC(l,{relative:c}),R=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&WT.test(l),_=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||a;C(M||A.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:p})};return V.createElement("form",{ref:g,method:R,action:D,onSubmit:i?u:_,...m,"data-discover":!E&&e==="render"?"true":void 0})});xC.displayName="Form";function MC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(e){let t=V.useContext(Qs);return Rt(t,MC(e)),t}function VC(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=Yo(),u=Xi(),c=Ko(e,{relative:s});return V.useCallback(d=>{if(cC(d,t)){d.preventDefault();let p=n!==void 0?n:_o(u)===_o(c);l(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,c,n,i,t,e,r,s,a])}var PC=0,kC=()=>`__${String(++PC)}__`;function LC(){let{router:e}=ZT("useSubmit"),{basename:t}=V.useContext(rn),n=tC();return V.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:c}=dC(i,t);if(r.navigate===!1){let d=r.fetcherKey||kC();await e.fetch(d,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function UC(e,{relative:t}={}){let{basename:n}=V.useContext(rn),i=V.useContext(An);Rt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Ko(e||".",{relative:t})},a=Xi();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Hn([n,s.pathname])),_o(s)}function zC(e,t={}){let n=V.useContext(qT);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZT("useViewTransitionState"),r=Ko(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Qn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Qn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Yu(r.pathname,a)!=null||Yu(r.pathname,s)!=null}[...SC];const BC=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},jC=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},t1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,g=c&63;u||(g=64,a||(m=64)),i.push(n[d],n[p],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(JT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||c==null||p==null)throw new HC;const m=s<<2|l>>4;if(i.push(m),c!==64){const g=l<<4&240|c>>2;if(i.push(g),p!==64){const C=c<<6&192|p;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qC=function(e){const t=JT(e);return t1.encodeByteArray(t,!0)},Ku=function(e){return qC(e).replace(/\./g,"")},e1=function(e){try{return t1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=()=>FC().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},KC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&e1(e[1]);return t&&JSON.parse(t)},Mc=()=>{try{return BC()||GC()||YC()||KC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},n1=e=>{var t,n;return(n=(t=Mc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},QC=e=>{const t=n1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},i1=()=>{var e;return(e=Mc())===null||e===void 0?void 0:e.config},r1=e=>{var t;return(t=Mc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e){return e.endsWith(".cloudworkstations.dev")}async function s1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Ku(JSON.stringify(n)),Ku(JSON.stringify(a)),l].join(".")}const Wa={};function WC(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wa))Wa[t]?e.emulator.push(t):e.prod.push(t);return e}function ZC(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let g_=!1;function a1(e,t){if(typeof window>"u"||typeof document>"u"||!Xs(window.location.host)||Wa[e]===t||Wa[e]||g_)return;Wa[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=WC().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{g_=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=ZC(i),g=n("text"),C=document.getElementById(g)||document.createElement("span"),D=n("learnmore"),R=document.getElementById(D)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;l(A),d(R,D);const M=c();u(_,E),A.append(_,C,R,M),document.body.appendChild(A)}s?(C.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function t2(){var e;const t=(e=Mc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){const e=fe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function s2(){return!t2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function o2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="FirebaseError";class ti extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=l2,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?u2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ti(r,l,i)}}function u2(e,t){return e.replace(c2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const c2=/\{\$([^}]+)}/g;function h2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(y_(s)&&y_(a)){if(!vr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function y_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Na(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function xa(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function f2(e,t){const n=new d2(e,t);return n.subscribe.bind(n)}class d2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");m2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=af),r.error===void 0&&(r.error=af),r.complete===void 0&&(r.complete=af);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){return e&&e._delegate?e._delegate:e}class Er{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new $C;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(y2(t))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ar){return this.instances.has(t)}getOptions(t=ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:g2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ar){return this.component?this.component.multipleInstances?t:ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g2(e){return e===ar?void 0:e}function y2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new p2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));const v2={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},E2=rt.INFO,T2={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},S2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=T2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qm{constructor(t){this.name=t,this._logLevel=E2,this._logHandler=S2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?v2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}}const A2=(e,t)=>t.some(n=>e instanceof n);let __,v_;function b2(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w2(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,gd=new WeakMap,l1=new WeakMap,of=new WeakMap,$m=new WeakMap;function R2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Mi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&o1.set(n,e)}).catch(()=>{}),$m.set(t,e),t}function I2(e){if(gd.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});gd.set(e,t)}let yd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||l1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function C2(e){yd=e(yd)}function D2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(lf(this),t,...n);return l1.set(i,t.sort?t.sort():[t]),Mi(i)}:w2().includes(e)?function(...t){return e.apply(lf(this),t),Mi(o1.get(this))}:function(...t){return Mi(e.apply(lf(this),t))}}function O2(e){return typeof e=="function"?D2(e):(e instanceof IDBTransaction&&I2(e),A2(e,b2())?new Proxy(e,yd):e)}function Mi(e){if(e instanceof IDBRequest)return R2(e);if(of.has(e))return of.get(e);const t=O2(e);return t!==e&&(of.set(e,t),$m.set(t,e)),t}const lf=e=>$m.get(e);function N2(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Mi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Mi(a.result),u.oldVersion,u.newVersion,Mi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const x2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],uf=new Map;function E_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uf.get(t))return uf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=M2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||x2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return uf.set(t,s),s}C2(e=>({...e,get:(t,n,i)=>E_(t,n)||e.get(t,n,i),has:(t,n)=>!!E_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function P2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _d="@firebase/app",T_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Qm("@firebase/app"),k2="@firebase/app-compat",L2="@firebase/analytics-compat",U2="@firebase/analytics",z2="@firebase/app-check-compat",B2="@firebase/app-check",j2="@firebase/auth",H2="@firebase/auth-compat",q2="@firebase/database",F2="@firebase/data-connect",G2="@firebase/database-compat",Y2="@firebase/functions",K2="@firebase/functions-compat",Q2="@firebase/installations",$2="@firebase/installations-compat",X2="@firebase/messaging",W2="@firebase/messaging-compat",Z2="@firebase/performance",J2="@firebase/performance-compat",tD="@firebase/remote-config",eD="@firebase/remote-config-compat",nD="@firebase/storage",iD="@firebase/storage-compat",rD="@firebase/firestore",sD="@firebase/ai",aD="@firebase/firestore-compat",oD="firebase",lD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",uD={[_d]:"fire-core",[k2]:"fire-core-compat",[U2]:"fire-analytics",[L2]:"fire-analytics-compat",[B2]:"fire-app-check",[z2]:"fire-app-check-compat",[j2]:"fire-auth",[H2]:"fire-auth-compat",[q2]:"fire-rtdb",[F2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[Y2]:"fire-fn",[K2]:"fire-fn-compat",[Q2]:"fire-iid",[$2]:"fire-iid-compat",[X2]:"fire-fcm",[W2]:"fire-fcm-compat",[Z2]:"fire-perf",[J2]:"fire-perf-compat",[tD]:"fire-rc",[eD]:"fire-rc-compat",[nD]:"fire-gcs",[iD]:"fire-gcs-compat",[rD]:"fire-fst",[aD]:"fire-fst-compat",[sD]:"fire-vertex","fire-js":"fire-js",[oD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,cD=new Map,Ed=new Map;function S_(e,t){try{e.container.addComponent(t)}catch(n){$n.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ns(e){const t=e.name;if(Ed.has(t))return $n.debug(`There were multiple attempts to register component ${t}.`),!1;Ed.set(t,e);for(const n of Qu.values())S_(n,e);for(const n of cD.values())S_(n,e);return!0}function Xm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function He(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Qo("app","Firebase",hD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=lD;function u1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:vd,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Vi.create("bad-app-name",{appName:String(r)});if(n||(n=i1()),!n)throw Vi.create("no-options");const s=Qu.get(r);if(s){if(vr(n,s.options)&&vr(i,s.config))return s;throw Vi.create("duplicate-app",{appName:r})}const a=new _2(r);for(const u of Ed.values())a.addComponent(u);const l=new fD(n,i,a);return Qu.set(r,l),l}function c1(e=vd){const t=Qu.get(e);if(!t&&e===vd&&i1())return u1();if(!t)throw Vi.create("no-app",{appName:e});return t}function Pi(e,t,n){var i;let r=(i=uD[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$n.warn(l.join(" "));return}Ns(new Er(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",mD=1,vo="firebase-heartbeat-store";let cf=null;function h1(){return cf||(cf=N2(dD,mD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),cf}async function pD(e){try{const n=(await h1()).transaction(vo),i=await n.objectStore(vo).get(f1(e));return await n.done,i}catch(t){if(t instanceof ti)$n.warn(t.message);else{const n=Vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$n.warn(n.message)}}}async function A_(e,t){try{const i=(await h1()).transaction(vo,"readwrite");await i.objectStore(vo).put(t,f1(e)),await i.done}catch(n){if(n instanceof ti)$n.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function f1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1024,yD=30;class _D{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ED(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>yD){const a=TD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:i,unsentEntries:r}=vD(this._heartbeatsCache.heartbeats),s=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function vD(e,t=gD){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),w_(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),w_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ED{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?o2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function w_(e){return Ku(JSON.stringify({version:2,heartbeats:e})).length}function TD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e){Ns(new Er("platform-logger",t=>new V2(t),"PRIVATE")),Ns(new Er("heartbeat",t=>new _D(t),"PRIVATE")),Pi(_d,T_,e),Pi(_d,T_,"esm2017"),Pi("fire-js","")}SD("");var AD="firebase",bD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(AD,bD,"app");function Wm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=d1,m1=new Qo("auth","Firebase",d1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Qm("@firebase/auth");function RD(e,...t){$u.logLevel<=rt.WARN&&$u.warn(`Auth (${Ws}): ${e}`,...t)}function au(e,...t){$u.logLevel<=rt.ERROR&&$u.error(`Auth (${Ws}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e,...t){throw Zm(e,...t)}function mn(e,...t){return Zm(e,...t)}function p1(e,t,n){const i=Object.assign(Object.assign({},wD()),{[t]:n});return new Qo("auth","Firebase",i).create(t,{appName:e.name})}function qn(e){return p1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return m1.create(e,...t)}function F(e,t,...n){if(!e)throw Zm(t,...n)}function Un(e){const t="INTERNAL ASSERTION FAILED: "+e;throw au(t),new Error(t)}function Xn(e,t){e||Un(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ID(){return R_()==="http:"||R_()==="https:"}function R_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ID()||n2()||"connection"in navigator)?navigator.onLine:!0}function DD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xn(n>t,"Short delay should be less than long delay!"),this.isMobile=JC()||i2()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e,t){Xn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xD=new Xo(3e4,6e4);function ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function bn(e,t,n,i,r={}){return y1(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=$o(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:u},s);return e2()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Xs(e.emulatorConfig.host)&&(c.credentials="include"),g1.fetch()(await _1(e,e.config.apiHost,n,l),c)})}async function y1(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},OD),t);try{const r=new VD(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ul(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ul(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ul(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p1(e,d,c);en(e,d)}}catch(r){if(r instanceof ti)throw r;en(e,"network-request-failed",{message:String(r)})}}async function Wo(e,t,n,i,r={}){const s=await bn(e,t,n,i,r);return"mfaPendingCredential"in s&&en(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function _1(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Jm(e.config,r):`${e.config.apiScheme}://${r}`;return ND.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function MD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(mn(this.auth,"network-request-failed")),xD.get())})}}function Ul(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=mn(e,t,i);return r.customData._tokenResponse=n,r}function I_(e){return e!==void 0&&e.enterprise!==void 0}class PD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return MD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(e,t){return bn(e,"GET","/v2/recaptchaConfig",ei(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t){return bn(e,"POST","/v1/accounts:delete",t)}async function Xu(e,t){return bn(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UD(e,t=!1){const n=ye(e),i=await n.getIdToken(t),r=tp(i);F(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Za(hf(r.auth_time)),issuedAtTime:Za(hf(r.iat)),expirationTime:Za(hf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hf(e){return Number(e)*1e3}function tp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const r=e1(n);return r?JSON.parse(r):(au("Failed to decode base64 JWT payload"),null)}catch(r){return au("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function C_(e){const t=tp(e);return F(t,"internal-error"),F(typeof t.exp<"u","internal-error"),F(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ti&&zD(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function zD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await xs(e,Xu(n,{idToken:i}));F(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?v1(s.providerUserInfo):[],l=HD(e.providerData,a),u=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Sd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function jD(e){const t=ye(e);await Wu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HD(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function v1(e){return e.map(t=>{var{providerId:n}=t,i=Wm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(e,t){const n=await y1(e,{},async()=>{const i=$o({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await _1(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Xs(e.emulatorConfig.host)&&(u.credentials="include"),g1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(e,t){return bn(e,"POST","/v2/accounts:revokeToken",ei(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){F(t.idToken,"internal-error"),F(typeof t.idToken<"u","internal-error"),F(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):C_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){F(t.length!==0,"internal-error");const n=C_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await qD(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new gs;return i&&(F(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(F(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(F(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gs,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e,t){F(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class We{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Wm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await xs(this,this.stsTokenManager.getToken(this.auth,t));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UD(this,t)}reload(){return jD(this)}_assign(t){this!==t&&(F(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new We(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Wu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(He(this.auth.app))return Promise.reject(qn(this.auth));const t=await this.getIdToken();return await xs(this,LD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,c,d;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,D=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:M,isAnonymous:z,providerData:j,stsTokenManager:S}=n;F(A&&S,t,"internal-error");const v=gs.fromJSON(this.name,S);F(typeof A=="string",t,"internal-error"),oi(p,t.name),oi(m,t.name),F(typeof M=="boolean",t,"internal-error"),F(typeof z=="boolean",t,"internal-error"),oi(g,t.name),oi(C,t.name),oi(D,t.name),oi(R,t.name),oi(E,t.name),oi(_,t.name);const T=new We({uid:A,auth:t,email:m,emailVerified:M,displayName:p,isAnonymous:z,photoURL:C,phoneNumber:g,tenantId:D,stsTokenManager:v,createdAt:E,lastLoginAt:_});return j&&Array.isArray(j)&&(T.providerData=j.map(b=>Object.assign({},b))),R&&(T._redirectEventId=R),T}static async _fromIdTokenResponse(t,n,i=!1){const r=new gs;r.updateFromServerResponse(n);const s=new We({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Wu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];F(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?v1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new gs;l.updateFromIdToken(i);const u=new We({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Sd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function zn(e){Xn(e instanceof Function,"Expected a class definition");let t=D_.get(e);return t?(Xn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,D_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}E1.type="NONE";const O_=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e,t,n){return`firebase:${e}:${t}:${n}`}class ys{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ou(this.userKey,r.apiKey,s),this.fullPersistenceKey=ou("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xu(this.auth,{idToken:t}).catch(()=>{});return n?We._fromGetAccountInfoResponse(this.auth,n,t):null}return We._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ys(zn(O_),t,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||zn(O_);const a=ou(i,t.config.apiKey,t.name);let l=null;for(const c of n)try{const d=await c._get(a);if(d){let p;if(typeof d=="string"){const m=await Xu(t,{idToken:d}).catch(()=>{});if(!m)break;p=await We._fromGetAccountInfoResponse(t,m,d)}else p=We._fromJSON(t,d);c!==s&&(l=p),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ys(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ys(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R1(t))return"Blackberry";if(I1(t))return"Webos";if(S1(t))return"Safari";if((t.includes("chrome/")||A1(t))&&!t.includes("edge/"))return"Chrome";if(w1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T1(e=fe()){return/firefox\//i.test(e)}function S1(e=fe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A1(e=fe()){return/crios\//i.test(e)}function b1(e=fe()){return/iemobile/i.test(e)}function w1(e=fe()){return/android/i.test(e)}function R1(e=fe()){return/blackberry/i.test(e)}function I1(e=fe()){return/webos/i.test(e)}function ep(e=fe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function GD(e=fe()){var t;return ep(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function YD(){return r2()&&document.documentMode===10}function C1(e=fe()){return ep(e)||w1(e)||I1(e)||R1(e)||/windows phone/i.test(e)||b1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e,t=[]){let n;switch(e){case"Browser":n=N_(fe());break;case"Worker":n=`${N_(fe())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(e,t={}){return bn(e,"GET","/v2/passwordPolicy",ei(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=6;class XD{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$D,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ys.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xu(this,{idToken:t}),i=await We._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(He(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(He(this.app))return Promise.reject(qn(this));const n=t?ye(t):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&F(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return He(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return He(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QD(this),n=new XD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await FD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zn(t)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(He(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&RD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wi(e){return ye(e)}class x_{constructor(t){this.auth=t,this.observer=null,this.addObserver=f2(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(e){Vc=e}function O1(e){return Vc.loadJS(e)}function JD(){return Vc.recaptchaEnterpriseScript}function tO(){return Vc.gapiScript}function eO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class nO{constructor(){this.enterprise=new iO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class iO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const rO="recaptcha-enterprise",N1="NO_RECAPTCHA";class sO{constructor(t){this.type=rO,this.auth=Wi(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{kD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new PD(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;I_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(c=>{a(c)}).catch(()=>{a(N1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nO().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&I_(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JD();u.length!==0&&(u+=l),O1(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function Ra(e,t,n,i=!1,r=!1){const s=new sO(e);let a;if(r)a=N1;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Zu(e,t,n,i,r){var s,a;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ra(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ra(e,t,n,n==="getOobCode");return i(e,u)}else return Promise.reject(l)});else if(r==="PHONE_PROVIDER")if(!((a=e._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Ra(e,t,n);return i(e,l).catch(async u=>{var c;if(((c=e._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Ra(e,t,n,!1,!0);return i(e,d)}return Promise.reject(u)})}else{const l=await Ra(e,t,n,!1,!0);return i(e,l)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(e,t){const n=Xm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(vr(s,t??{}))return r;en(r,"already-initialized")}return n.initialize({options:t})}function oO(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function lO(e,t,n){const i=Wi(e);F(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=x1(t),{host:a,port:l}=uO(t),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){F(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),F(vr(c,i.config.emulator)&&vr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Xs(a)?(s1(`${s}//${a}${u}`),a1("Auth",!0)):r||cO()}function x1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uO(e){const t=x1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:M_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:M_(a)}}}function M_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function cO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(t){return Un("not implemented")}_linkToIdToken(t,n){return Un("not implemented")}_getReauthenticationResolver(t){return Un("not implemented")}}async function hO(e,t){return bn(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(e,t){return Wo(e,"POST","/v1/accounts:signInWithPassword",ei(e,t))}async function dO(e,t){return bn(e,"POST","/v1/accounts:sendOobCode",ei(e,t))}async function mO(e,t){return dO(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(e,t){return Wo(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}async function gO(e,t){return Wo(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends np{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Eo(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Eo(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(t,n,"signInWithPassword",fO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return pO(t,{email:this._email,oobCode:this._password});default:en(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(t,i,"signUpPassword",hO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return gO(t,{idToken:n,email:this._email,oobCode:this._password});default:en(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(e,t){return Wo(e,"POST","/v1/accounts:signInWithIdp",ei(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="http://localhost";class Tr extends np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Wm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Tr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return _s(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,_s(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_s(t,n)}buildRequest(){const t={requestUri:yO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$o(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vO(e){const t=Na(xa(e)).link,n=t?Na(xa(t)).deep_link_id:null,i=Na(xa(e)).deep_link_id;return(i?Na(xa(i)).link:null)||i||n||t||e}class ip{constructor(t){var n,i,r,s,a,l;const u=Na(xa(t)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(i=u.oobCode)!==null&&i!==void 0?i:null,p=_O((r=u.mode)!==null&&r!==void 0?r:null);F(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=vO(t);try{return new ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.providerId=Zs.PROVIDER_ID}static credential(t,n){return Eo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=ip.parseLink(n);return F(i,"argument-error"),Eo._fromEmailAndCode(t,i.code,i.tenantId)}}Zs.PROVIDER_ID="password";Zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends M1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Zo{constructor(){super("facebook.com")}static credential(t){return Tr._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tr._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Zo{constructor(){super("github.com")}static credential(t){return Tr._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Zo{constructor(){super("twitter.com")}static credential(t,n){return Tr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(e,t){return Wo(e,"POST","/v1/accounts:signUp",ei(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await We._fromIdTokenResponse(t,i,r),a=V_(i);return new Sr({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=V_(i);return new Sr({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function V_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends ti{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Ju(t,n,i,r)}}function V1(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(e,s,t,i):s})}async function TO(e,t,n=!1){const i=await xs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(e,t,n=!1){const{auth:i}=e;if(He(i.app))return Promise.reject(qn(i));const r="reauthenticate";try{const s=await xs(e,V1(i,r,t,e),n);F(s.idToken,i,"internal-error");const a=tp(s.idToken);F(a,i,"internal-error");const{sub:l}=a;return F(e.uid===l,i,"user-mismatch"),Sr._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&en(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(e,t,n=!1){if(He(e.app))return Promise.reject(qn(e));const i="signIn",r=await V1(e,i,t),s=await Sr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function AO(e,t){return P1(Wi(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e,t,n){var i;F(((i=n.url)===null||i===void 0?void 0:i.length)>0,e,"invalid-continue-uri"),F(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),F(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(F(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(F(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(e){const t=Wi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wO(e,t,n){const i=Wi(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&bO(i,r,n),await Zu(i,r,"getOobCode",mO,"EMAIL_PASSWORD_PROVIDER")}async function RO(e,t,n){if(He(e.app))return Promise.reject(qn(e));const i=Wi(e),a=await Zu(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EO,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&k1(e),u}),l=await Sr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function IO(e,t,n){return He(e.app)?Promise.reject(qn(e)):AO(ye(e),Zs.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k1(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(e,t){return bn(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=ye(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await xs(i,CO(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function OO(e,t,n,i){return ye(e).onIdTokenChanged(t,n,i)}function NO(e,t,n){return ye(e).beforeAuthStateChanged(t,n)}function L1(e,t,n,i){return ye(e).onAuthStateChanged(t,n,i)}function xO(e){return ye(e).signOut()}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1e3,VO=10;class z1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);YD()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,VO):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}z1.type="LOCAL";const PO=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}B1.type="SESSION";const j1=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Pc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await kO(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=rp("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function UO(e){pn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function zO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function jO(){return H1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",HO=1,ec="firebaseLocalStorage",F1="fbase_key";class Jo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kc(e,t){return e.transaction([ec],t?"readwrite":"readonly").objectStore(ec)}function qO(){const e=indexedDB.deleteDatabase(q1);return new Jo(e).toPromise()}function Ad(){const e=indexedDB.open(q1,HO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(ec,{keyPath:F1})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(ec)?t(i):(i.close(),await qO(),t(await Ad()))})})}async function P_(e,t,n){const i=kc(e,!0).put({[F1]:t,value:n});return new Jo(i).toPromise()}async function FO(e,t){const n=kc(e,!1).get(t),i=await new Jo(n).toPromise();return i===void 0?null:i.value}function k_(e,t){const n=kc(e,!0).delete(t);return new Jo(n).toPromise()}const GO=800,YO=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>YO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pc._getInstance(jO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await zO(),!this.activeServiceWorker)return;this.sender=new LO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ad();return await P_(t,tc,"1"),await k_(t,tc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>P_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>FO(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>k_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=kc(r,!1).getAll();return new Jo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const KO=G1;new Xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t){return t?zn(t):(F(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends np{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _s(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _s(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _s(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $O(e){return P1(e.auth,new sp(e),e.bypassAuthState)}function XO(e){const{auth:t,user:n}=e;return F(n,t,"internal-error"),SO(n,new sp(e),e.bypassAuthState)}async function WO(e){const{auth:t,user:n}=e;return F(n,t,"internal-error"),TO(n,new sp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $O;case"linkViaPopup":case"linkViaRedirect":return WO;case"reauthViaPopup":case"reauthViaRedirect":return XO;default:en(this.auth,"internal-error")}}resolve(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Xo(2e3,1e4);class os extends Y1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return F(t,this.auth,"internal-error"),t}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const t=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZO.get())};t()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",lu=new Map;class tN extends Y1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=lu.get(this.auth._key());if(!t){try{const i=await eN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}lu.set(this.auth._key(),t)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(e,t){const n=rN(t),i=iN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function nN(e,t){lu.set(e._key(),t)}function iN(e){return zn(e._redirectPersistence)}function rN(e){return ou(JO,e.config.apiKey,e.name)}async function sN(e,t,n=!1){if(He(e.app))return Promise.reject(qn(e));const i=Wi(e),r=QO(i,t),a=await new tN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class oN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!K1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(mn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(t))}saveEventToCache(t){this.cachedEventUids.add(L_(t)),this.lastProcessedEventTime=Date.now()}}function L_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function K1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(e,t={}){return bn(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await uN(e);for(const n of t)try{if(dN(n))return}catch{}en(e,"unauthorized-domain")}function dN(e){const t=Td(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!hN.test(n))return!1;if(cN.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Xo(3e4,6e4);function U_(){const e=pn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function pN(e){return new Promise((t,n)=>{var i,r,s;function a(){U_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(mn(e,"network-request-failed"))},timeout:mN.get()})}if(!((r=(i=pn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=pn().gapi)===null||s===void 0)&&s.load)a();else{const l=eO("iframefcb");return pn()[l]=()=>{gapi.load?a():n(mn(e,"network-request-failed"))},O1(`${tO()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw uu=null,t})}let uu=null;function gN(e){return uu=uu||pN(e),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Xo(5e3,15e3),_N="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SN(e){const t=e.config;F(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jm(t,vN):`https://${e.config.authDomain}/${_N}`,i={apiKey:t.apiKey,appName:e.name,v:Ws},r=TN.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${$o(i).slice(1)}`}async function AN(e){const t=await gN(e),n=pn().gapi;return F(n,e,"internal-error"),t.open({where:document.body,url:SN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=mn(e,"network-request-failed"),l=pn().setTimeout(()=>{s(a)},yN.get());function u(){pn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,RN=600,IN="_blank",CN="http://localhost";class z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DN(e,t,n,i=wN,r=RN){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},bN),{width:i.toString(),height:r.toString(),top:s,left:a}),c=fe().toLowerCase();n&&(l=A1(c)?IN:n),T1(c)&&(t=t||CN,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[g,C])=>`${m}${g}=${C},`,"");if(GD(c)&&l!=="_self")return ON(t||"",l),new z_(null);const p=window.open(t||"",l,d);F(p,e,"popup-blocked");try{p.focus()}catch{}return new z_(p)}function ON(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",xN="emulator/auth/handler",MN=encodeURIComponent("fac");async function B_(e,t,n,i,r,s){F(e.config.authDomain,e,"auth-domain-config-required"),F(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ws,eventId:r};if(t instanceof M1){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",h2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries(s||{}))a[d]=p}if(t instanceof Zo){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),c=u?`#${MN}=${encodeURIComponent(u)}`:"";return`${VN(e)}?${$o(l).slice(1)}${c}`}function VN({config:e}){return e.emulator?Jm(e,xN):`https://${e.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(t,n,i,r){var s;Xn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await B_(t,n,i,Td(),r);return DN(t,a,rp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await B_(t,n,i,Td(),r);return UO(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Xn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await AN(t),i=new oN(t);return n.register("authEvent",r=>(F(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ff,{type:ff},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[ff];a!==void 0&&n(!!a),en(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return C1()||S1()||ep()}}const kN=PN;var j_="@firebase/auth",H_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zN(e){Ns(new Er("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;F(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(e)},c=new WD(i,r,s,u);return oO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ns(new Er("auth-internal",t=>{const n=Wi(t.getProvider("auth").getImmediate());return(i=>new LN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(j_,H_,UN(e)),Pi(j_,H_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=5*60,jN=r1("authIdTokenMaxAge")||BN;let q_=null;const HN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jN)return;const r=n==null?void 0:n.token;q_!==r&&(q_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function qN(e=c1()){const t=Xm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=aO(e,{popupRedirectResolver:kN,persistence:[KO,PO,j1]}),i=r1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=HN(s.toString());NO(n,a,()=>a(n.currentUser)),OO(n,l=>a(l))}}const r=n1("auth");return r&&lO(n,`http://${r}`),n}function FN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ZD({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=mn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",FN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zN("Browser");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,Q1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,v){function T(){}T.prototype=v.prototype,S.D=v.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(b,I,x){for(var w=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)w[Qe-2]=arguments[Qe];return v.prototype[I].apply(b,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,v,T){T||(T=0);var b=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)b[I]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(I=0;16>I;++I)b[I]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=S.g[0],T=S.g[1],I=S.g[2];var x=S.g[3],w=v+(x^T&(I^x))+b[0]+3614090360&4294967295;v=T+(w<<7&4294967295|w>>>25),w=x+(I^v&(T^I))+b[1]+3905402710&4294967295,x=v+(w<<12&4294967295|w>>>20),w=I+(T^x&(v^T))+b[2]+606105819&4294967295,I=x+(w<<17&4294967295|w>>>15),w=T+(v^I&(x^v))+b[3]+3250441966&4294967295,T=I+(w<<22&4294967295|w>>>10),w=v+(x^T&(I^x))+b[4]+4118548399&4294967295,v=T+(w<<7&4294967295|w>>>25),w=x+(I^v&(T^I))+b[5]+1200080426&4294967295,x=v+(w<<12&4294967295|w>>>20),w=I+(T^x&(v^T))+b[6]+2821735955&4294967295,I=x+(w<<17&4294967295|w>>>15),w=T+(v^I&(x^v))+b[7]+4249261313&4294967295,T=I+(w<<22&4294967295|w>>>10),w=v+(x^T&(I^x))+b[8]+1770035416&4294967295,v=T+(w<<7&4294967295|w>>>25),w=x+(I^v&(T^I))+b[9]+2336552879&4294967295,x=v+(w<<12&4294967295|w>>>20),w=I+(T^x&(v^T))+b[10]+4294925233&4294967295,I=x+(w<<17&4294967295|w>>>15),w=T+(v^I&(x^v))+b[11]+2304563134&4294967295,T=I+(w<<22&4294967295|w>>>10),w=v+(x^T&(I^x))+b[12]+1804603682&4294967295,v=T+(w<<7&4294967295|w>>>25),w=x+(I^v&(T^I))+b[13]+4254626195&4294967295,x=v+(w<<12&4294967295|w>>>20),w=I+(T^x&(v^T))+b[14]+2792965006&4294967295,I=x+(w<<17&4294967295|w>>>15),w=T+(v^I&(x^v))+b[15]+1236535329&4294967295,T=I+(w<<22&4294967295|w>>>10),w=v+(I^x&(T^I))+b[1]+4129170786&4294967295,v=T+(w<<5&4294967295|w>>>27),w=x+(T^I&(v^T))+b[6]+3225465664&4294967295,x=v+(w<<9&4294967295|w>>>23),w=I+(v^T&(x^v))+b[11]+643717713&4294967295,I=x+(w<<14&4294967295|w>>>18),w=T+(x^v&(I^x))+b[0]+3921069994&4294967295,T=I+(w<<20&4294967295|w>>>12),w=v+(I^x&(T^I))+b[5]+3593408605&4294967295,v=T+(w<<5&4294967295|w>>>27),w=x+(T^I&(v^T))+b[10]+38016083&4294967295,x=v+(w<<9&4294967295|w>>>23),w=I+(v^T&(x^v))+b[15]+3634488961&4294967295,I=x+(w<<14&4294967295|w>>>18),w=T+(x^v&(I^x))+b[4]+3889429448&4294967295,T=I+(w<<20&4294967295|w>>>12),w=v+(I^x&(T^I))+b[9]+568446438&4294967295,v=T+(w<<5&4294967295|w>>>27),w=x+(T^I&(v^T))+b[14]+3275163606&4294967295,x=v+(w<<9&4294967295|w>>>23),w=I+(v^T&(x^v))+b[3]+4107603335&4294967295,I=x+(w<<14&4294967295|w>>>18),w=T+(x^v&(I^x))+b[8]+1163531501&4294967295,T=I+(w<<20&4294967295|w>>>12),w=v+(I^x&(T^I))+b[13]+2850285829&4294967295,v=T+(w<<5&4294967295|w>>>27),w=x+(T^I&(v^T))+b[2]+4243563512&4294967295,x=v+(w<<9&4294967295|w>>>23),w=I+(v^T&(x^v))+b[7]+1735328473&4294967295,I=x+(w<<14&4294967295|w>>>18),w=T+(x^v&(I^x))+b[12]+2368359562&4294967295,T=I+(w<<20&4294967295|w>>>12),w=v+(T^I^x)+b[5]+4294588738&4294967295,v=T+(w<<4&4294967295|w>>>28),w=x+(v^T^I)+b[8]+2272392833&4294967295,x=v+(w<<11&4294967295|w>>>21),w=I+(x^v^T)+b[11]+1839030562&4294967295,I=x+(w<<16&4294967295|w>>>16),w=T+(I^x^v)+b[14]+4259657740&4294967295,T=I+(w<<23&4294967295|w>>>9),w=v+(T^I^x)+b[1]+2763975236&4294967295,v=T+(w<<4&4294967295|w>>>28),w=x+(v^T^I)+b[4]+1272893353&4294967295,x=v+(w<<11&4294967295|w>>>21),w=I+(x^v^T)+b[7]+4139469664&4294967295,I=x+(w<<16&4294967295|w>>>16),w=T+(I^x^v)+b[10]+3200236656&4294967295,T=I+(w<<23&4294967295|w>>>9),w=v+(T^I^x)+b[13]+681279174&4294967295,v=T+(w<<4&4294967295|w>>>28),w=x+(v^T^I)+b[0]+3936430074&4294967295,x=v+(w<<11&4294967295|w>>>21),w=I+(x^v^T)+b[3]+3572445317&4294967295,I=x+(w<<16&4294967295|w>>>16),w=T+(I^x^v)+b[6]+76029189&4294967295,T=I+(w<<23&4294967295|w>>>9),w=v+(T^I^x)+b[9]+3654602809&4294967295,v=T+(w<<4&4294967295|w>>>28),w=x+(v^T^I)+b[12]+3873151461&4294967295,x=v+(w<<11&4294967295|w>>>21),w=I+(x^v^T)+b[15]+530742520&4294967295,I=x+(w<<16&4294967295|w>>>16),w=T+(I^x^v)+b[2]+3299628645&4294967295,T=I+(w<<23&4294967295|w>>>9),w=v+(I^(T|~x))+b[0]+4096336452&4294967295,v=T+(w<<6&4294967295|w>>>26),w=x+(T^(v|~I))+b[7]+1126891415&4294967295,x=v+(w<<10&4294967295|w>>>22),w=I+(v^(x|~T))+b[14]+2878612391&4294967295,I=x+(w<<15&4294967295|w>>>17),w=T+(x^(I|~v))+b[5]+4237533241&4294967295,T=I+(w<<21&4294967295|w>>>11),w=v+(I^(T|~x))+b[12]+1700485571&4294967295,v=T+(w<<6&4294967295|w>>>26),w=x+(T^(v|~I))+b[3]+2399980690&4294967295,x=v+(w<<10&4294967295|w>>>22),w=I+(v^(x|~T))+b[10]+4293915773&4294967295,I=x+(w<<15&4294967295|w>>>17),w=T+(x^(I|~v))+b[1]+2240044497&4294967295,T=I+(w<<21&4294967295|w>>>11),w=v+(I^(T|~x))+b[8]+1873313359&4294967295,v=T+(w<<6&4294967295|w>>>26),w=x+(T^(v|~I))+b[15]+4264355552&4294967295,x=v+(w<<10&4294967295|w>>>22),w=I+(v^(x|~T))+b[6]+2734768916&4294967295,I=x+(w<<15&4294967295|w>>>17),w=T+(x^(I|~v))+b[13]+1309151649&4294967295,T=I+(w<<21&4294967295|w>>>11),w=v+(I^(T|~x))+b[4]+4149444226&4294967295,v=T+(w<<6&4294967295|w>>>26),w=x+(T^(v|~I))+b[11]+3174756917&4294967295,x=v+(w<<10&4294967295|w>>>22),w=I+(v^(x|~T))+b[2]+718787259&4294967295,I=x+(w<<15&4294967295|w>>>17),w=T+(x^(I|~v))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+x&4294967295}i.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var T=v-this.blockSize,b=this.B,I=this.h,x=0;x<v;){if(I==0)for(;x<=T;)r(this,S,x),x+=this.blockSize;if(typeof S=="string"){for(;x<v;)if(b[I++]=S.charCodeAt(x++),I==this.blockSize){r(this,b),I=0;break}}else for(;x<v;)if(b[I++]=S[x++],I==this.blockSize){r(this,b),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var T=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=T&255,T/=256;for(this.u(S),S=Array(16),v=T=0;4>v;++v)for(var b=0;32>b;b+=8)S[T++]=this.g[v]>>>b&255;return S};function s(S,v){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=v(S)}function a(S,v){this.h=v;for(var T=[],b=!0,I=S.length-1;0<=I;I--){var x=S[I]|0;b&&x==v||(T[I]=x,b=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?s(S,function(v){return new a([v|0],0>v?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return R(c(-S));for(var v=[],T=1,b=0;S>=T;b++)v[b]=S/T|0,T*=4294967296;return new a(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return R(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(v,8)),b=p,I=0;I<S.length;I+=8){var x=Math.min(8,S.length-I),w=parseInt(S.substring(I,I+x),v);8>x?(x=c(Math.pow(v,x)),b=b.j(x).add(c(w))):(b=b.j(T),b=b.add(c(w)))}return b}var p=u(0),m=u(1),g=u(16777216);e=a.prototype,e.m=function(){if(D(this))return-R(this).m();for(var S=0,v=1,T=0;T<this.g.length;T++){var b=this.i(T);S+=(0<=b?b:4294967296+b)*v,v*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(D(this))return"-"+R(this).toString(S);for(var v=c(Math.pow(S,6)),T=this,b="";;){var I=M(T,v).g;T=E(T,I.j(v));var x=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=I,C(T))return x+b;for(;6>x.length;)x="0"+x;b=x+b}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function D(S){return S.h==-1}e.l=function(S){return S=E(this,S),D(S)?-1:C(S)?0:1};function R(S){for(var v=S.g.length,T=[],b=0;b<v;b++)T[b]=~S.g[b];return new a(T,~S.h).add(m)}e.abs=function(){return D(this)?R(this):this},e.add=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],b=0,I=0;I<=v;I++){var x=b+(this.i(I)&65535)+(S.i(I)&65535),w=(x>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);b=w>>>16,x&=65535,w&=65535,T[I]=w<<16|x}return new a(T,T[T.length-1]&-2147483648?-1:0)};function E(S,v){return S.add(R(v))}e.j=function(S){if(C(this)||C(S))return p;if(D(this))return D(S)?R(this).j(R(S)):R(R(this).j(S));if(D(S))return R(this.j(R(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,T=[],b=0;b<2*v;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<S.g.length;I++){var x=this.i(b)>>>16,w=this.i(b)&65535,Qe=S.i(I)>>>16,wn=S.i(I)&65535;T[2*b+2*I]+=w*wn,_(T,2*b+2*I),T[2*b+2*I+1]+=x*wn,_(T,2*b+2*I+1),T[2*b+2*I+1]+=w*Qe,_(T,2*b+2*I+1),T[2*b+2*I+2]+=x*Qe,_(T,2*b+2*I+2)}for(b=0;b<v;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=v;b<2*v;b++)T[b]=0;return new a(T,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function A(S,v){this.g=S,this.h=v}function M(S,v){if(C(v))throw Error("division by zero");if(C(S))return new A(p,p);if(D(S))return v=M(R(S),v),new A(R(v.g),R(v.h));if(D(v))return v=M(S,R(v)),new A(R(v.g),v.h);if(30<S.g.length){if(D(S)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var T=m,b=v;0>=b.l(S);)T=z(T),b=z(b);var I=j(T,1),x=j(b,1);for(b=j(b,2),T=j(T,2);!C(b);){var w=x.add(b);0>=w.l(S)&&(I=I.add(T),x=w),b=j(b,1),T=j(T,1)}return v=E(S,I.j(v)),new A(I,v)}for(I=p;0<=S.l(v);){for(T=Math.max(1,Math.floor(S.m()/v.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),x=c(T),w=x.j(v);D(w)||0<w.l(S);)T-=b,x=c(T),w=x.j(v);C(x)&&(x=m),I=I.add(x),S=E(S,w)}return new A(I,S)}e.A=function(S){return M(this,S).h},e.and=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],b=0;b<v;b++)T[b]=this.i(b)&S.i(b);return new a(T,this.h&S.h)},e.or=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],b=0;b<v;b++)T[b]=this.i(b)|S.i(b);return new a(T,this.h|S.h)},e.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],b=0;b<v;b++)T[b]=this.i(b)^S.i(b);return new a(T,this.h^S.h)};function z(S){for(var v=S.g.length+1,T=[],b=0;b<v;b++)T[b]=S.i(b)<<1|S.i(b-1)>>>31;return new a(T,S.h)}function j(S,v){var T=v>>5;v%=32;for(var b=S.g.length-T,I=[],x=0;x<b;x++)I[x]=0<v?S.i(x+T)>>>v|S.i(x+T+1)<<32-v:S.i(x+T);return new a(I,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Q1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,ki=a}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $1,Ma,X1,cu,bd,W1,Z1,J1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,f){return o==Array.prototype||o==Object.prototype||(o[h]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var h=0;h<o.length;++h){var f=o[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)t:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var N=o[y];if(!(N in f))break t;f=f[N]}o=o[o.length-1],y=f[o],h=h(y),h!=y&&h!=null&&t(f,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var f=0,y=!1,N={next:function(){if(!y&&f<o.length){var P=f++;return{value:h(P,o[P]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}r("Array.prototype.values",function(o){return o||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function d(o,h,f){return o.call.apply(o.bind,arguments)}function p(o,h,f){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),o.apply(h,N)}}return function(){return o.apply(h,arguments)}}function m(o,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function g(o,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function C(o,h){function f(){}f.prototype=h.prototype,o.aa=h.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(y,N,P){for(var B=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)B[gt-2]=arguments[gt];return h.prototype[N].apply(y,B)}}function D(o){const h=o.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=o[y];return f}return[]}function R(o,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const N=o.length||0,P=y.length||0;o.length=N+P;for(let B=0;B<P;B++)o[N+B]=y[B]}else o.push(y)}}class E{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(o){return/^[\s\xa0]*$/.test(o)}function A(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function M(o){return M[" "](o),o}M[" "]=function(){};var z=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function j(o,h,f){for(const y in o)h.call(f,o[y],y,o)}function S(o,h){for(const f in o)h.call(void 0,o[f],f,o)}function v(o){const h={};for(const f in o)h[f]=o[f];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,h){let f,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(f in y)o[f]=y[f];for(let P=0;P<T.length;P++)f=T[P],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function I(o){var h=1;o=o.split(":");const f=[];for(;0<h&&o.length;)f.push(o.shift()),h--;return o.length&&f.push(o.join(":")),f}function x(o){l.setTimeout(()=>{throw o},0)}function w(){var o=vt;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Qe{constructor(){this.h=this.g=null}add(h,f){const y=wn.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var wn=new E(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,X=!1,vt=new Qe,xt=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(Vr)}};var Vr=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(f){x(f)}var h=wn;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}X=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kt(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var Rn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return o}();function sn(o,h){if(kt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(z){t:{try{M(h.nodeName);var N=!0;break t}catch{}N=!1}N||(h=null)}}else f=="mouseover"?h=o.fromElement:f=="mouseout"&&(h=o.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:CA[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&sn.aa.h.call(this)}}C(sn,kt);var CA={2:"touch",3:"pen",4:"mouse"};sn.prototype.h=function(){sn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),DA=0;function OA(o,h,f,y,N){this.listener=o,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=N,this.key=++DA,this.da=this.fa=!1}function rl(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function sl(o){this.src=o,this.g={},this.h=0}sl.prototype.add=function(o,h,f,y,N){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var B=Jc(o,h,y,N);return-1<B?(h=o[B],f||(h.fa=!1)):(h=new OA(h,this.src,P,!!y,N),h.fa=f,o.push(h)),h};function Zc(o,h){var f=h.type;if(f in o.g){var y=o.g[f],N=Array.prototype.indexOf.call(y,h,void 0),P;(P=0<=N)&&Array.prototype.splice.call(y,N,1),P&&(rl(h),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Jc(o,h,f,y){for(var N=0;N<o.length;++N){var P=o[N];if(!P.da&&P.listener==h&&P.capture==!!f&&P.ha==y)return N}return-1}var th="closure_lm_"+(1e6*Math.random()|0),eh={};function Lp(o,h,f,y,N){if(y&&y.once)return zp(o,h,f,y,N);if(Array.isArray(h)){for(var P=0;P<h.length;P++)Lp(o,h[P],f,y,N);return null}return f=sh(f),o&&o[ia]?o.K(h,f,c(y)?!!y.capture:!!y,N):Up(o,h,f,!1,y,N)}function Up(o,h,f,y,N,P){if(!h)throw Error("Invalid event type");var B=c(N)?!!N.capture:!!N,gt=ih(o);if(gt||(o[th]=gt=new sl(o)),f=gt.add(h,f,y,B,P),f.proxy)return f;if(y=NA(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)Rn||(N=B),N===void 0&&(N=!1),o.addEventListener(h.toString(),y,N);else if(o.attachEvent)o.attachEvent(jp(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NA(){function o(f){return h.call(o.src,o.listener,f)}const h=xA;return o}function zp(o,h,f,y,N){if(Array.isArray(h)){for(var P=0;P<h.length;P++)zp(o,h[P],f,y,N);return null}return f=sh(f),o&&o[ia]?o.L(h,f,c(y)?!!y.capture:!!y,N):Up(o,h,f,!0,y,N)}function Bp(o,h,f,y,N){if(Array.isArray(h))for(var P=0;P<h.length;P++)Bp(o,h[P],f,y,N);else y=c(y)?!!y.capture:!!y,f=sh(f),o&&o[ia]?(o=o.i,h=String(h).toString(),h in o.g&&(P=o.g[h],f=Jc(P,f,y,N),-1<f&&(rl(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete o.g[h],o.h--)))):o&&(o=ih(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Jc(h,f,y,N)),(f=-1<o?h[o]:null)&&nh(f))}function nh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ia])Zc(h.i,o);else{var f=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(f,y,o.capture):h.detachEvent?h.detachEvent(jp(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=ih(h))?(Zc(f,o),f.h==0&&(f.src=null,h[th]=null)):rl(o)}}}function jp(o){return o in eh?eh[o]:eh[o]="on"+o}function xA(o,h){if(o.da)o=!0;else{h=new sn(h,this);var f=o.listener,y=o.ha||o.src;o.fa&&nh(o),o=f.call(y,h)}return o}function ih(o){return o=o[th],o instanceof sl?o:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function sh(o){return typeof o=="function"?o:(o[rh]||(o[rh]=function(h){return o.handleEvent(h)}),o[rh])}function re(){we.call(this),this.i=new sl(this),this.M=this,this.F=null}C(re,we),re.prototype[ia]=!0,re.prototype.removeEventListener=function(o,h,f,y){Bp(this,o,h,f,y)};function de(o,h){var f,y=o.F;if(y)for(f=[];y;y=y.F)f.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new kt(h,o);else if(h instanceof kt)h.target=h.target||o;else{var N=h;h=new kt(y,o),b(h,N)}if(N=!0,f)for(var P=f.length-1;0<=P;P--){var B=h.g=f[P];N=al(B,y,!0,h)&&N}if(B=h.g=o,N=al(B,y,!0,h)&&N,N=al(B,y,!1,h)&&N,f)for(P=0;P<f.length;P++)B=h.g=f[P],N=al(B,y,!1,h)&&N}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var f=o.g[h],y=0;y<f.length;y++)rl(f[y]);delete o.g[h],o.h--}}this.F=null},re.prototype.K=function(o,h,f,y){return this.i.add(String(o),h,!1,f,y)},re.prototype.L=function(o,h,f,y){return this.i.add(String(o),h,!0,f,y)};function al(o,h,f,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,P=0;P<h.length;++P){var B=h[P];if(B&&!B.da&&B.capture==f){var gt=B.listener,Wt=B.ha||B.src;B.fa&&Zc(o.i,B),N=gt.call(Wt,y)!==!1&&N}}return N&&!y.defaultPrevented}function Hp(o,h,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function qp(o){o.g=Hp(()=>{o.g=null,o.i&&(o.i=!1,qp(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class MA extends we{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:qp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(o){we.call(this),this.h=o,this.g={}}C(ra,we);var Fp=[];function Gp(o){j(o.g,function(h,f){this.g.hasOwnProperty(f)&&nh(h)},o),o.g={}}ra.prototype.N=function(){ra.aa.N.call(this),Gp(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ah=l.JSON.stringify,VA=l.JSON.parse,PA=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function oh(){}oh.prototype.h=null;function Yp(o){return o.h||(o.h=o.i())}function Kp(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){kt.call(this,"d")}C(lh,kt);function uh(){kt.call(this,"c")}C(uh,kt);var Zi={},Qp=null;function ol(){return Qp=Qp||new re}Zi.La="serverreachability";function $p(o){kt.call(this,Zi.La,o)}C($p,kt);function aa(o){const h=ol();de(h,new $p(h))}Zi.STAT_EVENT="statevent";function Xp(o,h){kt.call(this,Zi.STAT_EVENT,o),this.stat=h}C(Xp,kt);function me(o){const h=ol();de(h,new Xp(h,o))}Zi.Ma="timingevent";function Wp(o,h){kt.call(this,Zi.Ma,o),this.size=h}C(Wp,kt);function oa(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function kA(o,h,f,y,N,P){o.info(function(){if(o.g)if(P)for(var B="",gt=P.split("&"),Wt=0;Wt<gt.length;Wt++){var lt=gt[Wt].split("=");if(1<lt.length){var se=lt[0];lt=lt[1];var ae=se.split("_");B=2<=ae.length&&ae[1]=="type"?B+(se+"="+lt+"&"):B+(se+"=redacted&")}}else B=null;else B=P;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+h+`
`+f+`
`+B})}function LA(o,h,f,y,N,P,B){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+h+`
`+f+`
`+P+" "+B})}function Pr(o,h,f,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+zA(o,f)+(y?" "+y:"")})}function UA(o,h){o.info(function(){return"TIMEOUT: "+h})}la.prototype.info=function(){};function zA(o,h){if(!o.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var y=f[o];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var P=N[0];if(P!="noop"&&P!="stop"&&P!="close")for(var B=1;B<N.length;B++)N[B]=""}}}}return ah(f)}catch{return h}}var ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function ul(){}C(ul,oh),ul.prototype.g=function(){return new XMLHttpRequest},ul.prototype.i=function(){return{}},ch=new ul;function ni(o,h,f,y){this.j=o,this.i=h,this.l=f,this.R=y||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jp}function Jp(){this.i=null,this.g="",this.h=!1}var tg={},hh={};function fh(o,h,f){o.L=1,o.v=dl(In(h)),o.m=f,o.P=!0,eg(o,null)}function eg(o,h){o.F=Date.now(),cl(o),o.A=In(o.v);var f=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),pg(f.i,"t",y),o.C=0,f=o.j.J,o.h=new Jp,o.g=Mg(o.j,f?h:null,!o.m),0<o.O&&(o.M=new MA(m(o.Y,o,o.g),o.O)),h=o.U,f=o.g,y=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(Fp[0]=N.toString()),N=Fp);for(var P=0;P<N.length;P++){var B=Lp(f,N[P],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),aa(),kA(o.i,o.u,o.A,o.l,o.R,o.m)}ni.prototype.ca=function(o){o=o.target;const h=this.M;h&&Cn(o)==3?h.j():this.Y(o)},ni.prototype.Y=function(o){try{if(o==this.g)t:{const ae=Cn(this.g);var h=this.g.Ba();const Ur=this.g.Z();if(!(3>ae)&&(ae!=3||this.g&&(this.h.h||this.g.oa()||Sg(this.g)))){this.J||ae!=4||h==7||(h==8||0>=Ur?aa(3):aa(2)),dh(this);var f=this.g.Z();this.X=f;e:if(ng(this)){var y=Sg(this.g);o="";var N=y.length,P=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ua(this);var B="";break e}this.h.i=new l.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,o+=this.h.i.decode(y[h],{stream:!(P&&h==N-1)});y.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,LA(this.i,this.u,this.A,this.l,this.R,ae,f),this.o){if(this.T&&!this.K){e:{if(this.g){var gt,Wt=this.g;if((gt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(gt)){var lt=gt;break e}}lt=null}if(f=lt)Pr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,f);else{this.o=!1,this.s=3,me(12),Ji(this),ua(this);break t}}if(this.P){f=!0;let $e;for(;!this.J&&this.C<B.length;)if($e=BA(this,B),$e==hh){ae==4&&(this.s=4,me(14),f=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if($e==tg){this.s=4,me(15),Pr(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Pr(this.i,this.l,$e,null),mh(this,$e);if(ng(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||B.length!=0||this.h.h||(this.s=1,me(16),f=!1),this.o=this.o&&f,!f)Pr(this.i,this.l,B,"[Invalid Chunked Response]"),Ji(this),ua(this);else if(0<B.length&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.ba&&!se.M&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Eh(se),se.M=!0,me(11))}}else Pr(this.i,this.l,B,null),mh(this,B);ae==4&&Ji(this),this.o&&!this.J&&(ae==4?Dg(this.j,this):(this.o=!1,cl(this)))}else ib(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),Ji(this),ua(this)}}}catch{}finally{}};function ng(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function BA(o,h){var f=o.C,y=h.indexOf(`
`,f);return y==-1?hh:(f=Number(h.substring(f,y)),isNaN(f)?tg:(y+=1,y+f>h.length?hh:(h=h.slice(y,y+f),o.C=y+f,h)))}ni.prototype.cancel=function(){this.J=!0,Ji(this)};function cl(o){o.S=Date.now()+o.I,ig(o,o.I)}function ig(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=oa(m(o.ba,o),h)}function dh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ni.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(UA(this.i,this.A),this.L!=2&&(aa(),me(17)),Ji(this),this.s=2,ua(this)):ig(this,this.S-o)};function ua(o){o.j.G==0||o.J||Dg(o.j,o)}function Ji(o){dh(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,Gp(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function mh(o,h){try{var f=o.j;if(f.G!=0&&(f.g==o||ph(f.h,o))){if(!o.K&&ph(f.h,o)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)vl(f),yl(f);else break t;vh(f),me(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=oa(m(f.Za,f),6e3));if(1>=ag(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else er(f,11)}else if((o.K||f.g==o)&&vl(f),!_(h))for(N=f.Da.g.parse(h),h=0;h<N.length;h++){let lt=N[h];if(f.T=lt[0],lt=lt[1],f.G==2)if(lt[0]=="c"){f.K=lt[1],f.ia=lt[2];const se=lt[3];se!=null&&(f.la=se,f.j.info("VER="+f.la));const ae=lt[4];ae!=null&&(f.Aa=ae,f.j.info("SVER="+f.Aa));const Ur=lt[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(y=1.5*Ur,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const $e=o.g;if($e){const Tl=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tl){var P=y.h;P.g||Tl.indexOf("spdy")==-1&&Tl.indexOf("quic")==-1&&Tl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(gh(P,P.h),P.h=null))}if(y.D){const Th=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(y.ya=Th,Et(y.I,y.D,Th))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var B=o;if(y.qa=xg(y,y.J?y.ia:null,y.W),B.K){og(y.h,B);var gt=B,Wt=y.L;Wt&&(gt.I=Wt),gt.B&&(dh(gt),cl(gt)),y.g=B}else Ig(y);0<f.i.length&&_l(f)}else lt[0]!="stop"&&lt[0]!="close"||er(f,7);else f.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?er(f,7):_h(f):lt[0]!="noop"&&f.l&&f.l.ta(lt),f.v=0)}}aa(4)}catch{}}var jA=class{constructor(o,h){this.g=o,this.map=h}};function rg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ag(o){return o.h?1:o.g?o.g.size:0}function ph(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function gh(o,h){o.g?o.g.add(h):o.h=h}function og(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}rg.prototype.cancel=function(){if(this.i=lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function lg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const f of o.g.values())h=h.concat(f.D);return h}return D(o.i)}function HA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],f=o.length,y=0;y<f;y++)h.push(o[y]);return h}h=[],f=0;for(y in o)h[f++]=o[y];return h}function qA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var f=0;f<o;f++)h.push(f);return h}h=[],f=0;for(const y in o)h[f++]=y;return h}}}function ug(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var f=qA(o),y=HA(o),N=y.length,P=0;P<N;P++)h.call(void 0,y[P],f&&f[P],o)}var cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FA(o,h){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var y=o[f].indexOf("="),N=null;if(0<=y){var P=o[f].substring(0,y);N=o[f].substring(y+1)}else P=o[f];h(P,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function tr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof tr){this.h=o.h,hl(this,o.j),this.o=o.o,this.g=o.g,fl(this,o.s),this.l=o.l;var h=o.i,f=new fa;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),hg(this,f),this.m=o.m}else o&&(h=String(o).match(cg))?(this.h=!1,hl(this,h[1]||"",!0),this.o=ca(h[2]||""),this.g=ca(h[3]||"",!0),fl(this,h[4]),this.l=ca(h[5]||"",!0),hg(this,h[6]||"",!0),this.m=ca(h[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}tr.prototype.toString=function(){var o=[],h=this.j;h&&o.push(ha(h,fg,!0),":");var f=this.g;return(f||h=="file")&&(o.push("//"),(h=this.o)&&o.push(ha(h,fg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ha(f,f.charAt(0)=="/"?KA:YA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ha(f,$A)),o.join("")};function In(o){return new tr(o)}function hl(o,h,f){o.j=f?ca(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function fl(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function hg(o,h,f){h instanceof fa?(o.i=h,XA(o.i,o.h)):(f||(h=ha(h,QA)),o.i=new fa(h,o.h))}function Et(o,h,f){o.i.set(h,f)}function dl(o){return Et(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ca(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ha(o,h,f){return typeof o=="string"?(o=encodeURI(o).replace(h,GA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function GA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fg=/[#\/\?@]/g,YA=/[#\?:]/g,KA=/[#\?]/g,QA=/[#\?@]/g,$A=/#/g;function fa(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function ii(o){o.g||(o.g=new Map,o.h=0,o.i&&FA(o.i,function(h,f){o.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}e=fa.prototype,e.add=function(o,h){ii(this),this.i=null,o=kr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(h),this.h+=1,this};function dg(o,h){ii(o),h=kr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function mg(o,h){return ii(o),h=kr(o,h),o.g.has(h)}e.forEach=function(o,h){ii(this),this.g.forEach(function(f,y){f.forEach(function(N){o.call(h,N,y,this)},this)},this)},e.na=function(){ii(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const N=o[y];for(let P=0;P<N.length;P++)f.push(h[y])}return f},e.V=function(o){ii(this);let h=[];if(typeof o=="string")mg(this,o)&&(h=h.concat(this.g.get(kr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)h=h.concat(o[f])}return h},e.set=function(o,h){return ii(this),this.i=null,o=kr(this,o),mg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},e.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function pg(o,h,f){dg(o,h),0<f.length&&(o.i=null,o.g.set(kr(o,h),D(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const P=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var N=P;B[y]!==""&&(N+="="+encodeURIComponent(String(B[y]))),o.push(N)}}return this.i=o.join("&")};function kr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function XA(o,h){h&&!o.j&&(ii(o),o.i=null,o.g.forEach(function(f,y){var N=y.toLowerCase();y!=N&&(dg(this,y),pg(this,N,f))},o)),o.j=h}function WA(o,h){const f=new la;if(l.Image){const y=new Image;y.onload=g(ri,f,"TestLoadImage: loaded",!0,h,y),y.onerror=g(ri,f,"TestLoadImage: error",!1,h,y),y.onabort=g(ri,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(ri,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function ZA(o,h){const f=new la,y=new AbortController,N=setTimeout(()=>{y.abort(),ri(f,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(P=>{clearTimeout(N),P.ok?ri(f,"TestPingServer: ok",!0,h):ri(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),ri(f,"TestPingServer: error",!1,h)})}function ri(o,h,f,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(f)}catch{}}function JA(){this.g=new PA}function tb(o,h,f){const y=f||"";try{ug(o,function(N,P){let B=N;c(N)&&(B=ah(N)),h.push(y+P+"="+encodeURIComponent(B))})}catch(N){throw h.push(y+"type="+encodeURIComponent("_badmap")),N}}function ml(o){this.l=o.Ub||null,this.j=o.eb||!1}C(ml,oh),ml.prototype.g=function(){return new pl(this.l,this.j)},ml.prototype.i=function(o){return function(){return o}}({});function pl(o,h){re.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(pl,re),e=pl.prototype,e.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,ma(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function gg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?da(this):ma(this),this.readyState==3&&gg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,da(this))},e.Qa=function(o){this.g&&(this.response=o,da(this))},e.ga=function(){this.g&&da(this)};function da(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ma(o)}e.setRequestHeader=function(o,h){this.u.append(o,h)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=h.next();return o.join(`\r
`)};function ma(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function yg(o){let h="";return j(o,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function yh(o,h,f){t:{for(y in f){var y=!1;break t}y=!0}y||(f=yg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Et(o,h,f))}function Dt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Dt,re);var eb=/^https?$/i,nb=["POST","PUT"];e=Dt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?Yp(this.o):Yp(ch),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(P){_g(this,P);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)f.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const P of y.keys())f.set(P,y.get(P));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nb,h,void 0))||y||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,B]of f)this.g.setRequestHeader(P,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tg(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){_g(this,P)}};function _g(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,vg(o),gl(o)}function vg(o){o.A||(o.A=!0,de(o,"complete"),de(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,de(this,"complete"),de(this,"abort"),gl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Eg(this):this.bb())},e.bb=function(){Eg(this)};function Eg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Cn(o)!=4||o.Z()!=2)){if(o.u&&Cn(o)==4)Hp(o.Ea,0,o);else if(de(o,"readystatechange"),Cn(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var f;if(!(f=h)){var y;if(y=B===0){var N=String(o.D).match(cg)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),y=!eb.test(N?N.toLowerCase():"")}f=y}if(f)de(o,"complete"),de(o,"success");else{o.m=6;try{var P=2<Cn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",vg(o)}}finally{gl(o)}}}}function gl(o,h){if(o.g){Tg(o);const f=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||de(o,"ready");try{f.onreadystatechange=y}catch{}}}function Tg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Cn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),VA(h)}};function Sg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ib(o){const h={};o=(o.g&&2<=Cn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(_(o[y]))continue;var f=I(o[y]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const P=h[N]||[];h[N]=P,P.push(f)}S(h,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(o,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||h}function Ag(o){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,o),this.cb=pa("retryDelaySeedMs",1e4,o),this.Wa=pa("forwardChannelMaxRetries",2,o),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new rg(o&&o.concurrentRequestLimit),this.Da=new JA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ag.prototype,e.la=8,e.G=1,e.connect=function(o,h,f,y){me(0),this.W=o,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=xg(this,null,this.W),_l(this)};function _h(o){if(bg(o),o.G==3){var h=o.U++,f=In(o.I);if(Et(f,"SID",o.K),Et(f,"RID",h),Et(f,"TYPE","terminate"),ga(o,f),h=new ni(o,o.j,h),h.L=2,h.v=dl(In(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=Mg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),cl(h)}Ng(o)}function yl(o){o.g&&(Eh(o),o.g.cancel(),o.g=null)}function bg(o){yl(o),o.u&&(l.clearTimeout(o.u),o.u=null),vl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function _l(o){if(!sg(o.h)&&!o.s){o.s=!0;var h=o.Ga;Z||xt(),X||(Z(),X=!0),vt.add(h,o),o.B=0}}function rb(o,h){return ag(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=oa(m(o.Ga,o,h),Og(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new ni(this,this.j,o);let P=this.o;if(this.S&&(P?(P=v(P),b(P,this.S)):P=this.S),this.m!==null||this.O||(N.H=P,P=null),this.P)t:{for(var h=0,f=0;f<this.i.length;f++){e:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break t}if(h===4096||f===this.i.length-1){h=f+1;break t}}h=1e3}else h=1e3;h=Rg(this,N,h),f=In(this.I),Et(f,"RID",o),Et(f,"CVER",22),this.D&&Et(f,"X-HTTP-Session-Id",this.D),ga(this,f),P&&(this.O?h="headers="+encodeURIComponent(String(yg(P)))+"&"+h:this.m&&yh(f,this.m,P)),gh(this.h,N),this.Ua&&Et(f,"TYPE","init"),this.P?(Et(f,"$req",h),Et(f,"SID","null"),N.T=!0,fh(N,f,null)):fh(N,f,h),this.G=2}}else this.G==3&&(o?wg(this,o):this.i.length==0||sg(this.h)||wg(this))};function wg(o,h){var f;h?f=h.l:f=o.U++;const y=In(o.I);Et(y,"SID",o.K),Et(y,"RID",f),Et(y,"AID",o.T),ga(o,y),o.m&&o.o&&yh(y,o.m,o.o),f=new ni(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),h&&(o.i=h.D.concat(o.i)),h=Rg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),gh(o.h,f),fh(f,y,h)}function ga(o,h){o.H&&j(o.H,function(f,y){Et(h,y,f)}),o.l&&ug({},function(f,y){Et(h,y,f)})}function Rg(o,h,f){f=Math.min(o.i.length,f);var y=o.l?m(o.l.Na,o.l,o):null;t:{var N=o.i;let P=-1;for(;;){const B=["count="+f];P==-1?0<f?(P=N[0].g,B.push("ofs="+P)):P=0:B.push("ofs="+P);let gt=!0;for(let Wt=0;Wt<f;Wt++){let lt=N[Wt].g;const se=N[Wt].map;if(lt-=P,0>lt)P=Math.max(0,N[Wt].g-100),gt=!1;else try{tb(se,B,"req"+lt+"_")}catch{y&&y(se)}}if(gt){y=B.join("&");break t}}}return o=o.i.splice(0,f),h.D=o,y}function Ig(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;Z||xt(),X||(Z(),X=!0),vt.add(h,o),o.v=0}}function vh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=oa(m(o.Fa,o),Og(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Cg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=oa(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),yl(this),Cg(this))};function Eh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Cg(o){o.g=new ni(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=In(o.qa);Et(h,"RID","rpc"),Et(h,"SID",o.K),Et(h,"AID",o.T),Et(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&Et(h,"TO",o.ja),Et(h,"TYPE","xmlhttp"),ga(o,h),o.m&&o.o&&yh(h,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=dl(In(h)),f.m=null,f.P=!0,eg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,yl(this),vh(this),me(19))};function vl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Dg(o,h){var f=null;if(o.g==h){vl(o),Eh(o),o.g=null;var y=2}else if(ph(o.h,h))f=h.D,og(o.h,h),y=1;else return;if(o.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var N=o.B;y=ol(),de(y,new Wp(y,f)),_l(o)}else Ig(o);else if(N=h.s,N==3||N==0&&0<h.X||!(y==1&&rb(o,h)||y==2&&vh(o)))switch(f&&0<f.length&&(h=o.h,h.i=h.i.concat(f)),N){case 1:er(o,5);break;case 4:er(o,10);break;case 3:er(o,6);break;default:er(o,2)}}}function Og(o,h){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*h}function er(o,h){if(o.j.info("Error code "+h),h==2){var f=m(o.fb,o),y=o.Xa;const N=!y;y=new tr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||hl(y,"https"),dl(y),N?WA(y.toString(),f):ZA(y.toString(),f)}else me(2);o.G=0,o.l&&o.l.sa(h),Ng(o),bg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Ng(o){if(o.G=0,o.ka=[],o.l){const h=lg(o.h);(h.length!=0||o.i.length!=0)&&(R(o.ka,h),R(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function xg(o,h,f){var y=f instanceof tr?In(f):new tr(f);if(y.g!="")h&&(y.g=h+"."+y.g),fl(y,y.s);else{var N=l.location;y=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var P=new tr(null);y&&hl(P,y),h&&(P.g=h),N&&fl(P,N),f&&(P.l=f),y=P}return f=o.D,h=o.ya,f&&h&&Et(y,f,h),Et(y,"VER",o.la),ga(o,y),y}function Mg(o,h,f){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new Dt(new ml({eb:f})):new Dt(o.pa),h.Ha(o.J),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vg(){}e=Vg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function El(){}El.prototype.g=function(o,h){return new Re(o,h)};function Re(o,h){re.call(this),this.g=new Ag(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!_(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Lr(this)}C(Re,re),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){_h(this.g)},Re.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=ah(o),o=f);h.i.push(new jA(h.Ya++,o)),h.G==3&&_l(h)},Re.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Re.aa.N.call(this)};function Pg(o){lh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){t:{for(const f in h){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}C(Pg,lh);function kg(){uh.call(this),this.status=1}C(kg,uh);function Lr(o){this.g=o}C(Lr,Vg),Lr.prototype.ua=function(){de(this.g,"a")},Lr.prototype.ta=function(o){de(this.g,new Pg(o))},Lr.prototype.sa=function(o){de(this.g,new kg)},Lr.prototype.ra=function(){de(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,J1=function(){return new El},Z1=function(){return ol()},W1=Zi,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ll.NO_ERROR=0,ll.TIMEOUT=8,ll.HTTP_ERROR=6,cu=ll,Zp.COMPLETE="complete",X1=Zp,Kp.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",re.prototype.listen=re.prototype.K,Ma=Kp,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,$1=Dt}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",Y_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Qm("@firebase/firestore");function Gr(){return Ar.logLevel}function q(e,...t){if(Ar.logLevel<=rt.DEBUG){const n=t.map(ap);Ar.debug(`Firestore (${Js}): ${e}`,...n)}}function Wn(e,...t){if(Ar.logLevel<=rt.ERROR){const n=t.map(ap);Ar.error(`Firestore (${Js}): ${e}`,...n)}}function Ms(e,...t){if(Ar.logLevel<=rt.WARN){const n=t.map(ap);Ar.warn(`Firestore (${Js}): ${e}`,...n)}}function ap(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,tS(e,i,n)}function tS(e,t,n){let i=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wn(i),new Error(i)}function ht(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||tS(t,r,i)}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(le.UNAUTHENTICATED))}shutdown(){}}class YN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KN{constructor(t){this.t=t,this.currentUser=le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new eS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new le(t)}}class QN{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=le.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $N{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new QN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(le.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,He(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=WN(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function tt(e,t){return e<t?-1:e>t?1:0}function wd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return tt(i,r);{const s=nS(),a=ZN(s.encode(Q_(e,n)),s.encode(Q_(t,n)));return a!==0?a:tt(i,r)}}n+=i>65535?2:1}return tt(e.length,t.length)}function Q_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ZN(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return tt(e[n],t[n]);return tt(e.length,t.length)}function Vs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,X_=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*X_);return new qt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$_)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(t){return new $(t)}static min(){return new $(new qt(0,0))}static max(){return new $(new qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class on{constructor(t,n,i){n===void 0?n=0:n>t.length&&K(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&K(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return on.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof on?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=on.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return tt(t.length,n.length)}static compareSegments(t,n){const i=on.isNumericId(t),r=on.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?on.extractNumericId(t).compare(on.extractNumericId(n)):wd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ki.fromString(t.substring(4,t.length-2))}}class At extends on{construct(t,n,i){return new At(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new At(n)}static emptyPath(){return new At([])}}const JN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends on{construct(t,n,i){return new ee(t,n,i)}static isValidIdentifier(t){return JN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new ee([W_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ee(n)}static emptyPath(){return new ee([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.path=t}static fromPath(t){return new Y(At.fromString(t))}static fromName(t){return new Y(At.fromString(t).popFirst(5))}static empty(){return new Y(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return At.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Y(new At(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function tx(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new qt(n+1,0):new qt(n,i));return new Hi(r,Y.empty(),t)}function ex(e){return new Hi(e.readTime,e.key,To)}class Hi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Hi($.min(),Y.empty(),To)}static max(){return new Hi($.max(),Y.empty(),To)}}function nx(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Y.comparator(e.documentKey,t.documentKey),n!==0?n:tt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==ix)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(d=>{a[c]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function sx(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Uc(e){return e==null}function nc(e){return e===0&&1/e==-1/0}function ax(e){return typeof e=="number"&&Number.isInteger(e)&&!nc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="";function ox(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Z_(t)),t=lx(e.get(n),t);return Z_(t)}function lx(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case rS:n+="";break;default:n+=s}}return n}function Z_(e){return e+rS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Or(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,n){this.comparator=t,this.root=n||Jt.EMPTY}insert(t,n){return new Ct(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(t){return new Ct(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bl(this.root,t,this.comparator,!0)}}class Bl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jt{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Jt.RED,this.left=r??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Jt(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw K(27949);return t+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new Jt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.comparator=t,this.data=new Ct(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(t){return new tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ft(this.comparator);return n.data=t,n}}class tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.fields=t,t.sort(ee.comparator)}static empty(){return new Ze([])}unionWith(t){let n=new Ft(ee.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ze(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aS("Invalid base64 string: "+s):s}}(t);return new ie(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new ie(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ie.EMPTY_BYTE_STRING=new ie("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=ux.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fi(e){return typeof e=="string"?ie.fromBase64String(e):ie.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="server_timestamp",lS="__type__",uS="__previous_value__",cS="__local_write_time__";function lp(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[lS])===null||n===void 0?void 0:n.stringValue)===oS}function zc(e){const t=e.mapValue.fields[uS];return lp(t)?zc(t):t}function So(e){const t=qi(e.mapValue.fields[cS].timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n,i,r,s,a,l,u,c,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const ic="(default)";class Ao{constructor(t,n){this.projectId=t,this.database=n||ic}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===ic}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="__type__",fS="__max__",jl={mapValue:{fields:{__type__:{stringValue:fS}}}},dS="__vector__",rc="value";function Gi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lp(e)?4:fx(e)?9007199254740991:hx(e)?10:11:K(28295,{value:e})}function vn(e,t){if(e===t)return!0;const n=Gi(e);if(n!==Gi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return So(e).isEqual(So(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=qi(r.timestampValue),l=qi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Fi(r.bytesValue).isEqual(Fi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Pt(r.geoPointValue.latitude)===Pt(s.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pt(r.integerValue)===Pt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Pt(r.doubleValue),l=Pt(s.doubleValue);return a===l?nc(a)===nc(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Vs(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(J_(a)!==J_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!vn(a[u],l[u])))return!1;return!0}(e,t);default:return K(52216,{left:e})}}function bo(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function Ps(e,t){if(e===t)return 0;const n=Gi(e),i=Gi(t);if(n!==i)return tt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Pt(s.integerValue||s.doubleValue),u=Pt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return ev(e.timestampValue,t.timestampValue);case 4:return ev(So(e),So(t));case 5:return wd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Fi(s),u=Fi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=tt(l[c],u[c]);if(d!==0)return d}return tt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=tt(Pt(s.latitude),Pt(a.latitude));return l!==0?l:tt(Pt(s.longitude),Pt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nv(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,c,d;const p=s.fields||{},m=a.fields||{},g=(l=p[rc])===null||l===void 0?void 0:l.arrayValue,C=(u=m[rc])===null||u===void 0?void 0:u.arrayValue,D=tt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:nv(g,C)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===jl.mapValue&&a===jl.mapValue)return 0;if(s===jl.mapValue)return 1;if(a===jl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=wd(u[p],d[p]);if(m!==0)return m;const g=Ps(l[u[p]],c[d[p]]);if(g!==0)return g}return tt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw K(23264,{Pe:n})}}function ev(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tt(e,t);const n=qi(e),i=qi(t),r=tt(n.seconds,i.seconds);return r!==0?r:tt(n.nanos,i.nanos)}function nv(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Ps(n[r],i[r]);if(s)return s}return tt(n.length,i.length)}function ks(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=qi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Fi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Y.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Rd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Rd(n.fields[a])}`;return r+"}"}(e.mapValue):K(61005,{value:e})}function hu(e){switch(Gi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(e);return t?16+hu(t):16;case 5:return 2*e.stringValue.length;case 6:return Fi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+hu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Or(i.fields,(s,a)=>{r+=s.length+hu(a)}),r}(e.mapValue);default:throw K(13486,{value:e})}}function Id(e){return!!e&&"integerValue"in e}function up(e){return!!e&&"arrayValue"in e}function iv(e){return!!e&&"nullValue"in e}function rv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fu(e){return!!e&&"mapValue"in e}function hx(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[hS])===null||n===void 0?void 0:n.stringValue)===dS}function Ja(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Or(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ja(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ja(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!fu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ja(n)}setAll(t){let n=ee.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Ja(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];fu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Or(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new qe(Ja(this.value))}}function mS(e){const t=[];return Or(e.fields,(n,i)=>{const r=new ee([n]);if(fu(i)){const s=mS(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Ze(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ue(t,0,$.min(),$.min(),$.min(),qe.empty(),0)}static newFoundDocument(t,n,i,r){return new ue(t,1,n,$.min(),i,r,0)}static newNoDocument(t,n){return new ue(t,2,n,$.min(),$.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new ue(t,3,n,$.min(),$.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ue&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n){this.position=t,this.inclusive=n}}function sv(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=Ps(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function av(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n="asc"){this.field=t,this.dir=n}}function dx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{}class Ht extends pS{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new px(t,n,i):n==="array-contains"?new _x(t,i):n==="in"?new vx(t,i):n==="not-in"?new Ex(t,i):n==="array-contains-any"?new Tx(t,i):new Ht(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new gx(t,i):new yx(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ps(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends pS{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new En(t,n)}matches(t){return gS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gS(e){return e.op==="and"}function yS(e){return mx(e)&&gS(e)}function mx(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function Cd(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+ks(e.value);if(yS(e))return e.filters.map(t=>Cd(t)).join(",");{const t=e.filters.map(n=>Cd(n)).join(",");return`${e.op}(${t})`}}function _S(e,t){return e instanceof Ht?function(i,r){return r instanceof Ht&&i.op===r.op&&i.field.isEqual(r.field)&&vn(i.value,r.value)}(e,t):e instanceof En?function(i,r){return r instanceof En&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&_S(a,r.filters[l]),!0):!1}(e,t):void K(19439)}function vS(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(e):e instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(vS).join(" ,")+"}"}(e):"Filter"}class px extends Ht{constructor(t,n,i){super(t,n,i),this.key=Y.fromName(i.referenceValue)}matches(t){const n=Y.comparator(t.key,this.key);return this.matchesComparison(n)}}class gx extends Ht{constructor(t,n){super(t,"in",n),this.keys=ES("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yx extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=ES("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ES(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class _x extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return up(n)&&bo(n.arrayValue,this.value)}}class vx extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bo(this.value.arrayValue,n)}}class Ex extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bo(this.value.arrayValue,n)}}class Tx extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>bo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function ov(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Sx(e,t,n,i,r,s,a)}function cp(e){const t=W(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Cd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Uc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ks(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ks(i)).join(",")),t.Ie=n}return t.Ie}function hp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_S(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!av(e.startAt,t.startAt)&&av(e.endAt,t.endAt)}function Dd(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ax(e,t,n,i,r,s,a,l){return new Bc(e,t,n,i,r,s,a,l)}function TS(e){return new Bc(e)}function lv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function bx(e){return e.collectionGroup!==null}function to(e){const t=W(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ft(ee.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new ac(s,i))}),n.has(ee.keyField().canonicalString())||t.Ee.push(new ac(ee.keyField(),i))}return t.Ee}function gn(e){const t=W(e);return t.de||(t.de=wx(t,to(e))),t.de}function wx(e,t){if(e.limitType==="F")return ov(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ac(r.field,s)});const n=e.endAt?new sc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sc(e.startAt.position,e.startAt.inclusive):null;return ov(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Od(e,t,n){return new Bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jc(e,t){return hp(gn(e),gn(t))&&e.limitType===t.limitType}function SS(e){return`${cp(gn(e))}|lt:${e.limitType}`}function Yr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>vS(r)).join(", ")}]`),Uc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ks(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ks(r)).join(",")),`Target(${i})`}(gn(e))}; limitType=${e.limitType})`}function Hc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Y.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of to(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=sv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,to(i),r)||i.endAt&&!function(a,l,u){const c=sv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,to(i),r))}(e,t)}function Rx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function AS(e){return(t,n)=>{let i=!1;for(const r of to(e)){const s=Ix(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Ix(e,t,n){const i=e.field.isKeyField()?Y.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ps(u,c):K(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return K(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Or(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return sS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Ct(Y.comparator);function Zn(){return Cx}const bS=new Ct(Y.comparator);function Va(...e){let t=bS;for(const n of e)t=t.insert(n.key,n);return t}function wS(e){let t=bS;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function or(){return eo()}function RS(){return eo()}function eo(){return new Nr(e=>e.toString(),(e,t)=>e.isEqual(t))}const Dx=new Ct(Y.comparator),Ox=new Ft(Y.comparator);function st(...e){let t=Ox;for(const n of e)t=t.add(n);return t}const Nx=new Ft(tt);function xx(){return Nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(t)?"-0":t}}function IS(e){return{integerValue:""+e}}function Mx(e,t){return ax(t)?IS(t):fp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function Vx(e,t,n){return e instanceof wo?function(r,s){const a={fields:{[lS]:{stringValue:oS},[cS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&lp(s)&&(s=zc(s)),s&&(a.fields[uS]=s),{mapValue:a}}(n,t):e instanceof Ro?DS(e,t):e instanceof Io?OS(e,t):function(r,s){const a=CS(r,s),l=uv(a)+uv(r.Re);return Id(a)&&Id(r.Re)?IS(l):fp(r.serializer,l)}(e,t)}function Px(e,t,n){return e instanceof Ro?DS(e,t):e instanceof Io?OS(e,t):n}function CS(e,t){return e instanceof oc?function(i){return Id(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class wo extends qc{}class Ro extends qc{constructor(t){super(),this.elements=t}}function DS(e,t){const n=NS(t);for(const i of e.elements)n.some(r=>vn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Io extends qc{constructor(t){super(),this.elements=t}}function OS(e,t){let n=NS(t);for(const i of e.elements)n=n.filter(r=>!vn(r,i));return{arrayValue:{values:n}}}class oc extends qc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function uv(e){return Pt(e.integerValue||e.doubleValue)}function NS(e){return up(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n){this.field=t,this.transform=n}}function Lx(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ro&&r instanceof Ro||i instanceof Io&&r instanceof Io?Vs(i.elements,r.elements,vn):i instanceof oc&&r instanceof oc?vn(i.Re,r.Re):i instanceof wo&&r instanceof wo}(e.transform,t.transform)}class Ux{constructor(t,n){this.version=t,this.transformResults=n}}class yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function du(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Fc{}function xS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dp(e.key,yn.none()):new tl(e.key,e.data,yn.none());{const n=e.data,i=qe.empty();let r=new Ft(ee.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new xr(e.key,i,new Ze(r.toArray()),yn.none())}}function zx(e,t,n){e instanceof tl?function(r,s,a){const l=r.value.clone(),u=hv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof xr?function(r,s,a){if(!du(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=hv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(MS(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function no(e,t,n,i){return e instanceof tl?function(s,a,l,u){if(!du(s.precondition,a))return l;const c=s.value.clone(),d=fv(s.fieldTransforms,u,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof xr?function(s,a,l,u){if(!du(s.precondition,a))return l;const c=fv(s.fieldTransforms,u,a),d=a.data;return d.setAll(MS(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,l){return du(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function Bx(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=CS(i.transform,r||null);s!=null&&(n===null&&(n=qe.empty()),n.set(i.field,s))}return n||null}function cv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vs(i,r,(s,a)=>Lx(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tl extends Fc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xr extends Fc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function hv(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,Px(a,l,n[r]))}return i}function fv(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,Vx(s,a,t))}return i}class dp extends Fc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends Fc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&zx(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=no(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=no(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=RS();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=xS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&Vs(this.mutations,t.mutations,(n,i)=>cv(n,i))&&Vs(this.baseMutations,t.baseMutations,(n,i)=>cv(n,i))}}class mp{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){ht(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return Dx}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new mp(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,at;function Gx(e){switch(e){case U.OK:return K(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return K(15467,{code:e})}}function VS(e){if(e===void 0)return Wn("GRPC error has no .code"),U.UNKNOWN;switch(e){case Lt.OK:return U.OK;case Lt.CANCELLED:return U.CANCELLED;case Lt.UNKNOWN:return U.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return U.INTERNAL;case Lt.UNAVAILABLE:return U.UNAVAILABLE;case Lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Lt.NOT_FOUND:return U.NOT_FOUND;case Lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Lt.ABORTED:return U.ABORTED;case Lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Lt.DATA_LOSS:return U.DATA_LOSS;default:return K(39323,{code:e})}}(at=Lt||(Lt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new ki([4294967295,4294967295],0);function dv(e){const t=nS().encode(e),n=new Q1;return n.update(t),new Uint8Array(n.digest())}function mv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ki([n,i],0),new ki([r,s],0)]}class pp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=ki.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(ki.fromNumber(i)));return r.compare(Yx)===1&&(r=new ki([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=dv(t),[i,r]=mv(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new pp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=dv(t),[i,r]=mv(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,el.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Gc($.min(),r,new Ct(tt),Zn(),st())}}class el{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new el(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class PS{constructor(t,n){this.targetId=t,this.Ce=n}}class kS{constructor(t,n,i=ie.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class pv{constructor(){this.Fe=0,this.Me=gv(),this.xe=ie.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=st(),n=st(),i=st();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K(38017,{changeType:s})}}),new el(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=gv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Kx{constructor(t){this.ze=t,this.je=new Map,this.He=Zn(),this.Je=Hl(),this.Ye=Hl(),this.Ze=new Ct(tt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:K(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(Dd(s))if(i===0){const a=new Y(s.path);this.tt(n,a,ue.newNoDocument(a,$.min()))}else ht(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Fi(i).toUint8Array()}catch(u){if(u instanceof aS)return Ms("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new pp(a,r,s)}catch(u){return Ms(u instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Dd(l.target)){const u=new Y(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,ue.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=st();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new Gc(t,n,this.Ze,this.He,i);return this.He=Zn(),this.Je=Hl(),this.Ye=Hl(),this.Ze=new Ct(tt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new pv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ft(tt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ft(tt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new pv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Hl(){return new Ct(Y.comparator)}function gv(){return new Ct(Y.comparator)}const Qx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$x=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Xx=(()=>({and:"AND",or:"OR"}))();class Wx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Nd(e,t){return e.useProto3Json||Uc(t)?t:{value:t}}function lc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zx(e,t){return lc(e,t.toTimestamp())}function _n(e){return ht(!!e,49232),$.fromTimestamp(function(n){const i=qi(n);return new qt(i.seconds,i.nanos)}(e))}function gp(e,t){return xd(e,t).canonicalString()}function xd(e,t){const n=function(r){return new At(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function US(e){const t=At.fromString(e);return ht(qS(t),10190,{key:t.toString()}),t}function Md(e,t){return gp(e.databaseId,t.path)}function df(e,t){const n=US(t);if(n.get(1)!==e.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(BS(n))}function zS(e,t){return gp(e.databaseId,t)}function Jx(e){const t=US(e);return t.length===4?At.emptyPath():BS(t)}function Vd(e){return new At(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function BS(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function yv(e,t,n){return{name:Md(e,t),fields:n.value.mapValue.fields}}function tM(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ht(d===void 0||typeof d=="string",58123),ie.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ie.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(c){const d=c.code===void 0?U.UNKNOWN:VS(c.code);return new G(d,c.message||"")}(a);n=new kS(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=df(e,i.document.name),s=_n(i.document.updateTime),a=i.document.createTime?_n(i.document.createTime):$.min(),l=new qe({mapValue:{fields:i.document.fields}}),u=ue.newFoundDocument(r,s,a,l),c=i.targetIds||[],d=i.removedTargetIds||[];n=new mu(c,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=df(e,i.document),s=i.readTime?_n(i.readTime):$.min(),a=ue.newNoDocument(r,s),l=i.removedTargetIds||[];n=new mu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=df(e,i.document),s=i.removedTargetIds||[];n=new mu([],s,r,null)}else{if(!("filter"in t))return K(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new Fx(r,s),l=i.targetId;n=new PS(l,a)}}return n}function eM(e,t){let n;if(t instanceof tl)n={update:yv(e,t.key,t.value)};else if(t instanceof dp)n={delete:Md(e,t.key)};else if(t instanceof xr)n={update:yv(e,t.key,t.data),updateMask:cM(t.fieldMask)};else{if(!(t instanceof jx))return K(16599,{ft:t.type});n={verify:Md(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof wo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ro)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Io)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw K(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Zx(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K(27497)}(e,t.precondition)),n}function nM(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?_n(r.updateTime):_n(s);return a.isEqual($.min())&&(a=_n(s)),new Ux(a,r.transformResults||[])}(n,t))):[]}function iM(e,t){return{documents:[zS(e,t.path)]}}function rM(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zS(e,r);const s=function(c){if(c.length!==0)return HS(En.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Kr(m.field),direction:oM(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Nd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:n,parent:r}}function sM(e){let t=Jx(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ht(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=jS(p);return m instanceof En&&yS(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(C){return new ac(Qr(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Uc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,g=p.values||[];return new sc(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,g=p.values||[];return new sc(g,m)}(n.endAt)),Ax(t,r,a,s,l,"F",u,c)}function aM(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Qr(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qr(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qr(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qr(n.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(Qr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(i=>jS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(e):K(30097,{filter:e})}function oM(e){return Qx[e]}function lM(e){return $x[e]}function uM(e){return Xx[e]}function Kr(e){return{fieldPath:e.canonicalString()}}function Qr(e){return ee.fromServerFormat(e.fieldPath)}function HS(e){return e instanceof Ht?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:Kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(n.field),op:lM(n.op),value:n.value}}}(e):e instanceof En?function(n){const i=n.getFilters().map(r=>HS(r));return i.length===1?i[0]:{compositeFilter:{op:uM(n.op),filters:i}}}(e):K(54877,{filter:e})}function cM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function qS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n,i,r,s=$.min(),a=$.min(),l=ie.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new bi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.wt=t}}function fM(e){const t=sM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.Cn=new mM}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Hi.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Hi.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class mM{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ft(At.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ft(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class Se{static withCacheSize(t){return new Se(t,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.DEFAULT_COLLECTION_PERCENTILE=10,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Se.DEFAULT=new Se(FS,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Se.DISABLED=new Se(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ls(0)}static lr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",pM=1048576;function Ev([e,t],[n,i]){const r=tt(e,n);return r===0?tt(t,i):r}class gM{constructor(t){this.Er=t,this.buffer=new Ft(Ev),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Ev(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yM{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){q(vv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?q(vv,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.mr(3e5)})}}class _M{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Lc.le);const i=new gM(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(_v)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(c=Date.now(),Gr()<=rt.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function vM(e,t){return new _M(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.changes=new Nr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ue.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&no(i.mutation,r,Ze.empty(),qt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const r=or();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Va();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=or();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Zn();const a=eo(),l=function(){return eo()}();return n.forEach((u,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof xr)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),no(d.mutation,c,d.mutation.getFieldMask(),qt.now())):a.set(c.key,Ze.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new TM(d,(p=a.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const i=eo();let r=new Ct((a,l)=>a-l),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=i.get(u)||Ze.empty();d=l.applyToLocalView(c,d),i.set(u,d);const p=(r.get(l.batchId)||st()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=RS();d.forEach(m=>{if(!s.has(m)){const g=xS(n.get(m),i.get(m));g!==null&&p.set(m,g),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,p))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Y.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(or());let l=To,u=s;return a.next(c=>k.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,st())).next(d=>({batchId:l,changes:wS(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Y(n)).next(i=>{let r=Va();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Va();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const c=function(p,m){return new Bc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,ue.newInvalidDocument(d)))});let l=Va();return a.forEach((u,c)=>{const d=s.get(u);d!==void 0&&no(d.mutation,c,Ze.empty(),qt.now()),Hc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:_n(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:fM(r.bundledQuery),readTime:_n(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.overlays=new Ct(Y.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=or();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=or(),s=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ct((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=or(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=or(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new qx(n,i));let s=this.Qr.get(n);s===void 0&&(s=st(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.sessionToken=ie.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.$r=new Ft(Yt.Ur),this.Kr=new Ft(Yt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new Yt(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new Yt(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Y(new At([])),i=new Yt(n,t),r=new Yt(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Y(new At([])),i=new Yt(n,t),r=new Yt(n,t+1);let s=st();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Yt(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Y.comparator(t.key,n.key)||tt(t.Zr,n.Zr)}static Wr(t,n){return tt(t.Zr,n.Zr)||Y.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ft(Yt.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hx(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new Yt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?op:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Yt(n,0),r=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ft(tt);return n.forEach(r=>{const s=new Yt(r,0),a=new Yt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Y.isDocumentKey(s)||(s=s.child(""));const a=new Yt(new Y(s),0);let l=new Ft(tt);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new Yt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new Yt(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.ii=t,this.docs=function(){return new Ct(Y.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ue.newInvalidDocument(n))}getEntries(t,n){let i=Zn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ue.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Zn();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||nx(ex(d),i)<=0||(r.has(d.key)||Hc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){K(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new CM(this)}getSize(t){return k.resolve(this.size)}}class CM extends EM{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.persistence=t,this.oi=new Nr(n=>cp(n),hp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this._i=0,this.ai=new yp,this.targetCount=0,this.ui=Ls.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ls(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n){this.ci={},this.overlays={},this.li=new Lc(0),this.hi=!1,this.hi=!0,this.Pi=new wM,this.referenceDelegate=t(this),this.Ti=new DM(this),this.indexManager=new dM,this.remoteDocumentCache=function(r){return new IM(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new hM(n),this.Ei=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new RM(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new OM(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class OM extends rx{constructor(t){super(),this.currentSequenceNumber=t}}class _p{constructor(t){this.persistence=t,this.Vi=new yp,this.mi=null}static fi(t){return new _p(t)}get gi(){if(this.mi)return this.mi;throw K(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=Y.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class uc{constructor(t,n){this.persistence=t,this.yi=new Nr(i=>ox(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=vM(this,n)}static fi(t,n){return new uc(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hu(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=st(),r=st();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new vp(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return s2()?8:sx(fe())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new NM;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(Gr()<=rt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Yr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(Gr()<=rt.DEBUG&&q("QueryEngine","Query:",Yr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Gr()<=rt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Yr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gn(n))):k.resolve())}ws(t,n){if(lv(n))return k.resolve(null);let i=gn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Od(n,null,"F"),i=gn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=st(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.vs(n,l);return this.Cs(n,c,a,u.readTime)?this.ws(t,Od(n,null,"F")):this.Fs(t,c,n,u)}))})))}bs(t,n,i,r){return lv(n)||r.isEqual($.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(Gr()<=rt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yr(n)),this.Fs(t,a,n,tx(r,To)).next(l=>l))})}vs(t,n){let i=new Ft(AS(t));return n.forEach((r,s)=>{Hc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Gr()<=rt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Yr(n)),this.ys.getDocumentsMatchingQuery(t,n,Hi.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",MM=3e8;class VM{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Ct(tt),this.Os=new Nr(s=>cp(s),hp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function PM(e,t,n,i){return new VM(e,t,n,i)}async function YS(e,t){const n=W(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=st();for(const c of r){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:l}))})})}function kM(e,t){const n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let g=k.resolve();return m.forEach(C=>{g=g.next(()=>d.getEntry(u,C)).next(D=>{const R=c.docVersions.get(C);ht(R!==null,48541),D.version.compareTo(R)<0&&(p.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=st();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function KS(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function LM(e,t){const n=W(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,p)));let g=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?g=g.withResumeToken(ie.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(p,g),function(D,R,E){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=MM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,g,d)&&l.push(n.Ti.updateTargetData(s,g))});let u=Zn(),c=st();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(UM(s,a,t.documentUpdates).next(d=>{u=d.qs,c=d.Qs})),!i.isEqual($.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.xs=r,s))}function UM(e,t,n){let i=st(),r=st();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Zn();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):q(Ep,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function zM(e,t){const n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=op),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function BM(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new bi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function Pd(e,t,n){const i=W(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ea(a))throw a;q(Ep,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function Tv(e,t,n){const i=W(e);let r=$.min(),s=st();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,d){const p=W(u),m=p.Os.get(d);return m!==void 0?k.resolve(p.xs.get(m)):p.Ti.getTargetData(c,d)}(i,a,gn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:$.min(),n?s:st())).next(l=>(jM(i,Rx(t),l),{documents:l,$s:s})))}function jM(e,t,n){let i=e.Ns.get(t)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class Sv{constructor(){this.activeTargetIds=xx()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HM{constructor(){this.xo=new Sv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Sv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class bv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){q(Av,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){q(Av,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql=null;function kd(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===ic?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=kd(),l=this.jo(t,n.toUriEncodedString());q(mf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:c}=new URL(l),d=Xs(c);return this.Jo(t,l,u,i,d).then(p=>(q(mf,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Ms(mf,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=FM[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe="WebChannelConnection";class KM extends GM{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=kd();return new Promise((l,u)=>{const c=new $1;c.setWithCredentials(!0),c.listenOnce(X1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const p=c.getResponseJson();q(oe,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case cu.TIMEOUT:q(oe,`RPC '${t}' ${a} timed out`),u(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const m=c.getStatus();if(q(oe,`RPC '${t}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const C=g==null?void 0:g.error;if(C&&C.status&&C.message){const D=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(C.status);u(new G(D,C.message))}else u(new G(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(U.UNAVAILABLE,"Connection failed."));break;default:K(9055,{h_:t,streamId:a,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{q(oe,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);q(oe,`RPC '${t}' ${a} sending request:`,r),c.send(n,"POST",d,i,15)})}I_(t,n,i){const r=kd(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=J1(),l=Z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");q(oe,`Creating RPC '${t}' stream ${r}: ${d}`,u);const p=a.createWebChannel(d,u);this.E_(p);let m=!1,g=!1;const C=new YM({Zo:R=>{g?q(oe,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(m||(q(oe,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),q(oe,`RPC '${t}' stream ${r} sending:`,R),p.send(R))},Xo:()=>p.close()}),D=(R,E,_)=>{R.listen(E,A=>{try{_(A)}catch(M){setTimeout(()=>{throw M},0)}})};return D(p,Ma.EventType.OPEN,()=>{g||(q(oe,`RPC '${t}' stream ${r} transport opened.`),C.__())}),D(p,Ma.EventType.CLOSE,()=>{g||(g=!0,q(oe,`RPC '${t}' stream ${r} transport closed`),C.u_(),this.d_(p))}),D(p,Ma.EventType.ERROR,R=>{g||(g=!0,Ms(oe,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),C.u_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),D(p,Ma.EventType.MESSAGE,R=>{var E;if(!g){const _=R.data[0];ht(!!_,16349);const A=_,M=(A==null?void 0:A.error)||((E=A[0])===null||E===void 0?void 0:E.error);if(M){q(oe,`RPC '${t}' stream ${r} received error:`,M);const z=M.status;let j=function(T){const b=Lt[T];if(b!==void 0)return VS(b)}(z),S=M.message;j===void 0&&(j=U.INTERNAL,S="Unknown error status: "+z+" with message "+M.message),g=!0,C.u_(new G(j,S)),p.close()}else q(oe,`RPC '${t}' stream ${r} received:`,_),C.c_(_)}}),D(l,W1.STAT_EVENT,R=>{R.stat===bd.PROXY?q(oe,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===bd.NOPROXY&&q(oe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(e){return new Wx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class $S{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QS(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new G(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return q(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(q(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QM extends $S{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=tM(this.serializer,t),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?_n(a.readTime):$.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Vd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Dd(u)?{documents:iM(s,u)}:{query:rM(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=LS(s,a.resumeToken);const c=Nd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=lc(s,a.snapshotVersion.toTimestamp());const c=Nd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,t);const i=aM(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Vd(this.serializer),n.removeTarget=t,this.Q_(n)}}class $M extends $S{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=nM(t.writeResults,t.commitTime),i=_n(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Vd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>eM(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{}class WM extends XM{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,xd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,xd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ZM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wn(n),this.ua=!1):q("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="RemoteStore";class JM{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Mr(this)&&(q(br,"Restarting streams for network reachability change."),await async function(u){const c=W(u);c.da.add(4),await nl(c),c.Va.set("Unknown"),c.da.delete(4),await Kc(c)}(this))})}),this.Va=new ZM(i,r)}}async function Kc(e){if(Mr(e))for(const t of e.Aa)await t(!0)}async function nl(e){for(const t of e.Aa)await t(!1)}function XS(e,t){const n=W(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),bp(n)?Ap(n):na(n).N_()&&Sp(n,t))}function Tp(e,t){const n=W(e),i=na(n);n.Ea.delete(t),i.N_()&&WS(n,t),n.Ea.size===0&&(i.N_()?i.k_():Mr(n)&&n.Va.set("Unknown"))}function Sp(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}na(e).Z_(t)}function WS(e,t){e.ma.Ke(t),na(e).X_(t)}function Ap(e){e.ma=new Kx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),na(e).start(),e.Va.ca()}function bp(e){return Mr(e)&&!na(e).O_()&&e.Ea.size>0}function Mr(e){return W(e).da.size===0}function ZS(e){e.ma=void 0}async function tV(e){e.Va.set("Online")}async function eV(e){e.Ea.forEach((t,n)=>{Sp(e,t)})}async function nV(e,t){ZS(e),bp(e)?(e.Va.Pa(t),Ap(e)):e.Va.set("Unknown")}async function iV(e,t,n){if(e.Va.set("Online"),t instanceof kS&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){q(br,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cc(e,i)}else if(t instanceof mu?e.ma.Xe(t):t instanceof PS?e.ma.ot(t):e.ma.nt(t),!n.isEqual($.min()))try{const i=await KS(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(c);d&&s.Ea.set(c,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(ie.EMPTY_BYTE_STRING,d.snapshotVersion)),WS(s,u);const p=new bi(d.target,u,c,d.sequenceNumber);Sp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){q(br,"Failed to raise snapshot:",i),await cc(e,i)}}async function cc(e,t,n){if(!ea(t))throw t;e.da.add(1),await nl(e),e.Va.set("Offline"),n||(n=()=>KS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(br,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Kc(e)})}function JS(e,t){return t().catch(n=>cc(e,n,t))}async function Qc(e){const t=W(e),n=Yi(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:op;for(;rV(t);)try{const r=await zM(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,sV(t,r)}catch(r){await cc(t,r)}tA(t)&&eA(t)}function rV(e){return Mr(e)&&e.Ia.length<10}function sV(e,t){e.Ia.push(t);const n=Yi(e);n.N_()&&n.ea&&n.ta(t.mutations)}function tA(e){return Mr(e)&&!Yi(e).O_()&&e.Ia.length>0}function eA(e){Yi(e).start()}async function aV(e){Yi(e).ia()}async function oV(e){const t=Yi(e);for(const n of e.Ia)t.ta(n.mutations)}async function lV(e,t,n){const i=e.Ia.shift(),r=mp.from(i,t,n);await JS(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Qc(e)}async function uV(e,t){t&&Yi(e).ea&&await async function(i,r){if(function(a){return Gx(a)&&a!==U.ABORTED}(r.code)){const s=i.Ia.shift();Yi(i).L_(),await JS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qc(i)}}(e,t),tA(e)&&eA(e)}async function Rv(e,t){const n=W(e);n.asyncQueue.verifyOperationInProgress(),q(br,"RemoteStore received new credentials");const i=Mr(n);n.da.add(3),await nl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Kc(n)}async function cV(e,t){const n=W(e);t?(n.da.delete(2),await Kc(n)):t||(n.da.add(2),await nl(n),n.Va.set("Unknown"))}function na(e){return e.fa||(e.fa=function(n,i,r){const s=W(n);return s.oa(),new QM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:tV.bind(null,e),n_:eV.bind(null,e),i_:nV.bind(null,e),Y_:iV.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),bp(e)?Ap(e):e.Va.set("Unknown")):(await e.fa.stop(),ZS(e))})),e.fa}function Yi(e){return e.ga||(e.ga=function(n,i,r){const s=W(n);return s.oa(),new $M(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:aV.bind(null,e),i_:uV.bind(null,e),na:oV.bind(null,e),ra:lV.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Qc(e)):(await e.ga.stop(),e.Ia.length>0&&(q(br,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new wp(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(e,t){if(Wn("AsyncQueue",`${t}: ${e}`),ea(e))return new G(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(t){return new vs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=Va(),this.sortedSet=new Ct(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new vs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.pa=new Ct(Y.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):K(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Us{constructor(t,n,i,r,s,a,l,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Us(t,n,vs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class fV{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=W(n),s=r.queries;r.queries=Cv(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function Cv(){return new Nr(e=>SS(e),jc)}async function dV(e,t){const n=W(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new hV,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Rp(a,`Initialization of query '${Yr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&Ip(n)}async function mV(e,t){const n=W(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function pV(e,t){const n=W(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Ip(n)}function gV(e,t,n){const i=W(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Ip(e){e.Ca.forEach(t=>{t.next()})}var Ld,Dv;(Dv=Ld||(Ld={})).xa="default",Dv.Cache="cache";class yV{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Us(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Us.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.key=t}}class iA{constructor(t){this.key=t}}class _V{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.Za=AS(t),this.Xa=new vs(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new Iv,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),g=Hc(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;m&&g?m.data.isEqual(g.data)?C!==D&&(i.track({type:3,doc:g}),R=!0):this.ru(m,g)||(i.track({type:2,doc:g}),R=!0,(u&&this.Za(g,u)>0||c&&this.Za(g,c)<0)&&(l=!0)):!m&&g?(i.track({type:0,doc:g}),R=!0):m&&!g&&(i.track({type:1,doc:m}),R=!0,(u||c)&&(l=!0)),R&&(g?(a=a.add(g),s=D?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,p)=>function(g,C){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:R})}};return D(g)-D(C)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Ja;return this.Ja=u,a.length!==0||c?{snapshot:new Us(this.query,t.Xa,s,a,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=st(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new iA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new nA(i))}),n}au(t){this.Ha=t.$s,this.Ya=st();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Us.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cp="SyncEngine";class vV{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class EV{constructor(t){this.key=t,this.cu=!1}}class TV{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Nr(l=>SS(l),jc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ct(Y.comparator),this.Eu=new Map,this.du=new yp,this.Au={},this.Ru=new Map,this.Vu=Ls.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function SV(e,t,n=!0){const i=uA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await rA(i,t,n,!0),r}async function AV(e,t){const n=uA(e);await rA(n,t,!0,!1)}async function rA(e,t,n,i){const r=await BM(e.localStore,gn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await bV(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&XS(e.remoteStore,r),l}async function bV(e,t,n,i,r){e.fu=(p,m,g)=>async function(D,R,E,_){let A=R.view.tu(E);A.Cs&&(A=await Tv(D.localStore,R.query,!1).then(({documents:S})=>R.view.tu(S,A)));const M=_&&_.targetChanges.get(R.targetId),z=_&&_.targetMismatches.get(R.targetId)!=null,j=R.view.applyChanges(A,D.isPrimaryClient,M,z);return Nv(D,R.targetId,j.ou),j.snapshot}(e,p,m,g);const s=await Tv(e.localStore,t,!0),a=new _V(t,s.$s),l=a.tu(s.documents),u=el.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=a.applyChanges(l,e.isPrimaryClient,u);Nv(e,n,c.ou);const d=new vV(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function wV(e,t,n){const i=W(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!jc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Pd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Tp(i.remoteStore,r.targetId),Ud(i,r.targetId)}).catch(ta)):(Ud(i,r.targetId),await Pd(i.localStore,r.targetId,!0))}async function RV(e,t){const n=W(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Tp(n.remoteStore,i.targetId))}async function IV(e,t,n){const i=VV(e);try{const r=await function(a,l){const u=W(a),c=qt.now(),d=l.reduce((g,C)=>g.add(C.key),st());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=Zn(),D=st();return u.Bs.getEntries(g,d).next(R=>{C=R,C.forEach((E,_)=>{_.isValidDocument()||(D=D.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,C)).next(R=>{p=R;const E=[];for(const _ of l){const A=Bx(_,p.get(_.key).overlayedDocument);A!=null&&E.push(new xr(_.key,A,mS(A.value.mapValue),yn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,E,l)}).next(R=>{m=R;const E=R.applyToLocalDocumentSet(p,D);return u.documentOverlayCache.saveOverlays(g,R.batchId,E)})}).then(()=>({batchId:m.batchId,changes:wS(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Au[a.currentUser.toKey()];c||(c=new Ct(tt)),c=c.insert(l,u),a.Au[a.currentUser.toKey()]=c}(i,r.batchId,n),await il(i,r.changes),await Qc(i.remoteStore)}catch(r){const s=Rp(r,"Failed to persist write");n.reject(s)}}async function sA(e,t){const n=W(e);try{const i=await LM(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(ht(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?ht(a.cu,14607):r.removedDocuments.size>0&&(ht(a.cu,42227),a.cu=!1))}),await il(n,i,t)}catch(i){await ta(i)}}function Ov(e,t,n){const i=W(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=W(a);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.Fa(l)&&(c=!0)}),c&&Ip(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function CV(e,t,n){const i=W(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Ct(Y.comparator);a=a.insert(s,ue.newNoDocument(s,$.min()));const l=st().add(s),u=new Gc($.min(),new Map,new Ct(tt),a,l);await sA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),Dp(i)}else await Pd(i.localStore,t,!1).then(()=>Ud(i,t,n)).catch(ta)}async function DV(e,t){const n=W(e),i=t.batch.batchId;try{const r=await kM(n.localStore,t);oA(n,i,null),aA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await il(n,r)}catch(r){await ta(r)}}async function OV(e,t,n){const i=W(e);try{const r=await function(a,l){const u=W(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ht(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,t);oA(i,t,n),aA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await il(i,r)}catch(r){await ta(r)}}function aA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function oA(e,t,n){const i=W(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Ud(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||lA(e,i)})}function lA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Tp(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Dp(e))}function Nv(e,t,n){for(const i of n)i instanceof nA?(e.du.addReference(i.key,t),NV(e,i)):i instanceof iA?(q(Cp,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||lA(e,i.key)):K(19791,{pu:i})}function NV(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(q(Cp,"New document in limbo: "+n),e.Tu.add(i),Dp(e))}function Dp(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Y(At.fromString(t)),i=e.Vu.next();e.Eu.set(i,new EV(n)),e.Iu=e.Iu.insert(n,i),XS(e.remoteStore,new bi(gn(TS(n.path)),i,"TargetPurposeLimboResolution",Lc.le))}}async function il(e,t,n){const i=W(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){r.push(c);const p=vp.Rs(u.targetId,c);s.push(p)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,c){const d=W(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(c,m=>k.forEach(m.ds,g=>d.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>k.forEach(m.As,g=>d.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!ea(p))throw p;q(Ep,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const g=d.xs.get(m),C=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(C);d.xs=d.xs.insert(m,D)}}}(i.localStore,s))}async function xV(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){q(Cp,"User change. New user:",t.toKey());const i=await YS(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new G(U.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await il(n,i.ks)}}function MV(e,t){const n=W(e),i=n.Eu.get(t);if(i&&i.cu)return st().add(i.key);{let r=st();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function uA(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CV.bind(null,t),t.lu.Y_=pV.bind(null,t.eventManager),t.lu.gu=gV.bind(null,t.eventManager),t}function VV(e){const t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OV.bind(null,t),t}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return PM(this.persistence,new xM,t.initialUser,this.serializer)}Su(t){return new GS(_p.fi,this.serializer)}bu(t){return new HM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class PV extends hc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){ht(this.persistence.referenceDelegate instanceof uc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new yM(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Se.withCacheSize(this.cacheSizeBytes):Se.DEFAULT;return new GS(i=>uc.fi(i,n),this.serializer)}}class zd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xV.bind(null,this.syncEngine),await cV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fV}()}createDatastore(t){const n=Yc(t.databaseInfo.databaseId),i=function(s){return new KM(s)}(t.databaseInfo);return function(s,a,l,u){return new WM(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new JM(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Ov(this.syncEngine,n,0),function(){return bv.C()?new bv:new qM}())}createSyncEngine(t,n){return function(r,s,a,l,u,c,d){const p=new TV(r,s,a,l,u,c);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=W(r);q(br,"RemoteStore shutting down."),s.da.add(5),await nl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Wn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class LV{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=le.UNAUTHENTICATED,this.clientId=iS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(Ki,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(Ki,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Rp(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function gf(e,t){e.asyncQueue.verifyOperationInProgress(),q(Ki,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await YS(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function xv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await UV(e);q(Ki,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Rv(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Rv(t.remoteStore,r)),e._onlineComponents=t}async function UV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Ki,"Using user provided OfflineComponentProvider");try{await gf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await gf(e,new hc)}}else q(Ki,"Using default OfflineComponentProvider"),await gf(e,new PV(void 0));return e._offlineComponents}async function cA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Ki,"Using user provided OnlineComponentProvider"),await xv(e,e._uninitializedComponentsProvider._online)):(q(Ki,"Using default OnlineComponentProvider"),await xv(e,new zd))),e._onlineComponents}function zV(e){return cA(e).then(t=>t.syncEngine)}async function BV(e){const t=await cA(e),n=t.eventManager;return n.onListen=SV.bind(null,t.syncEngine),n.onUnlisten=wV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RV.bind(null,t.syncEngine),n}function jV(e,t,n={}){const i=new Li;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const d=new kV({next:m=>{d.xu(),a.enqueueAndForget(()=>mV(s,p)),m.fromCache&&u.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new yV(l,d,{includeMetadataChanges:!0,Qa:!0});return dV(s,p)}(await BV(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e,t,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function HV(e,t,n,i){if(t===!0&&i===!0)throw new G(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vv(e){if(!Y.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pv(e){if(Y.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Op(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K(12329,{type:typeof e})}function Co(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(e);throw new G(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",kv=!0;class Lv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pM)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $c{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new GN;switch(i.type){case"firstParty":return new $N(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Mv.get(n);i&&(q("ComponentProvider","Removing Datastore"),Mv.delete(n),i.terminate())}(this),Promise.resolve()}}function qV(e,t,n,i={}){var r;e=Co(e,$c);const s=Xs(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(s1(`https://${u}`),a1("Firestore",!0)),a.host!==dA&&a.host!==u&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!vr(c,l)&&(e._setSettings(c),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=le.MOCK_USER;else{d=XC(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new le(m)}e._authCredentials=new YN(new eS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xc(this.firestore,t,this._query)}}class tn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Ui extends Xc{constructor(t,n,i){super(t,n,TS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new Y(t))}withConverter(t){return new Ui(this.firestore,t,this._path)}}function Uv(e,t,...n){if(e=ye(e),fA("collection","path",t),e instanceof $c){const i=At.fromString(t,...n);return Pv(i),new Ui(e,null,i)}{if(!(e instanceof tn||e instanceof Ui))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return Pv(i),new Ui(e.firestore,null,i)}}function mA(e,t,...n){if(e=ye(e),arguments.length===1&&(t=iS.newId()),fA("doc","path",t),e instanceof $c){const i=At.fromString(t,...n);return Vv(i),new tn(e,null,new Y(i))}{if(!(e instanceof tn||e instanceof Ui))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return Vv(i),new tn(e.firestore,e instanceof Ui?e.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class Bv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QS(this,"async_queue_retry"),this.rc=()=>{const i=pf();i&&q(zv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Li;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ea(t))throw t;q(zv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Wn("INTERNAL UNHANDLED ERROR: ",jv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=wp.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&K(47125,{cc:jv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function jv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wc extends $c{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Bv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bv(t),this._firestoreClient=void 0,await t}}}function FV(e,t){const n=typeof e=="object"?e:c1(),i=typeof e=="string"?e:t||ic,r=Xm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=QC("firestore");s&&qV(r,...s)}return r}function pA(e){if(e._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GV(e),e._firestoreClient}function GV(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,c,d){return new cx(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new LV(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zs(ie.fromBase64String(t))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zs(ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tt(this._lat,t._lat)||tt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=/^__.*__$/;class KV{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new xr(t,this.data,this.fieldMask,n,this.fieldTransforms):new tl(t,this.data,n,this.fieldTransforms)}}function gA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ic:e})}}class Pp{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Pp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return fc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(gA(this.Ic)&&YV.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class QV{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Yc(t)}bc(t,n,i,r=!1){return new Pp({Ic:t,methodName:n,wc:i,path:ee.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $V(e){const t=e._freezeSettings(),n=Yc(e._databaseId);return new QV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function XV(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);EA("Data must be an object, but it was:",a,i);const l=_A(i,a);let u,c;if(s.merge)u=new Ze(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=WV(t,p,n);if(!a.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JV(d,m)||d.push(m)}u=new Ze(d),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new KV(new qe(l),u,c)}class kp extends xp{_toFieldTransform(t){return new kx(t.path,new wo)}isEqual(t){return t instanceof kp}}function yA(e,t){if(vA(e=ye(e)))return EA("Unsupported field value:",t,e),_A(e,t);if(e instanceof xp)return function(i,r){if(!gA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=yA(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Mx(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=qt.fromDate(i);return{timestampValue:lc(r.serializer,s)}}if(i instanceof qt){const s=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lc(r.serializer,s)}}if(i instanceof Mp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zs)return{bytesValue:LS(r.serializer,i._byteString)};if(i instanceof tn){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Vp)return function(a,l){return{mapValue:{fields:{[hS]:{stringValue:dS},[rc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.gc("VectorValues must only contain numeric values.");return fp(l.serializer,c)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Op(i)}`)}(e,t)}function _A(e,t){const n={};return sS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Or(e,(i,r)=>{const s=yA(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function vA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof Mp||e instanceof zs||e instanceof tn||e instanceof xp||e instanceof Vp)}function EA(e,t,n){if(!vA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Op(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function WV(e,t,n){if((t=ye(t))instanceof Np)return t._internalPath;if(typeof t=="string")return TA(e,t);throw fc("Field path arguments must be of type string or ",e,!1,void 0,n)}const ZV=new RegExp("[~\\*/\\[\\]]");function TA(e,t,n){if(t.search(ZV)>=0)throw fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Np(...t.split("."))._internalPath}catch{throw fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(U.INVALID_ARGUMENT,l+e+u)}function JV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(AA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t4 extends SA{data(){return super.data()}}function AA(e,t){return typeof t=="string"?TA(e,t):t instanceof Np?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n4{convertValue(t,n="none"){switch(Gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw K(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Or(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[rc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Pt(a.doubleValue));return new Vp(s)}convertGeoPoint(t){return new Mp(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=zc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const n=qi(t);return new qt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=At.fromString(t);ht(qS(i),9688,{name:t});const r=new Ao(i.get(1),i.get(3)),s=new Y(i.popFirst(5));return r.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class r4 extends SA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(AA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class pu extends r4{data(t={}){return super.data(t)}}class s4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new pu(this._firestore,this._userDataWriter,i.key,i,new Fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new pu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new pu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:a4(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:e})}}class o4 extends n4{constructor(t){super(),this.firestore=t}convertBytes(t){return new zs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function l4(e){e=Co(e,Xc);const t=Co(e.firestore,Wc),n=pA(t),i=new o4(t);return e4(e._query),jV(n,e._query).then(r=>new s4(t,i,e,r))}function u4(e){return bA(Co(e.firestore,Wc),[new dp(e._key,yn.none())])}function c4(e,t){const n=Co(e.firestore,Wc),i=mA(e),r=i4(e.converter,t);return bA(n,[XV($V(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then(()=>i)}function bA(e,t){return function(i,r){const s=new Li;return i.asyncQueue.enqueueAndForget(async()=>IV(await zV(i),r,s)),s.promise}(pA(e),t)}function h4(){return new kp("serverTimestamp")}(function(t,n=!0){(function(r){Js=r})(Ws),Ns(new Er("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Wc(new KN(i.getProvider("auth-internal")),new XN(a,i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(c.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Pi(G_,Y_,t),Pi(G_,Y_,"esm2017")})();const f4={apiKey:"AIzaSyDFflttj1FRwdl-8TvwwlCb4yZv9-Pt1xE",authDomain:"booketeers-771a1.firebaseapp.com",projectId:"booketeers-771a1"},wA=u1(f4),Bs=qN(wA),yf=FV(wA);function d4(){const[e,t]=V.useState(null),n=Yo();V.useEffect(()=>{const r=L1(Bs,s=>{t(s)});return()=>r()},[]);const i=async()=>{await xO(Bs),n("/")};return O.jsx("header",{className:"header",role:"banner",children:O.jsxs("div",{className:"container header-content",children:[O.jsxs("div",{className:"logo","aria-label":"Logo",children:[O.jsx("img",{src:"images/logo.png",alt:"3 Booketeers logo"}),O.jsx("span",{children:"The 3 Booketeers"})]}),O.jsxs("nav",{className:"nav","aria-label":"Main navigation",children:[O.jsx(ln,{to:"/",children:"Home"}),O.jsx(ln,{to:"/bookclub",children:"Book Club"}),e?O.jsx(ln,{to:"/blog",children:"Blog"}):O.jsxs("div",{className:"disabled-link-wrapper",children:[O.jsx("span",{className:"disabled-link",children:"Blog"}),O.jsx("div",{className:"tooltip",children:"Please sign in to view"})]}),O.jsx(ln,{to:"/search",children:"Book Search"}),e?O.jsx("button",{onClick:i,className:"btn-signup",children:"Sign Out"}):O.jsxs(O.Fragment,{children:[O.jsx(ln,{to:"/signin",children:"Sign In"}),O.jsx(ln,{to:"/signup",children:O.jsx("button",{className:"btn-signup",children:"Sign Up"})})]})]})]})})}function m4(){return O.jsx("footer",{className:"footer",role:"contentinfo",children:O.jsxs("div",{className:"container footer-content",children:[O.jsx("p",{children:"© 2025 The 3 Booketeers"}),O.jsxs("div",{className:"social","aria-label":"Social links",children:[O.jsx("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer",children:"FB"}),O.jsx("a",{href:"https://x.com/?lang=en",target:"_blank",rel:"noopener noreferrer",children:"X"}),O.jsx("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",children:"IG"})]})]})})}function p4(){return O.jsx("section",{className:"hero",style:{background:"url(images/fireplace.png) center/cover no-repeat",height:"60vh"}})}const g4=[{title:"Build your own book club and connect with people from all over the world",img:"images/connect.png",to:"/bookclub"},{title:"User-made reviews and recommendations",img:"images/reviews.png",to:"/blog"}],y4=[{title:"Use forums to connect/discuss with other users",img:"images/forums.png",to:"/blog"},{title:"Recommended locations for clubs",img:"images/locations.png",to:"/bookclub"},{title:"Subscribe for notifications about new literary hits",img:"images/subscribe.png",to:"/signin"}];function _4(){return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"row-two container",children:g4.map((e,t)=>O.jsxs(ln,{to:e.to,className:"card",children:[O.jsx("img",{src:e.img,alt:e.title,className:"card-bg"}),O.jsx("div",{className:"overlay",children:O.jsx("h3",{children:e.title})})]},t))}),O.jsx("div",{className:"row-three container",children:y4.map((e,t)=>O.jsxs(ln,{to:e.to,className:"card",children:[O.jsx("img",{src:e.img,alt:e.title,className:"card-bg"}),O.jsx("div",{className:"overlay",children:O.jsx("h3",{children:e.title})})]},t))})]})}function v4(){const[e,t]=V.useState(""),[n,i]=V.useState(!1),r=s=>{s.preventDefault(),i(!0)};return O.jsxs("section",{className:"subscribe-banner container",children:[O.jsx("div",{className:"text",children:n?O.jsxs("div",{className:"thank-you",children:[O.jsx("h2",{children:"Thanks for entering!"}),O.jsx("p",{children:"You'll hear from us if you win 🎉"})]}):O.jsxs(O.Fragment,{children:[O.jsx("h2",{children:"Free book raffle: submit your email to enter!"}),O.jsxs("form",{"aria-label":"Book raffle form",onSubmit:r,children:[O.jsx("input",{type:"email",placeholder:"Your email address",value:e,onChange:s=>t(s.target.value),required:!0}),O.jsx("button",{type:"submit",className:"btn-signup",children:"Enter to Win"})]})]})}),O.jsx("div",{className:"image",children:O.jsx("img",{src:"images/raffle.gif",alt:"Stack of books with raffle ticket",className:"subscribe-gif"})})]})}function E4(){return O.jsxs(O.Fragment,{children:[O.jsx(p4,{}),O.jsx("section",{className:"features-container container",children:O.jsx(_4,{})}),O.jsx(v4,{})]})}const RA=V.createContext();function IA(){return V.useContext(RA)}function T4({children:e}){const[t,n]=V.useState(null),[i,r]=V.useState(!0);return V.useEffect(()=>L1(Bs,a=>{n(a),r(!1)}),[]),O.jsx(RA.Provider,{value:{user:t},children:i?O.jsx("div",{children:"Loading..."}):e})}function S4(){const{user:e}=IA();if(!e)return O.jsx(Gm,{to:"/signin",replace:!0});const[t,n]=V.useState(""),[i,r]=V.useState(""),[s,a]=V.useState(""),[l,u]=V.useState(""),[c,d]=V.useState([]),p=async g=>{if(g.preventDefault(),!t)return;const C={name:t,location:i,books:s,comment:l,owner:e.uid,createdAt:h4()},D=await c4(Uv(yf,"bookclubs"),C);d([...c,{id:D.id,...C}]),n(""),r(""),a(""),u("")},m=async g=>{await u4(mA(yf,"bookclubs",g)),d(c.filter(C=>C.id!==g))};return V.useEffect(()=>{(async()=>{const C=await l4(Uv(yf,"bookclubs"));d(C.docs.map(D=>({id:D.id,...D.data()})))})()},[]),O.jsxs("main",{className:"bookclub-container",children:[O.jsx("h1",{children:"Book Clubs"}),O.jsxs("form",{className:"club-form",onSubmit:p,children:[O.jsxs("label",{children:["Club Name",O.jsx("input",{type:"text",value:t,onChange:g=>n(g.target.value),required:!0})]}),O.jsxs("label",{children:["Location",O.jsx("input",{type:"text",value:i,onChange:g=>r(g.target.value)})]}),O.jsxs("label",{children:["Book Type(s)",O.jsx("input",{type:"text",value:s,onChange:g=>a(g.target.value),placeholder:"e.g. Sci-fi, Mystery…"})]}),O.jsxs("label",{children:["Comment",O.jsx("textarea",{value:l,onChange:g=>u(g.target.value),rows:"2"})]}),O.jsx("button",{type:"submit",className:"btn-signup",children:c.length?"Add Another Club":"Add Club"})]}),O.jsx("section",{className:"club-list",children:c.map(g=>O.jsxs("div",{className:"club-card",children:[O.jsx("h3",{children:O.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g.location)}`,target:"_blank",rel:"noopener noreferrer",children:g.name})}),g.location&&O.jsxs("p",{children:[O.jsx("strong",{children:"Location:"})," ",g.location]}),g.books&&O.jsxs("p",{children:[O.jsx("strong",{children:"Books:"})," ",g.books]}),g.comment&&O.jsx("p",{children:O.jsxs("em",{children:['"',g.comment,'"']})}),g.owner===(e==null?void 0:e.uid)&&O.jsx("button",{onClick:()=>m(g.id),className:"btn-delete",children:"Remove"})]},g.id))})]})}const A4=[{id:1,title:"The Hobbit",content:"Bilbo Baggins goes on an unexpected adventure …",comments:[{id:1,name:"Alice",text:"Loved the sense of wonder!"},{id:2,name:"Bob",text:"Such a fun read."}]},{id:2,title:"1984",content:"A chilling vision of a dystopian future …",comments:[{id:3,name:"Carol",text:"Remarkably relevant today."}]},{id:3,title:"Pride and Prejudice",content:"A classic tale of love and misunderstandings.",comments:[{id:4,name:"Jane",text:"Timeless characters and drama."},{id:5,name:"Tom",text:"A bit slow, but worth it."}]},{id:4,title:"Dune",content:"An epic saga of politics, prophecy, and desert survival.",comments:[{id:6,name:"Frank",text:"Mind-blowing world-building!"}]},{id:5,title:"The Catcher in the Rye",content:"A teenager’s internal struggles with society and identity.",comments:[{id:7,name:"Sally",text:"Very raw and relatable."},{id:8,name:"Mark",text:"Didn’t enjoy the narration."},{id:9,name:"Lucy",text:"A unique perspective."}]}];function b4(){const{user:e,loading:t}=IA();if(t)return O.jsx("div",{children:"Loading..."});if(!e)return O.jsx(Gm,{to:"/signin",replace:!0});const[n,i]=V.useState(A4),[r,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState({}),d=m=>{m.preventDefault(),!(!r||!a)&&(i([...n,{id:Date.now(),title:r,content:a,comments:[]}]),s(""),l(""))},p=(m,g)=>{g.preventDefault();const C=(u[m]||"").trim();C&&(i(n.map(D=>D.id===m?{...D,comments:[...D.comments,{id:Date.now(),name:"You",text:C}]}:D)),c({...u,[m]:""}))};return O.jsxs("main",{className:"container",children:[O.jsx("h1",{children:"Book Club Blog"}),O.jsxs("form",{className:"blog-form",onSubmit:d,children:[O.jsxs("label",{children:["Title",O.jsx("input",{type:"text",value:r,onChange:m=>s(m.target.value),required:!0})]}),O.jsxs("label",{children:["Content",O.jsx("textarea",{value:a,onChange:m=>l(m.target.value),rows:"3",required:!0})]}),O.jsx("button",{type:"submit",className:"btn-signup",children:n.length?"Add Another Post":"Create First Post"})]}),O.jsx("div",{className:"blog-wrapper",children:n.map(m=>O.jsxs("div",{className:"blog-post",children:[O.jsx("h2",{children:m.title}),O.jsx("p",{children:m.content}),O.jsx("div",{className:"comment-list",children:m.comments.map(g=>O.jsxs("p",{children:[O.jsxs("strong",{children:[g.name,":"]})," ",g.text]},g.id))}),O.jsxs("form",{className:"comment-form",onSubmit:g=>p(m.id,g),children:[O.jsx("input",{type:"text",placeholder:"Write a comment…",value:u[m.id]||"",onChange:g=>c({...u,[m.id]:g.target.value})}),O.jsx("button",{type:"submit",className:"btn-signup",children:"Comment"})]})]},m.id))})]})}function w4(){const[e,t]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(""),d=Yo(),p=async g=>{g.preventDefault(),s(""),l("");try{await IO(Bs,e,n),l("Sign in successful! Redirecting..."),setTimeout(()=>{d("/")},1500)}catch(C){s(C.message)}},m=async()=>{if(c(""),s(""),!e){s("Please enter your email above to reset your password.");return}try{await wO(Bs,e),c("Password reset email sent! Check your inbox.")}catch(g){s(g.message)}};return O.jsxs("main",{className:"container auth-container",children:[O.jsx("h1",{children:"Sign In"}),O.jsxs("form",{"aria-label":"Sign in form",onSubmit:p,children:[O.jsxs("label",{children:["Email",O.jsx("input",{type:"email",value:e,onChange:g=>t(g.target.value),required:!0})]}),O.jsxs("label",{children:["Password",O.jsx("input",{type:"password",value:n,onChange:g=>i(g.target.value),required:!0})]}),O.jsx("button",{type:"submit",children:"Sign In"}),O.jsx("button",{type:"button",style:{background:"none",color:"var(--clr-secondary)",border:"none",textDecoration:"underline",cursor:"pointer",marginLeft:"1rem"},onClick:m,children:"Forgot password?"}),r&&O.jsx("div",{className:"error",children:r}),a&&O.jsx("div",{className:"success",style:{color:"green",marginTop:"1rem"},children:a}),u&&O.jsx("div",{className:"success",style:{color:"green",marginTop:"1rem"},children:u})]})]})}function R4(){const[e,t]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(""),d=Yo(),p=async m=>{m.preventDefault(),l(""),c("");try{const g=await RO(Bs,n,r);e&&await DO(g.user,{displayName:e}),c("Sign up successful! Redirecting..."),setTimeout(()=>{d("/")},1500)}catch(g){l(g.message)}};return O.jsxs("main",{className:"container auth-container",children:[O.jsx("h1",{children:"Sign Up"}),O.jsxs("form",{"aria-label":"Sign up form",onSubmit:p,children:[O.jsxs("label",{children:["Name",O.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),required:!0})]}),O.jsxs("label",{children:["Email",O.jsx("input",{type:"email",value:n,onChange:m=>i(m.target.value),required:!0})]}),O.jsxs("label",{children:["Password",O.jsx("input",{type:"password",value:r,onChange:m=>s(m.target.value),required:!0})]}),O.jsx("button",{type:"submit",children:"Create Account"}),a&&O.jsx("div",{className:"error",children:a}),u&&O.jsx("div",{className:"success",style:{color:"green",marginTop:"1rem"},children:u})]})]})}const _f=[{value:"intitle",label:"Title"},{value:"inauthor",label:"Author"}],I4=[{value:"title",label:"Title"},{value:"author",label:"Author"},{value:"year",label:"Year"}];function C4(){const[e,t]=V.useState(""),[n,i]=V.useState(_f[0].value),[r,s]=V.useState([]),[a,l]=V.useState(""),[u,c]=V.useState("title"),[d,p]=V.useState(!1),[m,g]=V.useState(""),C=async R=>{if(R.preventDefault(),l(""),s([]),!!e.trim())try{const E=`${n}:${e}`,A=await(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(E)}&maxResults=40`)).json();A.items?s(A.items):(s([]),l("No books found."))}catch{l("Error fetching books.")}};let D=r;return d&&(D=D.filter(R=>R.volumeInfo.imageLinks&&R.volumeInfo.imageLinks.thumbnail)),m&&(D=D.filter(R=>{var _;const E=(_=R.volumeInfo.publishedDate)==null?void 0:_.slice(0,4);return E&&parseInt(E)>=parseInt(m)})),D=[...D].sort((R,E)=>{if(u==="title")return(R.volumeInfo.title||"").localeCompare(E.volumeInfo.title||"");if(u==="author"){const _=R.volumeInfo.authors?R.volumeInfo.authors[0]:"",A=E.volumeInfo.authors?E.volumeInfo.authors[0]:"";return _.localeCompare(A)}if(u==="year"){const _=R.volumeInfo.publishedDate?parseInt(R.volumeInfo.publishedDate.slice(0,4)):0;return(E.volumeInfo.publishedDate?parseInt(E.volumeInfo.publishedDate.slice(0,4)):0)-_}return 0}),O.jsxs("section",{className:"container",children:[O.jsx("h2",{children:"Book Search"}),O.jsxs("form",{onSubmit:C,style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[O.jsx("select",{value:n,onChange:R=>i(R.target.value),style:{padding:"0.5rem",borderRadius:"4px"},children:_f.map(R=>O.jsx("option",{value:R.value,children:R.label},R.value))}),O.jsx("input",{type:"text",placeholder:`Search by ${_f.find(R=>R.value===n).label.toLowerCase()}...`,value:e,onChange:R=>t(R.target.value),required:!0,style:{flex:1,padding:"0.5rem",borderRadius:"4px"}}),O.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",borderRadius:"20px",background:"var(--clr-secondary)",color:"#fff",border:"none",fontWeight:"bold"},children:"Search"})]}),O.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"},children:[O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:d,onChange:R=>p(R.target.checked)})," ","Only with covers"]}),O.jsxs("label",{children:["Min Year:"," ",O.jsx("input",{type:"number",value:m,onChange:R=>g(R.target.value),style:{width:"80px",marginLeft:"0.25rem"},min:"0",max:new Date().getFullYear(),placeholder:"e.g. 2000"})]}),O.jsxs("label",{children:["Sort by:"," ",O.jsx("select",{value:u,onChange:R=>c(R.target.value),style:{padding:"0.25rem",borderRadius:"4px",marginLeft:"0.25rem"},children:I4.map(R=>O.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),a&&O.jsx("div",{className:"error",children:a}),O.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem"},children:D.map(R=>{var E;return O.jsxs("div",{style:{background:"#fff",borderRadius:"0.5rem",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"1rem",textAlign:"center"},children:[((E=R.volumeInfo.imageLinks)==null?void 0:E.thumbnail)&&O.jsx("img",{src:R.volumeInfo.imageLinks.thumbnail,alt:R.volumeInfo.title,style:{height:"120px",marginBottom:"0.5rem"}}),O.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem"},children:R.volumeInfo.title}),R.volumeInfo.authors&&O.jsx("div",{style:{fontSize:"0.95em",color:"#555"},children:R.volumeInfo.authors.join(", ")}),R.volumeInfo.publishedDate&&O.jsx("div",{style:{fontSize:"0.9em",color:"#888"},children:R.volumeInfo.publishedDate})]},R.id)})})]})}function D4(){return console.log("App component rendered"),O.jsxs(O.Fragment,{children:[O.jsx(d4,{}),O.jsx("main",{children:O.jsxs(sC,{children:[O.jsx(ui,{path:"/",element:O.jsx(E4,{})}),O.jsx(ui,{path:"/bookclub",element:O.jsx(S4,{})}),O.jsx(ui,{path:"/blog",element:O.jsx(b4,{})}),O.jsx(ui,{path:"/signin",element:O.jsx(w4,{})}),O.jsx(ui,{path:"/signup",element:O.jsx(R4,{})}),O.jsx(ui,{path:"/search",element:O.jsx(C4,{})})," ",O.jsx(ui,{path:"*",element:O.jsx(Gm,{to:"/",replace:!0})})]})}),O.jsx(m4,{})]})}nI.createRoot(document.getElementById("root")).render(O.jsx(Sb.StrictMode,{children:O.jsx(T4,{children:O.jsx(OC,{children:O.jsx(D4,{})})})}));
